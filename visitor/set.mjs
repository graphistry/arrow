// Licensed to the Apache Software Foundation (ASF) under one
// or more contributor license agreements.  See the NOTICE file
// distributed with this work for additional information
// regarding copyright ownership.  The ASF licenses this file
// to you under the Apache License, Version 2.0 (the
// "License"); you may not use this file except in compliance
// with the License.  You may obtain a copy of the License at
//
//   http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing,
// software distributed under the License is distributed on an
// "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
// KIND, either express or implied.  See the License for the
// specific language governing permissions and limitations
// under the License.
import { Visitor } from '../visitor';
import { encodeUtf8 } from '../util/utf8';
import { UnionMode, Precision, DateUnit, TimeUnit, IntervalUnit } from '../enum';
export class SetVisitor extends Visitor {
}
const setEpochMsToDays = (data, index, epochMs) => { data[index] = (epochMs / 86400000) | 0; };
const setEpochMsToMillisecondsLong = (data, index, epochMs) => {
    data[index] = (epochMs % 4294967296) | 0;
    data[index + 1] = (epochMs / 4294967296) | 0;
};
const setEpochMsToMicrosecondsLong = (data, index, epochMs) => {
    data[index] = ((epochMs * 1000) % 4294967296) | 0;
    data[index + 1] = ((epochMs * 1000) / 4294967296) | 0;
};
const setEpochMsToNanosecondsLong = (data, index, epochMs) => {
    data[index] = ((epochMs * 1000000) % 4294967296) | 0;
    data[index + 1] = ((epochMs * 1000000) / 4294967296) | 0;
};
const setVariableWidthBytes = (values, valueOffsets, index, value) => {
    const { [index]: x, [index + 1]: y } = valueOffsets;
    if (x != null && y != null) {
        values.set(value.subarray(0, y - x), x);
    }
};
const setBool = ({ offset, values }, index, val) => {
    const idx = offset + index;
    val ? (values[idx >> 3] |= (1 << (idx % 8))) // true
        : (values[idx >> 3] &= ~(1 << (idx % 8))); // false
};
const setDateDay = ({ values }, index, value) => { setEpochMsToDays(values, index, value.valueOf()); };
const setDateMillisecond = ({ values }, index, value) => { setEpochMsToMillisecondsLong(values, index * 2, value.valueOf()); };
const setNumeric = ({ stride, values }, index, value) => { values[stride * index] = value; };
const setFloat16 = ({ stride, values }, index, value) => { values[stride * index] = (value * 32767) + 32767; };
const setNumericX2 = ({ stride, values }, index, value) => { values.set(value.subarray(0, stride), stride * index); };
const setFixedSizeBinary = ({ stride, values }, index, value) => { values.set(value.subarray(0, stride), stride * index); };
const setBinary = ({ values, valueOffsets }, index, value) => setVariableWidthBytes(values, valueOffsets, index, value);
const setUtf8 = ({ values, valueOffsets }, index, value) => {
    setVariableWidthBytes(values, valueOffsets, index, encodeUtf8(value));
};
/* istanbul ignore next */
const setInt = (vector, index, value) => {
    vector.type.bitWidth < 64
        ? setNumeric(vector, index, value)
        : setNumericX2(vector, index, value);
};
/* istanbul ignore next */
const setFloat = (vector, index, value) => {
    vector.type.precision !== Precision.HALF
        ? setNumeric(vector, index, value)
        : setFloat16(vector, index, value);
};
/* istanbul ignore next */
const getDate = (vector, index, value) => {
    vector.type.unit === DateUnit.DAY
        ? setDateDay(vector, index, value)
        : setDateMillisecond(vector, index, value);
};
const setTimestampSecond = ({ values }, index, value) => setEpochMsToMillisecondsLong(values, index * 2, value / 1000);
const setTimestampMillisecond = ({ values }, index, value) => setEpochMsToMillisecondsLong(values, index * 2, value);
const setTimestampMicrosecond = ({ values }, index, value) => setEpochMsToMicrosecondsLong(values, index * 2, value);
const setTimestampNanosecond = ({ values }, index, value) => setEpochMsToNanosecondsLong(values, index * 2, value);
/* istanbul ignore next */
const setTimestamp = (vector, index, value) => {
    switch (vector.type.unit) {
        case TimeUnit.SECOND: return setTimestampSecond(vector, index, value);
        case TimeUnit.MILLISECOND: return setTimestampMillisecond(vector, index, value);
        case TimeUnit.MICROSECOND: return setTimestampMicrosecond(vector, index, value);
        case TimeUnit.NANOSECOND: return setTimestampNanosecond(vector, index, value);
    }
};
const setTimeSecond = ({ values, stride }, index, value) => { values[stride * index] = value; };
const setTimeMillisecond = ({ values, stride }, index, value) => { values[stride * index] = value; };
const setTimeMicrosecond = ({ values }, index, value) => { values.set(value.subarray(0, 2), 2 * index); };
const setTimeNanosecond = ({ values }, index, value) => { values.set(value.subarray(0, 2), 2 * index); };
/* istanbul ignore next */
const setTime = (vector, index, value) => {
    switch (vector.type.unit) {
        case TimeUnit.SECOND: return setTimeSecond(vector, index, value);
        case TimeUnit.MILLISECOND: return setTimeMillisecond(vector, index, value);
        case TimeUnit.MICROSECOND: return setTimeMicrosecond(vector, index, value);
        case TimeUnit.NANOSECOND: return setTimeNanosecond(vector, index, value);
    }
};
const setDecimal = ({ values }, index, value) => { values.set(value.subarray(0, 4), 4 * index); };
const setList = (vector, index, value) => {
    const values = vector.getChildAt(0);
    const { valueOffsets, stride } = vector;
    let idx = -1, offset = valueOffsets[index * stride];
    let end = Math.min(value.length, valueOffsets[(index * stride) + 1] - offset);
    while (offset < end) {
        values.set(offset++, value.get(++idx));
    }
};
const setNested = (vector, index, value) => {
    vector.type.children.forEach(({ name }, idx) => {
        const kid = vector.getChildAt(idx);
        kid && kid.set(index, value[name]);
    });
};
/* istanbul ignore next */
const setUnion = (vector, index, value) => {
    vector.type.mode === UnionMode.Dense ?
        setDenseUnion(vector, index, value) :
        setSparseUnion(vector, index, value);
};
const setDenseUnion = (vector, index, value) => {
    const { typeIds, type: { typeIdToChildIndex } } = vector;
    const child = vector.getChildAt(typeIdToChildIndex[typeIds[index]]);
    child && child.set(vector.valueOffsets[index], value);
};
const setSparseUnion = (vector, index, value) => {
    const { typeIds, type: { typeIdToChildIndex } } = vector;
    const child = vector.getChildAt(typeIdToChildIndex[typeIds[index]]);
    child && child.set(index, value);
};
const setDictionary = (vector, index, value) => {
    const key = vector.getKey(index);
    if (key !== null) {
        vector.setValue(key, value);
    }
};
/* istanbul ignore next */
const setIntervalValue = (vector, index, value) => {
    (vector.type.unit === IntervalUnit.DAY_TIME)
        ? setIntervalDayTime(vector, index, value)
        : setIntervalYearMonth(vector, index, value);
};
const setIntervalDayTime = ({ values }, index, value) => { values.set(value.subarray(0, 2), 2 * index); };
const setIntervalYearMonth = ({ values }, index, value) => { values[index] = (value[0] * 12) + (value[1] % 12); };
const setFixedSizeList = (vector, index, value) => {
    const child = vector.getChildAt(0), { stride } = vector;
    for (let idx = -1, offset = index * stride; ++idx < stride;) {
        child.set(offset + idx, value.get(idx));
    }
};
SetVisitor.prototype.visitBool = setBool;
SetVisitor.prototype.visitInt = setInt;
SetVisitor.prototype.visitInt8 = setNumeric;
SetVisitor.prototype.visitInt16 = setNumeric;
SetVisitor.prototype.visitInt32 = setNumeric;
SetVisitor.prototype.visitInt64 = setNumericX2;
SetVisitor.prototype.visitUint8 = setNumeric;
SetVisitor.prototype.visitUint16 = setNumeric;
SetVisitor.prototype.visitUint32 = setNumeric;
SetVisitor.prototype.visitUint64 = setNumericX2;
SetVisitor.prototype.visitFloat = setFloat;
SetVisitor.prototype.visitFloat16 = setFloat16;
SetVisitor.prototype.visitFloat32 = setNumeric;
SetVisitor.prototype.visitFloat64 = setNumeric;
SetVisitor.prototype.visitUtf8 = setUtf8;
SetVisitor.prototype.visitBinary = setBinary;
SetVisitor.prototype.visitFixedSizeBinary = setFixedSizeBinary;
SetVisitor.prototype.visitDate = getDate;
SetVisitor.prototype.visitDateDay = setDateDay;
SetVisitor.prototype.visitDateMillisecond = setDateMillisecond;
SetVisitor.prototype.visitTimestamp = setTimestamp;
SetVisitor.prototype.visitTimestampSecond = setTimestampSecond;
SetVisitor.prototype.visitTimestampMillisecond = setTimestampMillisecond;
SetVisitor.prototype.visitTimestampMicrosecond = setTimestampMicrosecond;
SetVisitor.prototype.visitTimestampNanosecond = setTimestampNanosecond;
SetVisitor.prototype.visitTime = setTime;
SetVisitor.prototype.visitTimeSecond = setTimeSecond;
SetVisitor.prototype.visitTimeMillisecond = setTimeMillisecond;
SetVisitor.prototype.visitTimeMicrosecond = setTimeMicrosecond;
SetVisitor.prototype.visitTimeNanosecond = setTimeNanosecond;
SetVisitor.prototype.visitDecimal = setDecimal;
SetVisitor.prototype.visitList = setList;
SetVisitor.prototype.visitStruct = setNested;
SetVisitor.prototype.visitUnion = setUnion;
SetVisitor.prototype.visitDenseUnion = setDenseUnion;
SetVisitor.prototype.visitSparseUnion = setSparseUnion;
SetVisitor.prototype.visitDictionary = setDictionary;
SetVisitor.prototype.visitInterval = setIntervalValue;
SetVisitor.prototype.visitIntervalDayTime = setIntervalDayTime;
SetVisitor.prototype.visitIntervalYearMonth = setIntervalYearMonth;
SetVisitor.prototype.visitFixedSizeList = setFixedSizeList;
SetVisitor.prototype.visitMap = setNested;
export const instance = new SetVisitor();

//# sourceMappingURL=data:application/json;charset=utf8;base64,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dmlzaXRvci9zZXQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4vLyBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbi8vIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4vLyByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4vLyB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4vLyBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Vcbi8vIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbi8vIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4vLyBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuLy8gS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4vLyBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4vLyB1bmRlciB0aGUgTGljZW5zZS5cblxuaW1wb3J0IHsgRGF0YSB9IGZyb20gJy4uL2RhdGEnO1xuaW1wb3J0IHsgVmlzaXRvciB9IGZyb20gJy4uL3Zpc2l0b3InO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSAnLi4vaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBlbmNvZGVVdGY4IH0gZnJvbSAnLi4vdXRpbC91dGY4JztcbmltcG9ydCB7IFR5cGUsIFVuaW9uTW9kZSwgUHJlY2lzaW9uLCBEYXRlVW5pdCwgVGltZVVuaXQsIEludGVydmFsVW5pdCB9IGZyb20gJy4uL2VudW0nO1xuaW1wb3J0IHtcbiAgICBEYXRhVHlwZSwgRGljdGlvbmFyeSxcbiAgICBCb29sLCBOdWxsLCBVdGY4LCBCaW5hcnksIERlY2ltYWwsIEZpeGVkU2l6ZUJpbmFyeSwgTGlzdCwgRml4ZWRTaXplTGlzdCwgTWFwXywgU3RydWN0LFxuICAgIEZsb2F0LCBGbG9hdDE2LCBGbG9hdDMyLCBGbG9hdDY0LFxuICAgIEludCwgVWludDgsIFVpbnQxNiwgVWludDMyLCBVaW50NjQsIEludDgsIEludDE2LCBJbnQzMiwgSW50NjQsXG4gICAgRGF0ZV8sIERhdGVEYXksIERhdGVNaWxsaXNlY29uZCxcbiAgICBJbnRlcnZhbCwgSW50ZXJ2YWxEYXlUaW1lLCBJbnRlcnZhbFllYXJNb250aCxcbiAgICBUaW1lLCBUaW1lU2Vjb25kLCBUaW1lTWlsbGlzZWNvbmQsIFRpbWVNaWNyb3NlY29uZCwgVGltZU5hbm9zZWNvbmQsXG4gICAgVGltZXN0YW1wLCBUaW1lc3RhbXBTZWNvbmQsIFRpbWVzdGFtcE1pbGxpc2Vjb25kLCBUaW1lc3RhbXBNaWNyb3NlY29uZCwgVGltZXN0YW1wTmFub3NlY29uZCxcbiAgICBVbmlvbiwgRGVuc2VVbmlvbiwgU3BhcnNlVW5pb24sXG59IGZyb20gJy4uL3R5cGUnO1xuXG5cbmV4cG9ydCBpbnRlcmZhY2UgU2V0VmlzaXRvciBleHRlbmRzIFZpc2l0b3Ige1xuICAgIHZpc2l0TWFueSA8VCBleHRlbmRzIFZlY3Rvcj4gIChub2RlczogVFtdLCBpbmRpY2VzOiBudW1iZXJbXSwgdmFsdWVzOiBUWydUVmFsdWUnXVtdKTogdm9pZFtdO1xuICAgIHZpc2l0ICAgICA8VCBleHRlbmRzIFZlY3Rvcj4gIChub2RlOiBULCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10gICAgICAgICAgKTogdm9pZDtcbiAgICBnZXRWaXNpdEZuPFQgZXh0ZW5kcyBUeXBlPiAgICAobm9kZTogVCAgICAgICAgKTogKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVmVjdG9yPFQ+WydUVmFsdWUnXSkgPT4gdm9pZDtcbiAgICBnZXRWaXNpdEZuPFQgZXh0ZW5kcyBEYXRhVHlwZT4obm9kZTogVmVjdG9yPFQ+KTogKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVmVjdG9yPFQ+WydUVmFsdWUnXSkgPT4gdm9pZDtcbiAgICBnZXRWaXNpdEZuPFQgZXh0ZW5kcyBEYXRhVHlwZT4obm9kZTogRGF0YTxUPiAgKTogKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVmVjdG9yPFQ+WydUVmFsdWUnXSkgPT4gdm9pZDtcbiAgICBnZXRWaXNpdEZuPFQgZXh0ZW5kcyBEYXRhVHlwZT4obm9kZTogVCAgICAgICAgKTogKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVmVjdG9yPFQ+WydUVmFsdWUnXSkgPT4gdm9pZDtcbiAgICB2aXNpdE51bGwgICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgTnVsbD4gICAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0Qm9vbCAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBCb29sPiAgICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRJbnQgICAgICAgICAgICAgICAgICA8VCBleHRlbmRzIEludD4gICAgICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdEludDggICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgSW50OD4gICAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0SW50MTYgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBJbnQxNj4gICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRJbnQzMiAgICAgICAgICAgICAgICA8VCBleHRlbmRzIEludDMyPiAgICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdEludDY0ICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgSW50NjQ+ICAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0VWludDggICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBVaW50OD4gICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRVaW50MTYgICAgICAgICAgICAgICA8VCBleHRlbmRzIFVpbnQxNj4gICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdFVpbnQzMiAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgVWludDMyPiAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0VWludDY0ICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBVaW50NjQ+ICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRGbG9hdCAgICAgICAgICAgICAgICA8VCBleHRlbmRzIEZsb2F0PiAgICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdEZsb2F0MTYgICAgICAgICAgICAgIDxUIGV4dGVuZHMgRmxvYXQxNj4gICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0RmxvYXQzMiAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBGbG9hdDMyPiAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRGbG9hdDY0ICAgICAgICAgICAgICA8VCBleHRlbmRzIEZsb2F0NjQ+ICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdFV0ZjggICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgVXRmOD4gICAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0QmluYXJ5ICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBCaW5hcnk+ICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRGaXhlZFNpemVCaW5hcnkgICAgICA8VCBleHRlbmRzIEZpeGVkU2l6ZUJpbmFyeT4gICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdERhdGUgICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgRGF0ZV8+ICAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0RGF0ZURheSAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBEYXRlRGF5PiAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXREYXRlTWlsbGlzZWNvbmQgICAgICA8VCBleHRlbmRzIERhdGVNaWxsaXNlY29uZD4gICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdFRpbWVzdGFtcCAgICAgICAgICAgIDxUIGV4dGVuZHMgVGltZXN0YW1wPiAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0VGltZXN0YW1wU2Vjb25kICAgICAgPFQgZXh0ZW5kcyBUaW1lc3RhbXBTZWNvbmQ+ICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRUaW1lc3RhbXBNaWxsaXNlY29uZCA8VCBleHRlbmRzIFRpbWVzdGFtcE1pbGxpc2Vjb25kPih2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdFRpbWVzdGFtcE1pY3Jvc2Vjb25kIDxUIGV4dGVuZHMgVGltZXN0YW1wTWljcm9zZWNvbmQ+KHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0VGltZXN0YW1wTmFub3NlY29uZCAgPFQgZXh0ZW5kcyBUaW1lc3RhbXBOYW5vc2Vjb25kPiAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRUaW1lICAgICAgICAgICAgICAgICA8VCBleHRlbmRzIFRpbWU+ICAgICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdFRpbWVTZWNvbmQgICAgICAgICAgIDxUIGV4dGVuZHMgVGltZVNlY29uZD4gICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0VGltZU1pbGxpc2Vjb25kICAgICAgPFQgZXh0ZW5kcyBUaW1lTWlsbGlzZWNvbmQ+ICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRUaW1lTWljcm9zZWNvbmQgICAgICA8VCBleHRlbmRzIFRpbWVNaWNyb3NlY29uZD4gICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdFRpbWVOYW5vc2Vjb25kICAgICAgIDxUIGV4dGVuZHMgVGltZU5hbm9zZWNvbmQ+ICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0RGVjaW1hbCAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBEZWNpbWFsPiAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRMaXN0ICAgICAgICAgICAgICAgICA8VCBleHRlbmRzIExpc3Q+ICAgICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdFN0cnVjdCAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgU3RydWN0PiAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0VW5pb24gICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBVbmlvbj4gICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXREZW5zZVVuaW9uICAgICAgICAgICA8VCBleHRlbmRzIERlbnNlVW5pb24+ICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdFNwYXJzZVVuaW9uICAgICAgICAgIDxUIGV4dGVuZHMgU3BhcnNlVW5pb24+ICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0RGljdGlvbmFyeSAgICAgICAgICAgPFQgZXh0ZW5kcyBEaWN0aW9uYXJ5PiAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRJbnRlcnZhbCAgICAgICAgICAgICA8VCBleHRlbmRzIEludGVydmFsPiAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdEludGVydmFsRGF5VGltZSAgICAgIDxUIGV4dGVuZHMgSW50ZXJ2YWxEYXlUaW1lPiAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0SW50ZXJ2YWxZZWFyTW9udGggICAgPFQgZXh0ZW5kcyBJbnRlcnZhbFllYXJNb250aD4gICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRGaXhlZFNpemVMaXN0ICAgICAgICA8VCBleHRlbmRzIEZpeGVkU2l6ZUxpc3Q+ICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdE1hcCAgICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgTWFwXz4gICAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xufVxuXG5leHBvcnQgY2xhc3MgU2V0VmlzaXRvciBleHRlbmRzIFZpc2l0b3Ige1xufVxuXG5jb25zdCBzZXRFcG9jaE1zVG9EYXlzID0gKGRhdGE6IEludDMyQXJyYXksIGluZGV4OiBudW1iZXIsIGVwb2NoTXM6IG51bWJlcikgPT4geyBkYXRhW2luZGV4XSA9IChlcG9jaE1zIC8gODY0MDAwMDApIHwgMDsgfTtcbmNvbnN0IHNldEVwb2NoTXNUb01pbGxpc2Vjb25kc0xvbmcgPSAoZGF0YTogSW50MzJBcnJheSwgaW5kZXg6IG51bWJlciwgZXBvY2hNczogbnVtYmVyKSA9PiB7XG4gICAgZGF0YVtpbmRleF0gPSAoZXBvY2hNcyAlIDQyOTQ5NjcyOTYpIHwgMDtcbiAgICBkYXRhW2luZGV4ICsgMV0gPSAoZXBvY2hNcyAvIDQyOTQ5NjcyOTYpIHwgMDtcbn07XG5jb25zdCBzZXRFcG9jaE1zVG9NaWNyb3NlY29uZHNMb25nID0gKGRhdGE6IEludDMyQXJyYXksIGluZGV4OiBudW1iZXIsIGVwb2NoTXM6IG51bWJlcikgPT4ge1xuICAgIGRhdGFbaW5kZXhdID0gKChlcG9jaE1zICogMTAwMCkgJSA0Mjk0OTY3Mjk2KSB8IDA7XG4gICAgZGF0YVtpbmRleCArIDFdID0gKChlcG9jaE1zICogMTAwMCkgLyA0Mjk0OTY3Mjk2KSB8IDA7XG59O1xuY29uc3Qgc2V0RXBvY2hNc1RvTmFub3NlY29uZHNMb25nID0gKGRhdGE6IEludDMyQXJyYXksIGluZGV4OiBudW1iZXIsIGVwb2NoTXM6IG51bWJlcikgPT4ge1xuICAgIGRhdGFbaW5kZXhdID0gKChlcG9jaE1zICogMTAwMDAwMCkgJSA0Mjk0OTY3Mjk2KSB8IDA7XG4gICAgZGF0YVtpbmRleCArIDFdID0gKChlcG9jaE1zICogMTAwMDAwMCkgLyA0Mjk0OTY3Mjk2KSB8IDA7XG59O1xuXG5jb25zdCBzZXRWYXJpYWJsZVdpZHRoQnl0ZXMgPSAodmFsdWVzOiBVaW50OEFycmF5LCB2YWx1ZU9mZnNldHM6IEludDMyQXJyYXksIGluZGV4OiBudW1iZXIsIHZhbHVlOiBVaW50OEFycmF5KSA9PiB7XG4gICAgY29uc3QgeyBbaW5kZXhdOiB4LCBbaW5kZXggKyAxXTogeSB9ID0gdmFsdWVPZmZzZXRzO1xuICAgIGlmICh4ICE9IG51bGwgJiYgeSAhPSBudWxsKSB7XG4gICAgICAgIHZhbHVlcy5zZXQodmFsdWUuc3ViYXJyYXkoMCwgeSAtIHgpLCB4KTtcbiAgICB9XG59O1xuXG5jb25zdCBzZXRCb29sID0gPFQgZXh0ZW5kcyBCb29sPih7IG9mZnNldCwgdmFsdWVzIH06IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsOiBib29sZWFuKSA9PiB7XG4gICAgY29uc3QgaWR4ID0gb2Zmc2V0ICsgaW5kZXg7XG4gICAgdmFsID8gKHZhbHVlc1tpZHggPj4gM10gfD0gICgxIDw8IChpZHggJSA4KSkpICAvLyB0cnVlXG4gICAgICAgIDogKHZhbHVlc1tpZHggPj4gM10gJj0gfigxIDw8IChpZHggJSA4KSkpOyAvLyBmYWxzZVxuXG59O1xuXG50eXBlIE51bWVyaWMxWCA9IEludDggfCBJbnQxNiB8IEludDMyIHwgVWludDggfCBVaW50MTYgfCBVaW50MzIgfCBGbG9hdDMyIHwgRmxvYXQ2NDtcbnR5cGUgTnVtZXJpYzJYID0gSW50NjQgfCBVaW50NjQ7XG5cbmNvbnN0IHNldERhdGVEYXkgICAgICAgICA9IDxUIGV4dGVuZHMgRGF0ZURheT4gICAgICAgICh7IHZhbHVlcyAgICAgICAgIH06IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiB7IHNldEVwb2NoTXNUb0RheXModmFsdWVzLCBpbmRleCwgdmFsdWUudmFsdWVPZigpKTsgfTtcbmNvbnN0IHNldERhdGVNaWxsaXNlY29uZCA9IDxUIGV4dGVuZHMgRGF0ZU1pbGxpc2Vjb25kPih7IHZhbHVlcyAgICAgICAgIH06IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiB7IHNldEVwb2NoTXNUb01pbGxpc2Vjb25kc0xvbmcodmFsdWVzLCBpbmRleCAqIDIsIHZhbHVlLnZhbHVlT2YoKSk7IH07XG5jb25zdCBzZXROdW1lcmljICAgICAgICAgPSA8VCBleHRlbmRzIE51bWVyaWMxWD4gICAgICAoeyBzdHJpZGUsIHZhbHVlcyB9OiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQgPT4geyB2YWx1ZXNbc3RyaWRlICogaW5kZXhdID0gdmFsdWU7IH07XG5jb25zdCBzZXRGbG9hdDE2ICAgICAgICAgPSA8VCBleHRlbmRzIEZsb2F0MTY+ICAgICAgICAoeyBzdHJpZGUsIHZhbHVlcyB9OiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQgPT4geyB2YWx1ZXNbc3RyaWRlICogaW5kZXhdID0gKHZhbHVlICogMzI3NjcpICsgMzI3Njc7IH07XG5jb25zdCBzZXROdW1lcmljWDIgICAgICAgPSA8VCBleHRlbmRzIE51bWVyaWMyWD4gICAgICAoeyBzdHJpZGUsIHZhbHVlcyB9OiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQgPT4geyB2YWx1ZXMuc2V0KHZhbHVlLnN1YmFycmF5KDAsIHN0cmlkZSksIHN0cmlkZSAqIGluZGV4KTsgfTtcbmNvbnN0IHNldEZpeGVkU2l6ZUJpbmFyeSA9IDxUIGV4dGVuZHMgRml4ZWRTaXplQmluYXJ5Pih7IHN0cmlkZSwgdmFsdWVzIH06IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiB7IHZhbHVlcy5zZXQodmFsdWUuc3ViYXJyYXkoMCwgc3RyaWRlKSwgc3RyaWRlICogaW5kZXgpOyB9O1xuXG5jb25zdCBzZXRCaW5hcnkgPSA8VCBleHRlbmRzIEJpbmFyeT4oeyB2YWx1ZXMsIHZhbHVlT2Zmc2V0cyB9OiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSkgPT4gc2V0VmFyaWFibGVXaWR0aEJ5dGVzKHZhbHVlcywgdmFsdWVPZmZzZXRzLCBpbmRleCwgdmFsdWUpO1xuY29uc3Qgc2V0VXRmOCA9IDxUIGV4dGVuZHMgVXRmOD4oeyB2YWx1ZXMsIHZhbHVlT2Zmc2V0cyB9OiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSkgPT4ge1xuICAgIHNldFZhcmlhYmxlV2lkdGhCeXRlcyh2YWx1ZXMsIHZhbHVlT2Zmc2V0cywgaW5kZXgsIGVuY29kZVV0ZjgodmFsdWUpKTtcbn07XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5jb25zdCBzZXRJbnQgPSA8VCBleHRlbmRzIEludD4odmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQgPT4ge1xuICAgIHZlY3Rvci50eXBlLmJpdFdpZHRoIDwgNjRcbiAgICAgICAgPyBzZXROdW1lcmljKDxhbnk+IHZlY3RvciwgaW5kZXgsIHZhbHVlIGFzIE51bWVyaWMxWFsnVFZhbHVlJ10pXG4gICAgICAgIDogc2V0TnVtZXJpY1gyKDxhbnk+IHZlY3RvciwgaW5kZXgsIHZhbHVlIGFzIE51bWVyaWMyWFsnVFZhbHVlJ10pO1xufTtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmNvbnN0IHNldEZsb2F0ID0gPFQgZXh0ZW5kcyBGbG9hdD4odmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQgPT4ge1xuICAgIHZlY3Rvci50eXBlLnByZWNpc2lvbiAhPT0gUHJlY2lzaW9uLkhBTEZcbiAgICAgICAgPyBzZXROdW1lcmljKDxhbnk+IHZlY3RvciwgaW5kZXgsIHZhbHVlKVxuICAgICAgICA6IHNldEZsb2F0MTYoPGFueT4gdmVjdG9yLCBpbmRleCwgdmFsdWUpO1xufTtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmNvbnN0IGdldERhdGUgPSA8VCBleHRlbmRzIERhdGVfPiAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQgPT4ge1xuICAgIHZlY3Rvci50eXBlLnVuaXQgPT09IERhdGVVbml0LkRBWVxuICAgICAgICA/IHNldERhdGVEYXkodmVjdG9yLCBpbmRleCwgdmFsdWUpXG4gICAgICAgIDogc2V0RGF0ZU1pbGxpc2Vjb25kKHZlY3RvciwgaW5kZXgsIHZhbHVlKTtcbn07XG5cbmNvbnN0IHNldFRpbWVzdGFtcFNlY29uZCAgICAgID0gPFQgZXh0ZW5kcyBUaW1lc3RhbXBTZWNvbmQ+ICAgICAoeyB2YWx1ZXMgfTogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHNldEVwb2NoTXNUb01pbGxpc2Vjb25kc0xvbmcodmFsdWVzLCBpbmRleCAqIDIsIHZhbHVlIC8gMTAwMCk7XG5jb25zdCBzZXRUaW1lc3RhbXBNaWxsaXNlY29uZCA9IDxUIGV4dGVuZHMgVGltZXN0YW1wTWlsbGlzZWNvbmQ+KHsgdmFsdWVzIH06IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiBzZXRFcG9jaE1zVG9NaWxsaXNlY29uZHNMb25nKHZhbHVlcywgaW5kZXggKiAyLCB2YWx1ZSk7XG5jb25zdCBzZXRUaW1lc3RhbXBNaWNyb3NlY29uZCA9IDxUIGV4dGVuZHMgVGltZXN0YW1wTWljcm9zZWNvbmQ+KHsgdmFsdWVzIH06IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiBzZXRFcG9jaE1zVG9NaWNyb3NlY29uZHNMb25nKHZhbHVlcywgaW5kZXggKiAyLCB2YWx1ZSk7XG5jb25zdCBzZXRUaW1lc3RhbXBOYW5vc2Vjb25kICA9IDxUIGV4dGVuZHMgVGltZXN0YW1wTmFub3NlY29uZD4gKHsgdmFsdWVzIH06IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiBzZXRFcG9jaE1zVG9OYW5vc2Vjb25kc0xvbmcodmFsdWVzLCBpbmRleCAqIDIsIHZhbHVlKTtcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5jb25zdCBzZXRUaW1lc3RhbXAgICAgICAgICAgICA9IDxUIGV4dGVuZHMgVGltZXN0YW1wPih2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiB7XG4gICAgc3dpdGNoICh2ZWN0b3IudHlwZS51bml0KSB7XG4gICAgICAgIGNhc2UgVGltZVVuaXQuU0VDT05EOiAgICAgIHJldHVybiAgICAgIHNldFRpbWVzdGFtcFNlY29uZCh2ZWN0b3IgYXMgVmVjdG9yPFRpbWVzdGFtcFNlY29uZD4sIGluZGV4LCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgVGltZVVuaXQuTUlMTElTRUNPTkQ6IHJldHVybiBzZXRUaW1lc3RhbXBNaWxsaXNlY29uZCh2ZWN0b3IgYXMgVmVjdG9yPFRpbWVzdGFtcE1pbGxpc2Vjb25kPiwgaW5kZXgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSBUaW1lVW5pdC5NSUNST1NFQ09ORDogcmV0dXJuIHNldFRpbWVzdGFtcE1pY3Jvc2Vjb25kKHZlY3RvciBhcyBWZWN0b3I8VGltZXN0YW1wTWljcm9zZWNvbmQ+LCBpbmRleCwgdmFsdWUpO1xuICAgICAgICBjYXNlIFRpbWVVbml0Lk5BTk9TRUNPTkQ6ICByZXR1cm4gIHNldFRpbWVzdGFtcE5hbm9zZWNvbmQodmVjdG9yIGFzIFZlY3RvcjxUaW1lc3RhbXBOYW5vc2Vjb25kPiwgaW5kZXgsIHZhbHVlKTtcbiAgICB9XG59O1xuXG5jb25zdCBzZXRUaW1lU2Vjb25kICAgICAgPSA8VCBleHRlbmRzIFRpbWVTZWNvbmQ+ICAgICAoeyB2YWx1ZXMsIHN0cmlkZSB9OiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQgPT4geyB2YWx1ZXNbc3RyaWRlICogaW5kZXhdID0gdmFsdWU7IH07XG5jb25zdCBzZXRUaW1lTWlsbGlzZWNvbmQgPSA8VCBleHRlbmRzIFRpbWVNaWxsaXNlY29uZD4oeyB2YWx1ZXMsIHN0cmlkZSB9OiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQgPT4geyB2YWx1ZXNbc3RyaWRlICogaW5kZXhdID0gdmFsdWU7IH07XG5jb25zdCBzZXRUaW1lTWljcm9zZWNvbmQgPSA8VCBleHRlbmRzIFRpbWVNaWNyb3NlY29uZD4oeyB2YWx1ZXMgICAgICAgICB9OiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQgPT4geyB2YWx1ZXMuc2V0KHZhbHVlLnN1YmFycmF5KDAsIDIpLCAyICogaW5kZXgpOyB9O1xuY29uc3Qgc2V0VGltZU5hbm9zZWNvbmQgID0gPFQgZXh0ZW5kcyBUaW1lTmFub3NlY29uZD4gKHsgdmFsdWVzICAgICAgICAgfTogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHsgdmFsdWVzLnNldCh2YWx1ZS5zdWJhcnJheSgwLCAyKSwgMiAqIGluZGV4KTsgfTtcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5jb25zdCBzZXRUaW1lICAgICAgICAgICAgPSA8VCBleHRlbmRzIFRpbWU+KHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHtcbiAgICBzd2l0Y2ggKHZlY3Rvci50eXBlLnVuaXQpIHtcbiAgICAgICAgY2FzZSBUaW1lVW5pdC5TRUNPTkQ6ICAgICAgcmV0dXJuICAgICAgc2V0VGltZVNlY29uZCh2ZWN0b3IgYXMgVmVjdG9yPFRpbWVTZWNvbmQ+LCBpbmRleCwgdmFsdWUgYXMgVGltZVNlY29uZFsnVFZhbHVlJ10pO1xuICAgICAgICBjYXNlIFRpbWVVbml0Lk1JTExJU0VDT05EOiByZXR1cm4gc2V0VGltZU1pbGxpc2Vjb25kKHZlY3RvciBhcyBWZWN0b3I8VGltZU1pbGxpc2Vjb25kPiwgaW5kZXgsIHZhbHVlIGFzIFRpbWVNaWxsaXNlY29uZFsnVFZhbHVlJ10pO1xuICAgICAgICBjYXNlIFRpbWVVbml0Lk1JQ1JPU0VDT05EOiByZXR1cm4gc2V0VGltZU1pY3Jvc2Vjb25kKHZlY3RvciBhcyBWZWN0b3I8VGltZU1pY3Jvc2Vjb25kPiwgaW5kZXgsIHZhbHVlIGFzIFRpbWVNaWNyb3NlY29uZFsnVFZhbHVlJ10pO1xuICAgICAgICBjYXNlIFRpbWVVbml0Lk5BTk9TRUNPTkQ6ICByZXR1cm4gIHNldFRpbWVOYW5vc2Vjb25kKHZlY3RvciBhcyBWZWN0b3I8VGltZU5hbm9zZWNvbmQ+LCBpbmRleCwgdmFsdWUgYXMgVGltZU5hbm9zZWNvbmRbJ1RWYWx1ZSddKTtcbiAgICB9XG59O1xuXG5jb25zdCBzZXREZWNpbWFsID0gPFQgZXh0ZW5kcyBEZWNpbWFsPih7IHZhbHVlcyB9OiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQgPT4geyB2YWx1ZXMuc2V0KHZhbHVlLnN1YmFycmF5KDAsIDQpLCA0ICogaW5kZXgpOyB9O1xuXG5jb25zdCBzZXRMaXN0ID0gPFQgZXh0ZW5kcyBMaXN0Pih2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiB7XG4gICAgY29uc3QgdmFsdWVzID0gdmVjdG9yLmdldENoaWxkQXQoMCkhO1xuICAgIGNvbnN0IHsgdmFsdWVPZmZzZXRzLCBzdHJpZGUgfSA9IHZlY3RvcjtcbiAgICBsZXQgaWR4ID0gLTEsIG9mZnNldCA9IHZhbHVlT2Zmc2V0c1tpbmRleCAqIHN0cmlkZV07XG4gICAgbGV0IGVuZCA9IE1hdGgubWluKHZhbHVlLmxlbmd0aCwgdmFsdWVPZmZzZXRzWyhpbmRleCAqIHN0cmlkZSkgKyAxXSAtIG9mZnNldCk7XG4gICAgd2hpbGUgKG9mZnNldCA8IGVuZCkge1xuICAgICAgICB2YWx1ZXMuc2V0KG9mZnNldCsrLCB2YWx1ZS5nZXQoKytpZHgpKTtcbiAgICB9XG59O1xuXG5jb25zdCBzZXROZXN0ZWQgPSA8XG4gICAgUyBleHRlbmRzIHsgW2tleTogc3RyaW5nXTogRGF0YVR5cGUgfSxcbiAgICBWIGV4dGVuZHMgVmVjdG9yPE1hcF88Uz4+IHwgVmVjdG9yPFN0cnVjdDxTPj5cbj4odmVjdG9yOiBWLCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVlsnVFZhbHVlJ10pID0+IHtcbiAgICB2ZWN0b3IudHlwZS5jaGlsZHJlbi5mb3JFYWNoKCh7IG5hbWUgfSwgaWR4KSA9PiB7XG4gICAgICAgIGNvbnN0IGtpZCA9IHZlY3Rvci5nZXRDaGlsZEF0KGlkeCk7XG4gICAgICAgIGtpZCAmJiBraWQuc2V0KGluZGV4LCB2YWx1ZVtuYW1lXSk7XG4gICAgfSk7XG59O1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuY29uc3Qgc2V0VW5pb24gPSA8XG4gICAgViBleHRlbmRzIFZlY3RvcjxVbmlvbj4gfCBWZWN0b3I8RGVuc2VVbmlvbj4gfCBWZWN0b3I8U3BhcnNlVW5pb24+XG4+KHZlY3RvcjogViwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFZbJ1RWYWx1ZSddKSA9PiB7XG4gICAgdmVjdG9yLnR5cGUubW9kZSA9PT0gVW5pb25Nb2RlLkRlbnNlID9cbiAgICAgICAgc2V0RGVuc2VVbmlvbih2ZWN0b3IgYXMgVmVjdG9yPERlbnNlVW5pb24+LCBpbmRleCwgdmFsdWUpIDpcbiAgICAgICAgc2V0U3BhcnNlVW5pb24odmVjdG9yIGFzIFZlY3RvcjxTcGFyc2VVbmlvbj4sIGluZGV4LCB2YWx1ZSk7XG59O1xuXG5jb25zdCBzZXREZW5zZVVuaW9uID0gPFQgZXh0ZW5kcyBEZW5zZVVuaW9uPih2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiB7XG4gICAgY29uc3QgeyB0eXBlSWRzLCB0eXBlOiB7IHR5cGVJZFRvQ2hpbGRJbmRleCB9IH0gPSB2ZWN0b3I7XG4gICAgY29uc3QgY2hpbGQgPSB2ZWN0b3IuZ2V0Q2hpbGRBdCh0eXBlSWRUb0NoaWxkSW5kZXhbdHlwZUlkc1tpbmRleF1dKTtcbiAgICBjaGlsZCAmJiBjaGlsZC5zZXQodmVjdG9yLnZhbHVlT2Zmc2V0c1tpbmRleF0sIHZhbHVlKTtcbn07XG5cbmNvbnN0IHNldFNwYXJzZVVuaW9uID0gPFQgZXh0ZW5kcyBTcGFyc2VVbmlvbj4odmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IHsgdHlwZUlkcywgdHlwZTogeyB0eXBlSWRUb0NoaWxkSW5kZXggfSB9ID0gdmVjdG9yO1xuICAgIGNvbnN0IGNoaWxkID0gdmVjdG9yLmdldENoaWxkQXQodHlwZUlkVG9DaGlsZEluZGV4W3R5cGVJZHNbaW5kZXhdXSk7XG4gICAgY2hpbGQgJiYgY2hpbGQuc2V0KGluZGV4LCB2YWx1ZSk7XG59O1xuXG5jb25zdCBzZXREaWN0aW9uYXJ5ID0gPFQgZXh0ZW5kcyBEaWN0aW9uYXJ5Pih2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiB7XG4gICAgY29uc3Qga2V5ID0gdmVjdG9yLmdldEtleShpbmRleCk7XG4gICAgaWYgKGtleSAhPT0gbnVsbCkge1xuICAgICAgICB2ZWN0b3Iuc2V0VmFsdWUoa2V5LCB2YWx1ZSk7XG4gICAgfVxufTtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmNvbnN0IHNldEludGVydmFsVmFsdWUgPSA8VCBleHRlbmRzIEludGVydmFsPih2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiB7XG4gICAgKHZlY3Rvci50eXBlLnVuaXQgPT09IEludGVydmFsVW5pdC5EQVlfVElNRSlcbiAgICAgICAgPyBzZXRJbnRlcnZhbERheVRpbWUodmVjdG9yLCBpbmRleCwgdmFsdWUpXG4gICAgICAgIDogc2V0SW50ZXJ2YWxZZWFyTW9udGgodmVjdG9yLCBpbmRleCwgdmFsdWUpO1xufTtcblxuY29uc3Qgc2V0SW50ZXJ2YWxEYXlUaW1lID0gPFQgZXh0ZW5kcyBJbnRlcnZhbERheVRpbWU+KHsgdmFsdWVzIH06IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiB7IHZhbHVlcy5zZXQodmFsdWUuc3ViYXJyYXkoMCwgMiksIDIgKiBpbmRleCk7IH07XG5jb25zdCBzZXRJbnRlcnZhbFllYXJNb250aCA9IDxUIGV4dGVuZHMgSW50ZXJ2YWxZZWFyTW9udGg+KHsgdmFsdWVzIH06IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiB7IHZhbHVlc1tpbmRleF0gPSAodmFsdWVbMF0gKiAxMikgKyAodmFsdWVbMV0gJSAxMik7IH07XG5cbmNvbnN0IHNldEZpeGVkU2l6ZUxpc3QgPSA8VCBleHRlbmRzIEZpeGVkU2l6ZUxpc3Q+KHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHtcbiAgICBjb25zdCBjaGlsZCA9IHZlY3Rvci5nZXRDaGlsZEF0KDApISwgeyBzdHJpZGUgfSA9IHZlY3RvcjtcbiAgICBmb3IgKGxldCBpZHggPSAtMSwgb2Zmc2V0ID0gaW5kZXggKiBzdHJpZGU7ICsraWR4IDwgc3RyaWRlOykge1xuICAgICAgICBjaGlsZC5zZXQob2Zmc2V0ICsgaWR4LCB2YWx1ZS5nZXQoaWR4KSk7XG4gICAgfVxufTtcblxuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRCb29sICAgICAgICAgICAgICAgICA9ICAgICAgICAgICAgICAgICBzZXRCb29sO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRJbnQgICAgICAgICAgICAgICAgICA9ICAgICAgICAgICAgICAgICAgc2V0SW50O1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRJbnQ4ICAgICAgICAgICAgICAgICA9ICAgICAgICAgICAgICBzZXROdW1lcmljO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRJbnQxNiAgICAgICAgICAgICAgICA9ICAgICAgICAgICAgICBzZXROdW1lcmljO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRJbnQzMiAgICAgICAgICAgICAgICA9ICAgICAgICAgICAgICBzZXROdW1lcmljO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRJbnQ2NCAgICAgICAgICAgICAgICA9ICAgICAgICAgICAgc2V0TnVtZXJpY1gyO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRVaW50OCAgICAgICAgICAgICAgICA9ICAgICAgICAgICAgICBzZXROdW1lcmljO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRVaW50MTYgICAgICAgICAgICAgICA9ICAgICAgICAgICAgICBzZXROdW1lcmljO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRVaW50MzIgICAgICAgICAgICAgICA9ICAgICAgICAgICAgICBzZXROdW1lcmljO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRVaW50NjQgICAgICAgICAgICAgICA9ICAgICAgICAgICAgc2V0TnVtZXJpY1gyO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRGbG9hdCAgICAgICAgICAgICAgICA9ICAgICAgICAgICAgICAgIHNldEZsb2F0O1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRGbG9hdDE2ICAgICAgICAgICAgICA9ICAgICAgICAgICAgICBzZXRGbG9hdDE2O1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRGbG9hdDMyICAgICAgICAgICAgICA9ICAgICAgICAgICAgICBzZXROdW1lcmljO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRGbG9hdDY0ICAgICAgICAgICAgICA9ICAgICAgICAgICAgICBzZXROdW1lcmljO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRVdGY4ICAgICAgICAgICAgICAgICA9ICAgICAgICAgICAgICAgICBzZXRVdGY4O1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRCaW5hcnkgICAgICAgICAgICAgICA9ICAgICAgICAgICAgICAgc2V0QmluYXJ5O1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRGaXhlZFNpemVCaW5hcnkgICAgICA9ICAgICAgc2V0Rml4ZWRTaXplQmluYXJ5O1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXREYXRlICAgICAgICAgICAgICAgICA9ICAgICAgICAgICAgICAgICBnZXREYXRlO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXREYXRlRGF5ICAgICAgICAgICAgICA9ICAgICAgICAgICAgICBzZXREYXRlRGF5O1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXREYXRlTWlsbGlzZWNvbmQgICAgICA9ICAgICAgc2V0RGF0ZU1pbGxpc2Vjb25kO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXAgICAgICAgICAgICA9ICAgICAgICAgICAgc2V0VGltZXN0YW1wO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXBTZWNvbmQgICAgICA9ICAgICAgc2V0VGltZXN0YW1wU2Vjb25kO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXBNaWxsaXNlY29uZCA9IHNldFRpbWVzdGFtcE1pbGxpc2Vjb25kO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXBNaWNyb3NlY29uZCA9IHNldFRpbWVzdGFtcE1pY3Jvc2Vjb25kO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXBOYW5vc2Vjb25kICA9ICBzZXRUaW1lc3RhbXBOYW5vc2Vjb25kO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRUaW1lICAgICAgICAgICAgICAgICA9ICAgICAgICAgICAgICAgICBzZXRUaW1lO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRUaW1lU2Vjb25kICAgICAgICAgICA9ICAgICAgICAgICBzZXRUaW1lU2Vjb25kO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRUaW1lTWlsbGlzZWNvbmQgICAgICA9ICAgICAgc2V0VGltZU1pbGxpc2Vjb25kO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRUaW1lTWljcm9zZWNvbmQgICAgICA9ICAgICAgc2V0VGltZU1pY3Jvc2Vjb25kO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRUaW1lTmFub3NlY29uZCAgICAgICA9ICAgICAgIHNldFRpbWVOYW5vc2Vjb25kO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXREZWNpbWFsICAgICAgICAgICAgICA9ICAgICAgICAgICAgICBzZXREZWNpbWFsO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRMaXN0ICAgICAgICAgICAgICAgICA9ICAgICAgICAgICAgICAgICBzZXRMaXN0O1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRTdHJ1Y3QgICAgICAgICAgICAgICA9ICAgICAgICAgICAgICAgc2V0TmVzdGVkO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRVbmlvbiAgICAgICAgICAgICAgICA9ICAgICAgICAgICAgICAgIHNldFVuaW9uO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXREZW5zZVVuaW9uICAgICAgICAgICA9ICAgICAgICAgICBzZXREZW5zZVVuaW9uO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRTcGFyc2VVbmlvbiAgICAgICAgICA9ICAgICAgICAgIHNldFNwYXJzZVVuaW9uO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXREaWN0aW9uYXJ5ICAgICAgICAgICA9ICAgICAgICAgICBzZXREaWN0aW9uYXJ5O1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRJbnRlcnZhbCAgICAgICAgICAgICA9ICAgICAgICBzZXRJbnRlcnZhbFZhbHVlO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRJbnRlcnZhbERheVRpbWUgICAgICA9ICAgICAgc2V0SW50ZXJ2YWxEYXlUaW1lO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRJbnRlcnZhbFllYXJNb250aCAgICA9ICAgIHNldEludGVydmFsWWVhck1vbnRoO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRGaXhlZFNpemVMaXN0ICAgICAgICA9ICAgICAgICBzZXRGaXhlZFNpemVMaXN0O1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRNYXAgICAgICAgICAgICAgICAgICA9ICAgICAgICAgICAgICAgc2V0TmVzdGVkO1xuXG5leHBvcnQgY29uc3QgaW5zdGFuY2UgPSBuZXcgU2V0VmlzaXRvcigpO1xuIl19
