"use strict";
// Licensed to the Apache Software Foundation (ASF) under one
// or more contributor license agreements.  See the NOTICE file
// distributed with this work for additional information
// regarding copyright ownership.  The ASF licenses this file
// to you under the Apache License, Version 2.0 (the
// "License"); you may not use this file except in compliance
// with the License.  You may obtain a copy of the License at
//
//   http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing,
// software distributed under the License is distributed on an
// "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
// KIND, either express or implied.  See the License for the
// specific language governing permissions and limitations
// under the License.
Object.defineProperty(exports, "__esModule", { value: true });
const visitor_1 = require("../visitor");
const utf8_1 = require("../util/utf8");
const enum_1 = require("../enum");
class SetVisitor extends visitor_1.Visitor {
}
exports.SetVisitor = SetVisitor;
const setEpochMsToDays = (data, index, epochMs) => { data[index] = (epochMs / 86400000) | 0; };
const setEpochMsToMillisecondsLong = (data, index, epochMs) => {
    data[index] = (epochMs % 4294967296) | 0;
    data[index + 1] = (epochMs / 4294967296) | 0;
};
const setEpochMsToMicrosecondsLong = (data, index, epochMs) => {
    data[index] = ((epochMs * 1000) % 4294967296) | 0;
    data[index + 1] = ((epochMs * 1000) / 4294967296) | 0;
};
const setEpochMsToNanosecondsLong = (data, index, epochMs) => {
    data[index] = ((epochMs * 1000000) % 4294967296) | 0;
    data[index + 1] = ((epochMs * 1000000) / 4294967296) | 0;
};
const setVariableWidthBytes = (values, valueOffsets, index, value) => {
    const { [index]: x, [index + 1]: y } = valueOffsets;
    if (x != null && y != null) {
        values.set(value.subarray(0, y - x), x);
    }
};
const setBool = ({ offset, values }, index, val) => {
    const idx = offset + index;
    val ? (values[idx >> 3] |= (1 << (idx % 8))) // true
        : (values[idx >> 3] &= ~(1 << (idx % 8))); // false
};
const setDateDay = ({ values }, index, value) => { setEpochMsToDays(values, index, value.valueOf()); };
const setDateMillisecond = ({ values }, index, value) => { setEpochMsToMillisecondsLong(values, index * 2, value.valueOf()); };
const setNumeric = ({ stride, values }, index, value) => { values[stride * index] = value; };
const setFloat16 = ({ stride, values }, index, value) => { values[stride * index] = (value * 32767) + 32767; };
const setNumericX2 = ({ stride, values }, index, value) => { values.set(value.subarray(0, stride), stride * index); };
const setFixedSizeBinary = ({ stride, values }, index, value) => { values.set(value.subarray(0, stride), stride * index); };
const setBinary = ({ values, valueOffsets }, index, value) => setVariableWidthBytes(values, valueOffsets, index, value);
const setUtf8 = ({ values, valueOffsets }, index, value) => {
    setVariableWidthBytes(values, valueOffsets, index, utf8_1.encodeUtf8(value));
};
/* istanbul ignore next */
const setInt = (vector, index, value) => {
    vector.type.bitWidth < 64
        ? setNumeric(vector, index, value)
        : setNumericX2(vector, index, value);
};
/* istanbul ignore next */
const setFloat = (vector, index, value) => {
    vector.type.precision !== enum_1.Precision.HALF
        ? setNumeric(vector, index, value)
        : setFloat16(vector, index, value);
};
/* istanbul ignore next */
const getDate = (vector, index, value) => {
    vector.type.unit === enum_1.DateUnit.DAY
        ? setDateDay(vector, index, value)
        : setDateMillisecond(vector, index, value);
};
const setTimestampSecond = ({ values }, index, value) => setEpochMsToMillisecondsLong(values, index * 2, value / 1000);
const setTimestampMillisecond = ({ values }, index, value) => setEpochMsToMillisecondsLong(values, index * 2, value);
const setTimestampMicrosecond = ({ values }, index, value) => setEpochMsToMicrosecondsLong(values, index * 2, value);
const setTimestampNanosecond = ({ values }, index, value) => setEpochMsToNanosecondsLong(values, index * 2, value);
/* istanbul ignore next */
const setTimestamp = (vector, index, value) => {
    switch (vector.type.unit) {
        case enum_1.TimeUnit.SECOND: return setTimestampSecond(vector, index, value);
        case enum_1.TimeUnit.MILLISECOND: return setTimestampMillisecond(vector, index, value);
        case enum_1.TimeUnit.MICROSECOND: return setTimestampMicrosecond(vector, index, value);
        case enum_1.TimeUnit.NANOSECOND: return setTimestampNanosecond(vector, index, value);
    }
};
const setTimeSecond = ({ values, stride }, index, value) => { values[stride * index] = value; };
const setTimeMillisecond = ({ values, stride }, index, value) => { values[stride * index] = value; };
const setTimeMicrosecond = ({ values }, index, value) => { values.set(value.subarray(0, 2), 2 * index); };
const setTimeNanosecond = ({ values }, index, value) => { values.set(value.subarray(0, 2), 2 * index); };
/* istanbul ignore next */
const setTime = (vector, index, value) => {
    switch (vector.type.unit) {
        case enum_1.TimeUnit.SECOND: return setTimeSecond(vector, index, value);
        case enum_1.TimeUnit.MILLISECOND: return setTimeMillisecond(vector, index, value);
        case enum_1.TimeUnit.MICROSECOND: return setTimeMicrosecond(vector, index, value);
        case enum_1.TimeUnit.NANOSECOND: return setTimeNanosecond(vector, index, value);
    }
};
const setDecimal = ({ values }, index, value) => { values.set(value.subarray(0, 4), 4 * index); };
const setList = (vector, index, value) => {
    const values = vector.getChildAt(0);
    const { valueOffsets, stride } = vector;
    let idx = -1, offset = valueOffsets[index * stride];
    let end = Math.min(value.length, valueOffsets[(index * stride) + 1] - offset);
    while (offset < end) {
        values.set(offset++, value.get(++idx));
    }
};
const setNested = (vector, index, value) => {
    vector.type.children.forEach(({ name }, idx) => {
        const kid = vector.getChildAt(idx);
        kid && kid.set(index, value[name]);
    });
};
/* istanbul ignore next */
const setUnion = (vector, index, value) => {
    vector.type.mode === enum_1.UnionMode.Dense ?
        setDenseUnion(vector, index, value) :
        setSparseUnion(vector, index, value);
};
const setDenseUnion = (vector, index, value) => {
    const { typeIds, type: { typeIdToChildIndex } } = vector;
    const child = vector.getChildAt(typeIdToChildIndex[typeIds[index]]);
    child && child.set(vector.valueOffsets[index], value);
};
const setSparseUnion = (vector, index, value) => {
    const { typeIds, type: { typeIdToChildIndex } } = vector;
    const child = vector.getChildAt(typeIdToChildIndex[typeIds[index]]);
    child && child.set(index, value);
};
const setDictionary = (vector, index, value) => {
    const key = vector.getKey(index);
    if (key !== null) {
        vector.setValue(key, value);
    }
};
/* istanbul ignore next */
const setIntervalValue = (vector, index, value) => {
    (vector.type.unit === enum_1.IntervalUnit.DAY_TIME)
        ? setIntervalDayTime(vector, index, value)
        : setIntervalYearMonth(vector, index, value);
};
const setIntervalDayTime = ({ values }, index, value) => { values.set(value.subarray(0, 2), 2 * index); };
const setIntervalYearMonth = ({ values }, index, value) => { values[index] = (value[0] * 12) + (value[1] % 12); };
const setFixedSizeList = (vector, index, value) => {
    const child = vector.getChildAt(0), { stride } = vector;
    for (let idx = -1, offset = index * stride; ++idx < stride;) {
        child.set(offset + idx, value.get(idx));
    }
};
SetVisitor.prototype.visitBool = setBool;
SetVisitor.prototype.visitInt = setInt;
SetVisitor.prototype.visitInt8 = setNumeric;
SetVisitor.prototype.visitInt16 = setNumeric;
SetVisitor.prototype.visitInt32 = setNumeric;
SetVisitor.prototype.visitInt64 = setNumericX2;
SetVisitor.prototype.visitUint8 = setNumeric;
SetVisitor.prototype.visitUint16 = setNumeric;
SetVisitor.prototype.visitUint32 = setNumeric;
SetVisitor.prototype.visitUint64 = setNumericX2;
SetVisitor.prototype.visitFloat = setFloat;
SetVisitor.prototype.visitFloat16 = setFloat16;
SetVisitor.prototype.visitFloat32 = setNumeric;
SetVisitor.prototype.visitFloat64 = setNumeric;
SetVisitor.prototype.visitUtf8 = setUtf8;
SetVisitor.prototype.visitBinary = setBinary;
SetVisitor.prototype.visitFixedSizeBinary = setFixedSizeBinary;
SetVisitor.prototype.visitDate = getDate;
SetVisitor.prototype.visitDateDay = setDateDay;
SetVisitor.prototype.visitDateMillisecond = setDateMillisecond;
SetVisitor.prototype.visitTimestamp = setTimestamp;
SetVisitor.prototype.visitTimestampSecond = setTimestampSecond;
SetVisitor.prototype.visitTimestampMillisecond = setTimestampMillisecond;
SetVisitor.prototype.visitTimestampMicrosecond = setTimestampMicrosecond;
SetVisitor.prototype.visitTimestampNanosecond = setTimestampNanosecond;
SetVisitor.prototype.visitTime = setTime;
SetVisitor.prototype.visitTimeSecond = setTimeSecond;
SetVisitor.prototype.visitTimeMillisecond = setTimeMillisecond;
SetVisitor.prototype.visitTimeMicrosecond = setTimeMicrosecond;
SetVisitor.prototype.visitTimeNanosecond = setTimeNanosecond;
SetVisitor.prototype.visitDecimal = setDecimal;
SetVisitor.prototype.visitList = setList;
SetVisitor.prototype.visitStruct = setNested;
SetVisitor.prototype.visitUnion = setUnion;
SetVisitor.prototype.visitDenseUnion = setDenseUnion;
SetVisitor.prototype.visitSparseUnion = setSparseUnion;
SetVisitor.prototype.visitDictionary = setDictionary;
SetVisitor.prototype.visitInterval = setIntervalValue;
SetVisitor.prototype.visitIntervalDayTime = setIntervalDayTime;
SetVisitor.prototype.visitIntervalYearMonth = setIntervalYearMonth;
SetVisitor.prototype.visitFixedSizeList = setFixedSizeList;
SetVisitor.prototype.visitMap = setNested;
exports.instance = new SetVisitor();

//# sourceMappingURL=data:application/json;charset=utf8;base64,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O0FBQ3pFLFVBQVUsQ0FBQyxTQUFTLENBQUMsb0JBQW9CLEdBQWEsa0JBQWtCLENBQUM7QUFDekUsVUFBVSxDQUFDLFNBQVMsQ0FBQyxvQkFBb0IsR0FBYSxrQkFBa0IsQ0FBQztBQUN6RSxVQUFVLENBQUMsU0FBUyxDQUFDLG1CQUFtQixHQUFlLGlCQUFpQixDQUFDO0FBQ3pFLFVBQVUsQ0FBQyxTQUFTLENBQUMsWUFBWSxHQUE2QixVQUFVLENBQUM7QUFDekUsVUFBVSxDQUFDLFNBQVMsQ0FBQyxTQUFTLEdBQW1DLE9BQU8sQ0FBQztBQUN6RSxVQUFVLENBQUMsU0FBUyxDQUFDLFdBQVcsR0FBK0IsU0FBUyxDQUFDO0FBQ3pFLFVBQVUsQ0FBQyxTQUFTLENBQUMsVUFBVSxHQUFpQyxRQUFRLENBQUM7QUFDekUsVUFBVSxDQUFDLFNBQVMsQ0FBQyxlQUFlLEdBQXVCLGFBQWEsQ0FBQztBQUN6RSxVQUFVLENBQUMsU0FBUyxDQUFDLGdCQUFnQixHQUFxQixjQUFjLENBQUM7QUFDekUsVUFBVSxDQUFDLFNBQVMsQ0FBQyxlQUFlLEdBQXVCLGFBQWEsQ0FBQztBQUN6RSxVQUFVLENBQUMsU0FBUyxDQUFDLGFBQWEsR0FBc0IsZ0JBQWdCLENBQUM7QUFDekUsVUFBVSxDQUFDLFNBQVMsQ0FBQyxvQkFBb0IsR0FBYSxrQkFBa0IsQ0FBQztBQUN6RSxVQUFVLENBQUMsU0FBUyxDQUFDLHNCQUFzQixHQUFTLG9CQUFvQixDQUFDO0FBQ3pFLFVBQVUsQ0FBQyxTQUFTLENBQUMsa0JBQWtCLEdBQWlCLGdCQUFnQixDQUFDO0FBQ3pFLFVBQVUsQ0FBQyxTQUFTLENBQUMsUUFBUSxHQUFrQyxTQUFTLENBQUM7QUFFNUQsUUFBQSxRQUFRLEdBQUcsSUFBSSxVQUFVLEVBQUUsQ0FBQyIsImZpbGUiOiJ2aXNpdG9yL3NldC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbi8vIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuLy8gZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbi8vIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbi8vIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbi8vIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuLy8gd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuLy8gc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbi8vIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4vLyBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbi8vIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbi8vIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG5pbXBvcnQgeyBEYXRhIH0gZnJvbSAnLi4vZGF0YSc7XG5pbXBvcnQgeyBWaXNpdG9yIH0gZnJvbSAnLi4vdmlzaXRvcic7XG5pbXBvcnQgeyBWZWN0b3IgfSBmcm9tICcuLi9pbnRlcmZhY2VzJztcbmltcG9ydCB7IGVuY29kZVV0ZjggfSBmcm9tICcuLi91dGlsL3V0ZjgnO1xuaW1wb3J0IHsgVHlwZSwgVW5pb25Nb2RlLCBQcmVjaXNpb24sIERhdGVVbml0LCBUaW1lVW5pdCwgSW50ZXJ2YWxVbml0IH0gZnJvbSAnLi4vZW51bSc7XG5pbXBvcnQge1xuICAgIERhdGFUeXBlLCBEaWN0aW9uYXJ5LFxuICAgIEJvb2wsIE51bGwsIFV0ZjgsIEJpbmFyeSwgRGVjaW1hbCwgRml4ZWRTaXplQmluYXJ5LCBMaXN0LCBGaXhlZFNpemVMaXN0LCBNYXBfLCBTdHJ1Y3QsXG4gICAgRmxvYXQsIEZsb2F0MTYsIEZsb2F0MzIsIEZsb2F0NjQsXG4gICAgSW50LCBVaW50OCwgVWludDE2LCBVaW50MzIsIFVpbnQ2NCwgSW50OCwgSW50MTYsIEludDMyLCBJbnQ2NCxcbiAgICBEYXRlXywgRGF0ZURheSwgRGF0ZU1pbGxpc2Vjb25kLFxuICAgIEludGVydmFsLCBJbnRlcnZhbERheVRpbWUsIEludGVydmFsWWVhck1vbnRoLFxuICAgIFRpbWUsIFRpbWVTZWNvbmQsIFRpbWVNaWxsaXNlY29uZCwgVGltZU1pY3Jvc2Vjb25kLCBUaW1lTmFub3NlY29uZCxcbiAgICBUaW1lc3RhbXAsIFRpbWVzdGFtcFNlY29uZCwgVGltZXN0YW1wTWlsbGlzZWNvbmQsIFRpbWVzdGFtcE1pY3Jvc2Vjb25kLCBUaW1lc3RhbXBOYW5vc2Vjb25kLFxuICAgIFVuaW9uLCBEZW5zZVVuaW9uLCBTcGFyc2VVbmlvbixcbn0gZnJvbSAnLi4vdHlwZSc7XG5cblxuZXhwb3J0IGludGVyZmFjZSBTZXRWaXNpdG9yIGV4dGVuZHMgVmlzaXRvciB7XG4gICAgdmlzaXRNYW55IDxUIGV4dGVuZHMgVmVjdG9yPiAgKG5vZGVzOiBUW10sIGluZGljZXM6IG51bWJlcltdLCB2YWx1ZXM6IFRbJ1RWYWx1ZSddW10pOiB2b2lkW107XG4gICAgdmlzaXQgICAgIDxUIGV4dGVuZHMgVmVjdG9yPiAgKG5vZGU6IFQsIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSAgICAgICAgICApOiB2b2lkO1xuICAgIGdldFZpc2l0Rm48VCBleHRlbmRzIFR5cGU+ICAgIChub2RlOiBUICAgICAgICApOiAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBWZWN0b3I8VD5bJ1RWYWx1ZSddKSA9PiB2b2lkO1xuICAgIGdldFZpc2l0Rm48VCBleHRlbmRzIERhdGFUeXBlPihub2RlOiBWZWN0b3I8VD4pOiAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBWZWN0b3I8VD5bJ1RWYWx1ZSddKSA9PiB2b2lkO1xuICAgIGdldFZpc2l0Rm48VCBleHRlbmRzIERhdGFUeXBlPihub2RlOiBEYXRhPFQ+ICApOiAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBWZWN0b3I8VD5bJ1RWYWx1ZSddKSA9PiB2b2lkO1xuICAgIGdldFZpc2l0Rm48VCBleHRlbmRzIERhdGFUeXBlPihub2RlOiBUICAgICAgICApOiAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBWZWN0b3I8VD5bJ1RWYWx1ZSddKSA9PiB2b2lkO1xuICAgIHZpc2l0TnVsbCAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBOdWxsPiAgICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRCb29sICAgICAgICAgICAgICAgICA8VCBleHRlbmRzIEJvb2w+ICAgICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdEludCAgICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgSW50PiAgICAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0SW50OCAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBJbnQ4PiAgICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRJbnQxNiAgICAgICAgICAgICAgICA8VCBleHRlbmRzIEludDE2PiAgICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdEludDMyICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgSW50MzI+ICAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0SW50NjQgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBJbnQ2ND4gICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRVaW50OCAgICAgICAgICAgICAgICA8VCBleHRlbmRzIFVpbnQ4PiAgICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdFVpbnQxNiAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgVWludDE2PiAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0VWludDMyICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBVaW50MzI+ICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRVaW50NjQgICAgICAgICAgICAgICA8VCBleHRlbmRzIFVpbnQ2ND4gICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdEZsb2F0ICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgRmxvYXQ+ICAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0RmxvYXQxNiAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBGbG9hdDE2PiAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRGbG9hdDMyICAgICAgICAgICAgICA8VCBleHRlbmRzIEZsb2F0MzI+ICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdEZsb2F0NjQgICAgICAgICAgICAgIDxUIGV4dGVuZHMgRmxvYXQ2ND4gICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0VXRmOCAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBVdGY4PiAgICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRCaW5hcnkgICAgICAgICAgICAgICA8VCBleHRlbmRzIEJpbmFyeT4gICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdEZpeGVkU2l6ZUJpbmFyeSAgICAgIDxUIGV4dGVuZHMgRml4ZWRTaXplQmluYXJ5PiAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0RGF0ZSAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBEYXRlXz4gICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXREYXRlRGF5ICAgICAgICAgICAgICA8VCBleHRlbmRzIERhdGVEYXk+ICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdERhdGVNaWxsaXNlY29uZCAgICAgIDxUIGV4dGVuZHMgRGF0ZU1pbGxpc2Vjb25kPiAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0VGltZXN0YW1wICAgICAgICAgICAgPFQgZXh0ZW5kcyBUaW1lc3RhbXA+ICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRUaW1lc3RhbXBTZWNvbmQgICAgICA8VCBleHRlbmRzIFRpbWVzdGFtcFNlY29uZD4gICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdFRpbWVzdGFtcE1pbGxpc2Vjb25kIDxUIGV4dGVuZHMgVGltZXN0YW1wTWlsbGlzZWNvbmQ+KHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0VGltZXN0YW1wTWljcm9zZWNvbmQgPFQgZXh0ZW5kcyBUaW1lc3RhbXBNaWNyb3NlY29uZD4odmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRUaW1lc3RhbXBOYW5vc2Vjb25kICA8VCBleHRlbmRzIFRpbWVzdGFtcE5hbm9zZWNvbmQ+ICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdFRpbWUgICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgVGltZT4gICAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0VGltZVNlY29uZCAgICAgICAgICAgPFQgZXh0ZW5kcyBUaW1lU2Vjb25kPiAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRUaW1lTWlsbGlzZWNvbmQgICAgICA8VCBleHRlbmRzIFRpbWVNaWxsaXNlY29uZD4gICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdFRpbWVNaWNyb3NlY29uZCAgICAgIDxUIGV4dGVuZHMgVGltZU1pY3Jvc2Vjb25kPiAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0VGltZU5hbm9zZWNvbmQgICAgICAgPFQgZXh0ZW5kcyBUaW1lTmFub3NlY29uZD4gICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXREZWNpbWFsICAgICAgICAgICAgICA8VCBleHRlbmRzIERlY2ltYWw+ICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdExpc3QgICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgTGlzdD4gICAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0U3RydWN0ICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBTdHJ1Y3Q+ICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRVbmlvbiAgICAgICAgICAgICAgICA8VCBleHRlbmRzIFVuaW9uPiAgICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdERlbnNlVW5pb24gICAgICAgICAgIDxUIGV4dGVuZHMgRGVuc2VVbmlvbj4gICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0U3BhcnNlVW5pb24gICAgICAgICAgPFQgZXh0ZW5kcyBTcGFyc2VVbmlvbj4gICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXREaWN0aW9uYXJ5ICAgICAgICAgICA8VCBleHRlbmRzIERpY3Rpb25hcnk+ICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdEludGVydmFsICAgICAgICAgICAgIDxUIGV4dGVuZHMgSW50ZXJ2YWw+ICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0SW50ZXJ2YWxEYXlUaW1lICAgICAgPFQgZXh0ZW5kcyBJbnRlcnZhbERheVRpbWU+ICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRJbnRlcnZhbFllYXJNb250aCAgICA8VCBleHRlbmRzIEludGVydmFsWWVhck1vbnRoPiAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdEZpeGVkU2l6ZUxpc3QgICAgICAgIDxUIGV4dGVuZHMgRml4ZWRTaXplTGlzdD4gICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0TWFwICAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBNYXBfPiAgICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG59XG5cbmV4cG9ydCBjbGFzcyBTZXRWaXNpdG9yIGV4dGVuZHMgVmlzaXRvciB7XG59XG5cbmNvbnN0IHNldEVwb2NoTXNUb0RheXMgPSAoZGF0YTogSW50MzJBcnJheSwgaW5kZXg6IG51bWJlciwgZXBvY2hNczogbnVtYmVyKSA9PiB7IGRhdGFbaW5kZXhdID0gKGVwb2NoTXMgLyA4NjQwMDAwMCkgfCAwOyB9O1xuY29uc3Qgc2V0RXBvY2hNc1RvTWlsbGlzZWNvbmRzTG9uZyA9IChkYXRhOiBJbnQzMkFycmF5LCBpbmRleDogbnVtYmVyLCBlcG9jaE1zOiBudW1iZXIpID0+IHtcbiAgICBkYXRhW2luZGV4XSA9IChlcG9jaE1zICUgNDI5NDk2NzI5NikgfCAwO1xuICAgIGRhdGFbaW5kZXggKyAxXSA9IChlcG9jaE1zIC8gNDI5NDk2NzI5NikgfCAwO1xufTtcbmNvbnN0IHNldEVwb2NoTXNUb01pY3Jvc2Vjb25kc0xvbmcgPSAoZGF0YTogSW50MzJBcnJheSwgaW5kZXg6IG51bWJlciwgZXBvY2hNczogbnVtYmVyKSA9PiB7XG4gICAgZGF0YVtpbmRleF0gPSAoKGVwb2NoTXMgKiAxMDAwKSAlIDQyOTQ5NjcyOTYpIHwgMDtcbiAgICBkYXRhW2luZGV4ICsgMV0gPSAoKGVwb2NoTXMgKiAxMDAwKSAvIDQyOTQ5NjcyOTYpIHwgMDtcbn07XG5jb25zdCBzZXRFcG9jaE1zVG9OYW5vc2Vjb25kc0xvbmcgPSAoZGF0YTogSW50MzJBcnJheSwgaW5kZXg6IG51bWJlciwgZXBvY2hNczogbnVtYmVyKSA9PiB7XG4gICAgZGF0YVtpbmRleF0gPSAoKGVwb2NoTXMgKiAxMDAwMDAwKSAlIDQyOTQ5NjcyOTYpIHwgMDtcbiAgICBkYXRhW2luZGV4ICsgMV0gPSAoKGVwb2NoTXMgKiAxMDAwMDAwKSAvIDQyOTQ5NjcyOTYpIHwgMDtcbn07XG5cbmNvbnN0IHNldFZhcmlhYmxlV2lkdGhCeXRlcyA9ICh2YWx1ZXM6IFVpbnQ4QXJyYXksIHZhbHVlT2Zmc2V0czogSW50MzJBcnJheSwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFVpbnQ4QXJyYXkpID0+IHtcbiAgICBjb25zdCB7IFtpbmRleF06IHgsIFtpbmRleCArIDFdOiB5IH0gPSB2YWx1ZU9mZnNldHM7XG4gICAgaWYgKHggIT0gbnVsbCAmJiB5ICE9IG51bGwpIHtcbiAgICAgICAgdmFsdWVzLnNldCh2YWx1ZS5zdWJhcnJheSgwLCB5IC0geCksIHgpO1xuICAgIH1cbn07XG5cbmNvbnN0IHNldEJvb2wgPSA8VCBleHRlbmRzIEJvb2w+KHsgb2Zmc2V0LCB2YWx1ZXMgfTogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWw6IGJvb2xlYW4pID0+IHtcbiAgICBjb25zdCBpZHggPSBvZmZzZXQgKyBpbmRleDtcbiAgICB2YWwgPyAodmFsdWVzW2lkeCA+PiAzXSB8PSAgKDEgPDwgKGlkeCAlIDgpKSkgIC8vIHRydWVcbiAgICAgICAgOiAodmFsdWVzW2lkeCA+PiAzXSAmPSB+KDEgPDwgKGlkeCAlIDgpKSk7IC8vIGZhbHNlXG5cbn07XG5cbnR5cGUgTnVtZXJpYzFYID0gSW50OCB8IEludDE2IHwgSW50MzIgfCBVaW50OCB8IFVpbnQxNiB8IFVpbnQzMiB8IEZsb2F0MzIgfCBGbG9hdDY0O1xudHlwZSBOdW1lcmljMlggPSBJbnQ2NCB8IFVpbnQ2NDtcblxuY29uc3Qgc2V0RGF0ZURheSAgICAgICAgID0gPFQgZXh0ZW5kcyBEYXRlRGF5PiAgICAgICAgKHsgdmFsdWVzICAgICAgICAgfTogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHsgc2V0RXBvY2hNc1RvRGF5cyh2YWx1ZXMsIGluZGV4LCB2YWx1ZS52YWx1ZU9mKCkpOyB9O1xuY29uc3Qgc2V0RGF0ZU1pbGxpc2Vjb25kID0gPFQgZXh0ZW5kcyBEYXRlTWlsbGlzZWNvbmQ+KHsgdmFsdWVzICAgICAgICAgfTogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHsgc2V0RXBvY2hNc1RvTWlsbGlzZWNvbmRzTG9uZyh2YWx1ZXMsIGluZGV4ICogMiwgdmFsdWUudmFsdWVPZigpKTsgfTtcbmNvbnN0IHNldE51bWVyaWMgICAgICAgICA9IDxUIGV4dGVuZHMgTnVtZXJpYzFYPiAgICAgICh7IHN0cmlkZSwgdmFsdWVzIH06IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiB7IHZhbHVlc1tzdHJpZGUgKiBpbmRleF0gPSB2YWx1ZTsgfTtcbmNvbnN0IHNldEZsb2F0MTYgICAgICAgICA9IDxUIGV4dGVuZHMgRmxvYXQxNj4gICAgICAgICh7IHN0cmlkZSwgdmFsdWVzIH06IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiB7IHZhbHVlc1tzdHJpZGUgKiBpbmRleF0gPSAodmFsdWUgKiAzMjc2NykgKyAzMjc2NzsgfTtcbmNvbnN0IHNldE51bWVyaWNYMiAgICAgICA9IDxUIGV4dGVuZHMgTnVtZXJpYzJYPiAgICAgICh7IHN0cmlkZSwgdmFsdWVzIH06IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiB7IHZhbHVlcy5zZXQodmFsdWUuc3ViYXJyYXkoMCwgc3RyaWRlKSwgc3RyaWRlICogaW5kZXgpOyB9O1xuY29uc3Qgc2V0Rml4ZWRTaXplQmluYXJ5ID0gPFQgZXh0ZW5kcyBGaXhlZFNpemVCaW5hcnk+KHsgc3RyaWRlLCB2YWx1ZXMgfTogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHsgdmFsdWVzLnNldCh2YWx1ZS5zdWJhcnJheSgwLCBzdHJpZGUpLCBzdHJpZGUgKiBpbmRleCk7IH07XG5cbmNvbnN0IHNldEJpbmFyeSA9IDxUIGV4dGVuZHMgQmluYXJ5Pih7IHZhbHVlcywgdmFsdWVPZmZzZXRzIH06IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKSA9PiBzZXRWYXJpYWJsZVdpZHRoQnl0ZXModmFsdWVzLCB2YWx1ZU9mZnNldHMsIGluZGV4LCB2YWx1ZSk7XG5jb25zdCBzZXRVdGY4ID0gPFQgZXh0ZW5kcyBVdGY4Pih7IHZhbHVlcywgdmFsdWVPZmZzZXRzIH06IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKSA9PiB7XG4gICAgc2V0VmFyaWFibGVXaWR0aEJ5dGVzKHZhbHVlcywgdmFsdWVPZmZzZXRzLCBpbmRleCwgZW5jb2RlVXRmOCh2YWx1ZSkpO1xufTtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmNvbnN0IHNldEludCA9IDxUIGV4dGVuZHMgSW50Pih2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiB7XG4gICAgdmVjdG9yLnR5cGUuYml0V2lkdGggPCA2NFxuICAgICAgICA/IHNldE51bWVyaWMoPGFueT4gdmVjdG9yLCBpbmRleCwgdmFsdWUgYXMgTnVtZXJpYzFYWydUVmFsdWUnXSlcbiAgICAgICAgOiBzZXROdW1lcmljWDIoPGFueT4gdmVjdG9yLCBpbmRleCwgdmFsdWUgYXMgTnVtZXJpYzJYWydUVmFsdWUnXSk7XG59O1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuY29uc3Qgc2V0RmxvYXQgPSA8VCBleHRlbmRzIEZsb2F0Pih2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiB7XG4gICAgdmVjdG9yLnR5cGUucHJlY2lzaW9uICE9PSBQcmVjaXNpb24uSEFMRlxuICAgICAgICA/IHNldE51bWVyaWMoPGFueT4gdmVjdG9yLCBpbmRleCwgdmFsdWUpXG4gICAgICAgIDogc2V0RmxvYXQxNig8YW55PiB2ZWN0b3IsIGluZGV4LCB2YWx1ZSk7XG59O1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuY29uc3QgZ2V0RGF0ZSA9IDxUIGV4dGVuZHMgRGF0ZV8+ICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiB7XG4gICAgdmVjdG9yLnR5cGUudW5pdCA9PT0gRGF0ZVVuaXQuREFZXG4gICAgICAgID8gc2V0RGF0ZURheSh2ZWN0b3IsIGluZGV4LCB2YWx1ZSlcbiAgICAgICAgOiBzZXREYXRlTWlsbGlzZWNvbmQodmVjdG9yLCBpbmRleCwgdmFsdWUpO1xufTtcblxuY29uc3Qgc2V0VGltZXN0YW1wU2Vjb25kICAgICAgPSA8VCBleHRlbmRzIFRpbWVzdGFtcFNlY29uZD4gICAgICh7IHZhbHVlcyB9OiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQgPT4gc2V0RXBvY2hNc1RvTWlsbGlzZWNvbmRzTG9uZyh2YWx1ZXMsIGluZGV4ICogMiwgdmFsdWUgLyAxMDAwKTtcbmNvbnN0IHNldFRpbWVzdGFtcE1pbGxpc2Vjb25kID0gPFQgZXh0ZW5kcyBUaW1lc3RhbXBNaWxsaXNlY29uZD4oeyB2YWx1ZXMgfTogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHNldEVwb2NoTXNUb01pbGxpc2Vjb25kc0xvbmcodmFsdWVzLCBpbmRleCAqIDIsIHZhbHVlKTtcbmNvbnN0IHNldFRpbWVzdGFtcE1pY3Jvc2Vjb25kID0gPFQgZXh0ZW5kcyBUaW1lc3RhbXBNaWNyb3NlY29uZD4oeyB2YWx1ZXMgfTogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHNldEVwb2NoTXNUb01pY3Jvc2Vjb25kc0xvbmcodmFsdWVzLCBpbmRleCAqIDIsIHZhbHVlKTtcbmNvbnN0IHNldFRpbWVzdGFtcE5hbm9zZWNvbmQgID0gPFQgZXh0ZW5kcyBUaW1lc3RhbXBOYW5vc2Vjb25kPiAoeyB2YWx1ZXMgfTogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHNldEVwb2NoTXNUb05hbm9zZWNvbmRzTG9uZyh2YWx1ZXMsIGluZGV4ICogMiwgdmFsdWUpO1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmNvbnN0IHNldFRpbWVzdGFtcCAgICAgICAgICAgID0gPFQgZXh0ZW5kcyBUaW1lc3RhbXA+KHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHtcbiAgICBzd2l0Y2ggKHZlY3Rvci50eXBlLnVuaXQpIHtcbiAgICAgICAgY2FzZSBUaW1lVW5pdC5TRUNPTkQ6ICAgICAgcmV0dXJuICAgICAgc2V0VGltZXN0YW1wU2Vjb25kKHZlY3RvciBhcyBWZWN0b3I8VGltZXN0YW1wU2Vjb25kPiwgaW5kZXgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSBUaW1lVW5pdC5NSUxMSVNFQ09ORDogcmV0dXJuIHNldFRpbWVzdGFtcE1pbGxpc2Vjb25kKHZlY3RvciBhcyBWZWN0b3I8VGltZXN0YW1wTWlsbGlzZWNvbmQ+LCBpbmRleCwgdmFsdWUpO1xuICAgICAgICBjYXNlIFRpbWVVbml0Lk1JQ1JPU0VDT05EOiByZXR1cm4gc2V0VGltZXN0YW1wTWljcm9zZWNvbmQodmVjdG9yIGFzIFZlY3RvcjxUaW1lc3RhbXBNaWNyb3NlY29uZD4sIGluZGV4LCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgVGltZVVuaXQuTkFOT1NFQ09ORDogIHJldHVybiAgc2V0VGltZXN0YW1wTmFub3NlY29uZCh2ZWN0b3IgYXMgVmVjdG9yPFRpbWVzdGFtcE5hbm9zZWNvbmQ+LCBpbmRleCwgdmFsdWUpO1xuICAgIH1cbn07XG5cbmNvbnN0IHNldFRpbWVTZWNvbmQgICAgICA9IDxUIGV4dGVuZHMgVGltZVNlY29uZD4gICAgICh7IHZhbHVlcywgc3RyaWRlIH06IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiB7IHZhbHVlc1tzdHJpZGUgKiBpbmRleF0gPSB2YWx1ZTsgfTtcbmNvbnN0IHNldFRpbWVNaWxsaXNlY29uZCA9IDxUIGV4dGVuZHMgVGltZU1pbGxpc2Vjb25kPih7IHZhbHVlcywgc3RyaWRlIH06IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiB7IHZhbHVlc1tzdHJpZGUgKiBpbmRleF0gPSB2YWx1ZTsgfTtcbmNvbnN0IHNldFRpbWVNaWNyb3NlY29uZCA9IDxUIGV4dGVuZHMgVGltZU1pY3Jvc2Vjb25kPih7IHZhbHVlcyAgICAgICAgIH06IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiB7IHZhbHVlcy5zZXQodmFsdWUuc3ViYXJyYXkoMCwgMiksIDIgKiBpbmRleCk7IH07XG5jb25zdCBzZXRUaW1lTmFub3NlY29uZCAgPSA8VCBleHRlbmRzIFRpbWVOYW5vc2Vjb25kPiAoeyB2YWx1ZXMgICAgICAgICB9OiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQgPT4geyB2YWx1ZXMuc2V0KHZhbHVlLnN1YmFycmF5KDAsIDIpLCAyICogaW5kZXgpOyB9O1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmNvbnN0IHNldFRpbWUgICAgICAgICAgICA9IDxUIGV4dGVuZHMgVGltZT4odmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQgPT4ge1xuICAgIHN3aXRjaCAodmVjdG9yLnR5cGUudW5pdCkge1xuICAgICAgICBjYXNlIFRpbWVVbml0LlNFQ09ORDogICAgICByZXR1cm4gICAgICBzZXRUaW1lU2Vjb25kKHZlY3RvciBhcyBWZWN0b3I8VGltZVNlY29uZD4sIGluZGV4LCB2YWx1ZSBhcyBUaW1lU2Vjb25kWydUVmFsdWUnXSk7XG4gICAgICAgIGNhc2UgVGltZVVuaXQuTUlMTElTRUNPTkQ6IHJldHVybiBzZXRUaW1lTWlsbGlzZWNvbmQodmVjdG9yIGFzIFZlY3RvcjxUaW1lTWlsbGlzZWNvbmQ+LCBpbmRleCwgdmFsdWUgYXMgVGltZU1pbGxpc2Vjb25kWydUVmFsdWUnXSk7XG4gICAgICAgIGNhc2UgVGltZVVuaXQuTUlDUk9TRUNPTkQ6IHJldHVybiBzZXRUaW1lTWljcm9zZWNvbmQodmVjdG9yIGFzIFZlY3RvcjxUaW1lTWljcm9zZWNvbmQ+LCBpbmRleCwgdmFsdWUgYXMgVGltZU1pY3Jvc2Vjb25kWydUVmFsdWUnXSk7XG4gICAgICAgIGNhc2UgVGltZVVuaXQuTkFOT1NFQ09ORDogIHJldHVybiAgc2V0VGltZU5hbm9zZWNvbmQodmVjdG9yIGFzIFZlY3RvcjxUaW1lTmFub3NlY29uZD4sIGluZGV4LCB2YWx1ZSBhcyBUaW1lTmFub3NlY29uZFsnVFZhbHVlJ10pO1xuICAgIH1cbn07XG5cbmNvbnN0IHNldERlY2ltYWwgPSA8VCBleHRlbmRzIERlY2ltYWw+KHsgdmFsdWVzIH06IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiB7IHZhbHVlcy5zZXQodmFsdWUuc3ViYXJyYXkoMCwgNCksIDQgKiBpbmRleCk7IH07XG5cbmNvbnN0IHNldExpc3QgPSA8VCBleHRlbmRzIExpc3Q+KHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHtcbiAgICBjb25zdCB2YWx1ZXMgPSB2ZWN0b3IuZ2V0Q2hpbGRBdCgwKSE7XG4gICAgY29uc3QgeyB2YWx1ZU9mZnNldHMsIHN0cmlkZSB9ID0gdmVjdG9yO1xuICAgIGxldCBpZHggPSAtMSwgb2Zmc2V0ID0gdmFsdWVPZmZzZXRzW2luZGV4ICogc3RyaWRlXTtcbiAgICBsZXQgZW5kID0gTWF0aC5taW4odmFsdWUubGVuZ3RoLCB2YWx1ZU9mZnNldHNbKGluZGV4ICogc3RyaWRlKSArIDFdIC0gb2Zmc2V0KTtcbiAgICB3aGlsZSAob2Zmc2V0IDwgZW5kKSB7XG4gICAgICAgIHZhbHVlcy5zZXQob2Zmc2V0KyssIHZhbHVlLmdldCgrK2lkeCkpO1xuICAgIH1cbn07XG5cbmNvbnN0IHNldE5lc3RlZCA9IDxcbiAgICBTIGV4dGVuZHMgeyBba2V5OiBzdHJpbmddOiBEYXRhVHlwZSB9LFxuICAgIFYgZXh0ZW5kcyBWZWN0b3I8TWFwXzxTPj4gfCBWZWN0b3I8U3RydWN0PFM+PlxuPih2ZWN0b3I6IFYsIGluZGV4OiBudW1iZXIsIHZhbHVlOiBWWydUVmFsdWUnXSkgPT4ge1xuICAgIHZlY3Rvci50eXBlLmNoaWxkcmVuLmZvckVhY2goKHsgbmFtZSB9LCBpZHgpID0+IHtcbiAgICAgICAgY29uc3Qga2lkID0gdmVjdG9yLmdldENoaWxkQXQoaWR4KTtcbiAgICAgICAga2lkICYmIGtpZC5zZXQoaW5kZXgsIHZhbHVlW25hbWVdKTtcbiAgICB9KTtcbn07XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5jb25zdCBzZXRVbmlvbiA9IDxcbiAgICBWIGV4dGVuZHMgVmVjdG9yPFVuaW9uPiB8IFZlY3RvcjxEZW5zZVVuaW9uPiB8IFZlY3RvcjxTcGFyc2VVbmlvbj5cbj4odmVjdG9yOiBWLCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVlsnVFZhbHVlJ10pID0+IHtcbiAgICB2ZWN0b3IudHlwZS5tb2RlID09PSBVbmlvbk1vZGUuRGVuc2UgP1xuICAgICAgICBzZXREZW5zZVVuaW9uKHZlY3RvciBhcyBWZWN0b3I8RGVuc2VVbmlvbj4sIGluZGV4LCB2YWx1ZSkgOlxuICAgICAgICBzZXRTcGFyc2VVbmlvbih2ZWN0b3IgYXMgVmVjdG9yPFNwYXJzZVVuaW9uPiwgaW5kZXgsIHZhbHVlKTtcbn07XG5cbmNvbnN0IHNldERlbnNlVW5pb24gPSA8VCBleHRlbmRzIERlbnNlVW5pb24+KHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHtcbiAgICBjb25zdCB7IHR5cGVJZHMsIHR5cGU6IHsgdHlwZUlkVG9DaGlsZEluZGV4IH0gfSA9IHZlY3RvcjtcbiAgICBjb25zdCBjaGlsZCA9IHZlY3Rvci5nZXRDaGlsZEF0KHR5cGVJZFRvQ2hpbGRJbmRleFt0eXBlSWRzW2luZGV4XV0pO1xuICAgIGNoaWxkICYmIGNoaWxkLnNldCh2ZWN0b3IudmFsdWVPZmZzZXRzW2luZGV4XSwgdmFsdWUpO1xufTtcblxuY29uc3Qgc2V0U3BhcnNlVW5pb24gPSA8VCBleHRlbmRzIFNwYXJzZVVuaW9uPih2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiB7XG4gICAgY29uc3QgeyB0eXBlSWRzLCB0eXBlOiB7IHR5cGVJZFRvQ2hpbGRJbmRleCB9IH0gPSB2ZWN0b3I7XG4gICAgY29uc3QgY2hpbGQgPSB2ZWN0b3IuZ2V0Q2hpbGRBdCh0eXBlSWRUb0NoaWxkSW5kZXhbdHlwZUlkc1tpbmRleF1dKTtcbiAgICBjaGlsZCAmJiBjaGlsZC5zZXQoaW5kZXgsIHZhbHVlKTtcbn07XG5cbmNvbnN0IHNldERpY3Rpb25hcnkgPSA8VCBleHRlbmRzIERpY3Rpb25hcnk+KHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHtcbiAgICBjb25zdCBrZXkgPSB2ZWN0b3IuZ2V0S2V5KGluZGV4KTtcbiAgICBpZiAoa2V5ICE9PSBudWxsKSB7XG4gICAgICAgIHZlY3Rvci5zZXRWYWx1ZShrZXksIHZhbHVlKTtcbiAgICB9XG59O1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuY29uc3Qgc2V0SW50ZXJ2YWxWYWx1ZSA9IDxUIGV4dGVuZHMgSW50ZXJ2YWw+KHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHtcbiAgICAodmVjdG9yLnR5cGUudW5pdCA9PT0gSW50ZXJ2YWxVbml0LkRBWV9USU1FKVxuICAgICAgICA/IHNldEludGVydmFsRGF5VGltZSh2ZWN0b3IsIGluZGV4LCB2YWx1ZSlcbiAgICAgICAgOiBzZXRJbnRlcnZhbFllYXJNb250aCh2ZWN0b3IsIGluZGV4LCB2YWx1ZSk7XG59O1xuXG5jb25zdCBzZXRJbnRlcnZhbERheVRpbWUgPSA8VCBleHRlbmRzIEludGVydmFsRGF5VGltZT4oeyB2YWx1ZXMgfTogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHsgdmFsdWVzLnNldCh2YWx1ZS5zdWJhcnJheSgwLCAyKSwgMiAqIGluZGV4KTsgfTtcbmNvbnN0IHNldEludGVydmFsWWVhck1vbnRoID0gPFQgZXh0ZW5kcyBJbnRlcnZhbFllYXJNb250aD4oeyB2YWx1ZXMgfTogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHsgdmFsdWVzW2luZGV4XSA9ICh2YWx1ZVswXSAqIDEyKSArICh2YWx1ZVsxXSAlIDEyKTsgfTtcblxuY29uc3Qgc2V0Rml4ZWRTaXplTGlzdCA9IDxUIGV4dGVuZHMgRml4ZWRTaXplTGlzdD4odmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IGNoaWxkID0gdmVjdG9yLmdldENoaWxkQXQoMCkhLCB7IHN0cmlkZSB9ID0gdmVjdG9yO1xuICAgIGZvciAobGV0IGlkeCA9IC0xLCBvZmZzZXQgPSBpbmRleCAqIHN0cmlkZTsgKytpZHggPCBzdHJpZGU7KSB7XG4gICAgICAgIGNoaWxkLnNldChvZmZzZXQgKyBpZHgsIHZhbHVlLmdldChpZHgpKTtcbiAgICB9XG59O1xuXG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdEJvb2wgICAgICAgICAgICAgICAgID0gICAgICAgICAgICAgICAgIHNldEJvb2w7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdEludCAgICAgICAgICAgICAgICAgID0gICAgICAgICAgICAgICAgICBzZXRJbnQ7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdEludDggICAgICAgICAgICAgICAgID0gICAgICAgICAgICAgIHNldE51bWVyaWM7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdEludDE2ICAgICAgICAgICAgICAgID0gICAgICAgICAgICAgIHNldE51bWVyaWM7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdEludDMyICAgICAgICAgICAgICAgID0gICAgICAgICAgICAgIHNldE51bWVyaWM7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdEludDY0ICAgICAgICAgICAgICAgID0gICAgICAgICAgICBzZXROdW1lcmljWDI7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdFVpbnQ4ICAgICAgICAgICAgICAgID0gICAgICAgICAgICAgIHNldE51bWVyaWM7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdFVpbnQxNiAgICAgICAgICAgICAgID0gICAgICAgICAgICAgIHNldE51bWVyaWM7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdFVpbnQzMiAgICAgICAgICAgICAgID0gICAgICAgICAgICAgIHNldE51bWVyaWM7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdFVpbnQ2NCAgICAgICAgICAgICAgID0gICAgICAgICAgICBzZXROdW1lcmljWDI7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdEZsb2F0ICAgICAgICAgICAgICAgID0gICAgICAgICAgICAgICAgc2V0RmxvYXQ7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdEZsb2F0MTYgICAgICAgICAgICAgID0gICAgICAgICAgICAgIHNldEZsb2F0MTY7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdEZsb2F0MzIgICAgICAgICAgICAgID0gICAgICAgICAgICAgIHNldE51bWVyaWM7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdEZsb2F0NjQgICAgICAgICAgICAgID0gICAgICAgICAgICAgIHNldE51bWVyaWM7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdFV0ZjggICAgICAgICAgICAgICAgID0gICAgICAgICAgICAgICAgIHNldFV0Zjg7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdEJpbmFyeSAgICAgICAgICAgICAgID0gICAgICAgICAgICAgICBzZXRCaW5hcnk7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdEZpeGVkU2l6ZUJpbmFyeSAgICAgID0gICAgICBzZXRGaXhlZFNpemVCaW5hcnk7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdERhdGUgICAgICAgICAgICAgICAgID0gICAgICAgICAgICAgICAgIGdldERhdGU7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdERhdGVEYXkgICAgICAgICAgICAgID0gICAgICAgICAgICAgIHNldERhdGVEYXk7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdERhdGVNaWxsaXNlY29uZCAgICAgID0gICAgICBzZXREYXRlTWlsbGlzZWNvbmQ7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcCAgICAgICAgICAgID0gICAgICAgICAgICBzZXRUaW1lc3RhbXA7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcFNlY29uZCAgICAgID0gICAgICBzZXRUaW1lc3RhbXBTZWNvbmQ7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcE1pbGxpc2Vjb25kID0gc2V0VGltZXN0YW1wTWlsbGlzZWNvbmQ7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcE1pY3Jvc2Vjb25kID0gc2V0VGltZXN0YW1wTWljcm9zZWNvbmQ7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcE5hbm9zZWNvbmQgID0gIHNldFRpbWVzdGFtcE5hbm9zZWNvbmQ7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdFRpbWUgICAgICAgICAgICAgICAgID0gICAgICAgICAgICAgICAgIHNldFRpbWU7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdFRpbWVTZWNvbmQgICAgICAgICAgID0gICAgICAgICAgIHNldFRpbWVTZWNvbmQ7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdFRpbWVNaWxsaXNlY29uZCAgICAgID0gICAgICBzZXRUaW1lTWlsbGlzZWNvbmQ7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdFRpbWVNaWNyb3NlY29uZCAgICAgID0gICAgICBzZXRUaW1lTWljcm9zZWNvbmQ7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdFRpbWVOYW5vc2Vjb25kICAgICAgID0gICAgICAgc2V0VGltZU5hbm9zZWNvbmQ7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdERlY2ltYWwgICAgICAgICAgICAgID0gICAgICAgICAgICAgIHNldERlY2ltYWw7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdExpc3QgICAgICAgICAgICAgICAgID0gICAgICAgICAgICAgICAgIHNldExpc3Q7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdFN0cnVjdCAgICAgICAgICAgICAgID0gICAgICAgICAgICAgICBzZXROZXN0ZWQ7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdFVuaW9uICAgICAgICAgICAgICAgID0gICAgICAgICAgICAgICAgc2V0VW5pb247XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdERlbnNlVW5pb24gICAgICAgICAgID0gICAgICAgICAgIHNldERlbnNlVW5pb247XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdFNwYXJzZVVuaW9uICAgICAgICAgID0gICAgICAgICAgc2V0U3BhcnNlVW5pb247XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdERpY3Rpb25hcnkgICAgICAgICAgID0gICAgICAgICAgIHNldERpY3Rpb25hcnk7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdEludGVydmFsICAgICAgICAgICAgID0gICAgICAgIHNldEludGVydmFsVmFsdWU7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdEludGVydmFsRGF5VGltZSAgICAgID0gICAgICBzZXRJbnRlcnZhbERheVRpbWU7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdEludGVydmFsWWVhck1vbnRoICAgID0gICAgc2V0SW50ZXJ2YWxZZWFyTW9udGg7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdEZpeGVkU2l6ZUxpc3QgICAgICAgID0gICAgICAgIHNldEZpeGVkU2l6ZUxpc3Q7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdE1hcCAgICAgICAgICAgICAgICAgID0gICAgICAgICAgICAgICBzZXROZXN0ZWQ7XG5cbmV4cG9ydCBjb25zdCBpbnN0YW5jZSA9IG5ldyBTZXRWaXNpdG9yKCk7XG4iXX0=
