"use strict";
// Licensed to the Apache Software Foundation (ASF) under one
// or more contributor license agreements.  See the NOTICE file
// distributed with this work for additional information
// regarding copyright ownership.  The ASF licenses this file
// to you under the Apache License, Version 2.0 (the
// "License"); you may not use this file except in compliance
// with the License.  You may obtain a copy of the License at
//
//   http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing,
// software distributed under the License is distributed on an
// "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
// KIND, either express or implied.  See the License for the
// specific language governing permissions and limitations
// under the License.
Object.defineProperty(exports, "__esModule", { value: true });
const visitor_1 = require("../visitor");
const text_encoding_utf_8_1 = require("text-encoding-utf-8");
const enum_1 = require("../enum");
exports.encodeUtf8 = ((encoder) => encoder.encode.bind(encoder))(new text_encoding_utf_8_1.TextEncoder('utf-8'));
class SetVisitor extends visitor_1.Visitor {
}
exports.SetVisitor = SetVisitor;
const setEpochMsToDays = (data, index, epochMs) => { data[index] = (epochMs / 86400000) | 0; };
const setEpochMsToMillisecondsLong = (data, index, epochMs) => {
    data[index] = (epochMs % 4294967296) | 0;
    data[index + 1] = (epochMs / 4294967296) | 0;
};
const setEpochMsToMicrosecondsLong = (data, index, epochMs) => {
    data[index] = ((epochMs / 1000) % 4294967296) | 0;
    data[index + 1] = ((epochMs / 1000) / 4294967296) | 0;
};
const setEpochMsToNanosecondsLong = (data, index, epochMs) => {
    data[index] = ((epochMs / 1000000) % 4294967296) | 0;
    data[index + 1] = ((epochMs / 1000000) / 4294967296) | 0;
};
const setVariableWidthBytes = (values, valueOffsets, index, value) => {
    const { [index]: x, [index + 1]: y } = valueOffsets;
    if (x != null && y != null) {
        values.set(value.subarray(0, y - x), x);
    }
};
const setBool = ({ offset, values }, index, val) => {
    const idx = offset + index;
    val ? (values[idx >> 3] |= (1 << (idx % 8))) // true
        : (values[idx >> 3] &= ~(1 << (idx % 8))); // false
};
const setDateDay = ({ values }, index, value) => { setEpochMsToDays(values, index, value.valueOf()); };
const setDateMillisecond = ({ values }, index, value) => { setEpochMsToMillisecondsLong(values, index * 2, value.valueOf()); };
const setNumeric = ({ stride, values }, index, value) => { values[stride * index] = value; };
const setFloat16 = ({ stride, values }, index, value) => { values[stride * index] = (value * 32767) + 32767; };
const setNumericX2 = ({ stride, values }, index, value) => { values.set(value.subarray(0, stride), stride * index); };
const setFixedSizeBinary = ({ stride, values }, index, value) => { values.set(value.subarray(0, stride), stride * index); };
const setBinary = ({ values, valueOffsets }, index, value) => setVariableWidthBytes(values, valueOffsets, index, value);
const setUtf8 = ({ values, valueOffsets }, index, value) => {
    setVariableWidthBytes(values, valueOffsets, index, exports.encodeUtf8(value));
};
const setInt = (vector, index, value) => {
    vector.type.bitWidth < 64
        ? setNumeric(vector, index, value)
        : setNumericX2(vector, index, value);
};
const setFloat = (vector, index, value) => {
    vector.type.precision !== enum_1.Precision.HALF
        ? setNumeric(vector, index, value)
        : setFloat16(vector, index, value);
};
const getDate = (vector, index, value) => {
    vector.type.unit === enum_1.DateUnit.DAY
        ? setDateDay(vector, index, value)
        : setDateMillisecond(vector, index, value);
};
const setTimestampSecond = ({ values }, index, value) => setEpochMsToMillisecondsLong(values, index * 2, value / 1000);
const setTimestampMillisecond = ({ values }, index, value) => setEpochMsToMillisecondsLong(values, index * 2, value);
const setTimestampMicrosecond = ({ values }, index, value) => setEpochMsToMicrosecondsLong(values, index * 2, value);
const setTimestampNanosecond = ({ values }, index, value) => setEpochMsToNanosecondsLong(values, index * 2, value);
const setTimestamp = (vector, index, value) => {
    switch (vector.type.unit) {
        case enum_1.TimeUnit.SECOND: return setTimestampSecond(vector, index, value);
        case enum_1.TimeUnit.MILLISECOND: return setTimestampMillisecond(vector, index, value);
        case enum_1.TimeUnit.MICROSECOND: return setTimestampMicrosecond(vector, index, value);
        case enum_1.TimeUnit.NANOSECOND: return setTimestampNanosecond(vector, index, value);
    }
};
const setTimeSecond = ({ values, stride }, index, value) => { values[stride * index] = value; };
const setTimeMillisecond = ({ values, stride }, index, value) => { values[stride * index] = value; };
const setTimeMicrosecond = ({ values }, index, value) => { values.set(value.subarray(0, 2), 2 * index); };
const setTimeNanosecond = ({ values }, index, value) => { values.set(value.subarray(0, 2), 2 * index); };
const setTime = (vector, index, value) => {
    switch (vector.type.unit) {
        case enum_1.TimeUnit.SECOND: return setTimeSecond(vector, index, value);
        case enum_1.TimeUnit.MILLISECOND: return setTimeMillisecond(vector, index, value);
        case enum_1.TimeUnit.MICROSECOND: return setTimeMicrosecond(vector, index, value);
        case enum_1.TimeUnit.NANOSECOND: return setTimeNanosecond(vector, index, value);
    }
};
const setDecimal = ({ values }, index, value) => { values.set(value.subarray(0, 4), 4 * index); };
const setList = (vector, index, value) => {
    const values = vector.getChildAt(0);
    const { valueOffsets, stride } = vector;
    let idx = -1, offset = valueOffsets[index * stride];
    let end = Math.min(value.length, valueOffsets[(index * stride) + 1] - offset);
    while (offset < end) {
        values.set(offset++, value.get(++idx));
    }
};
const setNested = (vector, index, value) => {
    vector.type.children.forEach(({ name }, idx) => {
        const kid = vector.getChildAt(idx);
        kid && kid.set(index, value[name]);
    });
};
const setUnion = (vector, index, value) => {
    vector.type.mode === enum_1.UnionMode.Dense ?
        setDenseUnion(vector, index, value) :
        setSparseUnion(vector, index, value);
};
const setDenseUnion = (vector, index, value) => {
    const { typeIds, type: { typeIdToChildIndex } } = vector;
    const child = vector.getChildAt(typeIdToChildIndex[typeIds[index]]);
    child && child.set(vector.valueOffsets[index], value);
};
const setSparseUnion = (vector, index, value) => {
    const { typeIds, type: { typeIdToChildIndex } } = vector;
    const child = vector.getChildAt(typeIdToChildIndex[typeIds[index]]);
    child && child.set(index, value);
};
const setDictionary = (vector, index, value) => {
    return vector.dictionary.set(vector.indices.get(index), value);
};
const setIntervalValue = (vector, index, value) => {
    (vector.type.unit === enum_1.IntervalUnit.DAY_TIME)
        ? setIntervalDayTime(vector, index, value)
        : setIntervalYearMonth(vector, index, value);
};
const setIntervalDayTime = ({ values }, index, value) => { values.set(value.subarray(0, 2), 2 * index); };
const setIntervalYearMonth = ({ values }, index, value) => { values[index] = (value[0] * 12) + (value[1] % 12); };
const setFixedSizeList = (vector, index, value) => {
    const child = vector.getChildAt(0), { stride } = vector;
    for (let idx = -1, offset = index * stride; ++idx < stride;) {
        child.set(offset + idx, value.get(++idx));
    }
};
SetVisitor.prototype.visitBool = setBool;
SetVisitor.prototype.visitInt = setInt;
SetVisitor.prototype.visitInt8 = setNumeric;
SetVisitor.prototype.visitInt16 = setNumeric;
SetVisitor.prototype.visitInt32 = setNumeric;
SetVisitor.prototype.visitInt64 = setNumericX2;
SetVisitor.prototype.visitUint8 = setNumeric;
SetVisitor.prototype.visitUint16 = setNumeric;
SetVisitor.prototype.visitUint32 = setNumeric;
SetVisitor.prototype.visitUint64 = setNumericX2;
SetVisitor.prototype.visitFloat = setFloat;
SetVisitor.prototype.visitFloat16 = setFloat16;
SetVisitor.prototype.visitFloat32 = setNumeric;
SetVisitor.prototype.visitFloat64 = setNumeric;
SetVisitor.prototype.visitUtf8 = setUtf8;
SetVisitor.prototype.visitBinary = setBinary;
SetVisitor.prototype.visitFixedSizeBinary = setFixedSizeBinary;
SetVisitor.prototype.visitDate = getDate;
SetVisitor.prototype.visitDateDay = setDateDay;
SetVisitor.prototype.visitDateMillisecond = setDateMillisecond;
SetVisitor.prototype.visitTimestamp = setTimestamp;
SetVisitor.prototype.visitTimestampSecond = setTimestampSecond;
SetVisitor.prototype.visitTimestampMillisecond = setTimestampMillisecond;
SetVisitor.prototype.visitTimestampMicrosecond = setTimestampMicrosecond;
SetVisitor.prototype.visitTimestampNanosecond = setTimestampNanosecond;
SetVisitor.prototype.visitTime = setTime;
SetVisitor.prototype.visitTimeSecond = setTimeSecond;
SetVisitor.prototype.visitTimeMillisecond = setTimeMillisecond;
SetVisitor.prototype.visitTimeMicrosecond = setTimeMicrosecond;
SetVisitor.prototype.visitTimeNanosecond = setTimeNanosecond;
SetVisitor.prototype.visitDecimal = setDecimal;
SetVisitor.prototype.visitList = setList;
SetVisitor.prototype.visitStruct = setNested;
SetVisitor.prototype.visitUnion = setUnion;
SetVisitor.prototype.visitDenseUnion = setDenseUnion;
SetVisitor.prototype.visitSparseUnion = setSparseUnion;
SetVisitor.prototype.visitDictionary = setDictionary;
SetVisitor.prototype.visitInterval = setIntervalValue;
SetVisitor.prototype.visitIntervalDayTime = setIntervalDayTime;
SetVisitor.prototype.visitIntervalYearMonth = setIntervalYearMonth;
SetVisitor.prototype.visitFixedSizeList = setFixedSizeList;
SetVisitor.prototype.visitMap = setNested;
exports.instance = new SetVisitor();

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZpc2l0b3Ivc2V0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSw2REFBNkQ7QUFDN0QsK0RBQStEO0FBQy9ELHdEQUF3RDtBQUN4RCw2REFBNkQ7QUFDN0Qsb0RBQW9EO0FBQ3BELDZEQUE2RDtBQUM3RCw2REFBNkQ7QUFDN0QsRUFBRTtBQUNGLCtDQUErQztBQUMvQyxFQUFFO0FBQ0YsNkRBQTZEO0FBQzdELDhEQUE4RDtBQUM5RCx5REFBeUQ7QUFDekQsNERBQTREO0FBQzVELDBEQUEwRDtBQUMxRCxxQkFBcUI7O0FBR3JCLHdDQUFxQztBQUVyQyw2REFBa0Q7QUFDbEQsa0NBQXVGO0FBYTFFLFFBQUEsVUFBVSxHQUFHLENBQUMsQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUNuQyxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQW1FLENBQ2pHLENBQUMsSUFBSSxpQ0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7QUFzRDVCLE1BQWEsVUFBVyxTQUFRLGlCQUFPO0NBQ3RDO0FBREQsZ0NBQ0M7QUFFRCxNQUFNLGdCQUFnQixHQUFHLENBQUMsSUFBZ0IsRUFBRSxLQUFhLEVBQUUsT0FBZSxFQUFFLEVBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzNILE1BQU0sNEJBQTRCLEdBQUcsQ0FBQyxJQUFnQixFQUFFLEtBQWEsRUFBRSxPQUFlLEVBQUUsRUFBRTtJQUN0RixJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3pDLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ2pELENBQUMsQ0FBQztBQUNGLE1BQU0sNEJBQTRCLEdBQUcsQ0FBQyxJQUFnQixFQUFFLEtBQWEsRUFBRSxPQUFlLEVBQUUsRUFBRTtJQUN0RixJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsR0FBRyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDbEQsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxHQUFHLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUMxRCxDQUFDLENBQUM7QUFDRixNQUFNLDJCQUEyQixHQUFHLENBQUMsSUFBZ0IsRUFBRSxLQUFhLEVBQUUsT0FBZSxFQUFFLEVBQUU7SUFDckYsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3JELElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUMsR0FBRyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDN0QsQ0FBQyxDQUFDO0FBRUYsTUFBTSxxQkFBcUIsR0FBRyxDQUFDLE1BQWtCLEVBQUUsWUFBd0IsRUFBRSxLQUFhLEVBQUUsS0FBaUIsRUFBRSxFQUFFO0lBQzdHLE1BQU0sRUFBRSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxZQUFZLENBQUM7SUFDcEQsSUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUU7UUFDeEIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7S0FDM0M7QUFDTCxDQUFDLENBQUM7QUFFRixNQUFNLE9BQU8sR0FBRyxDQUFpQixFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQWEsRUFBRSxLQUFhLEVBQUUsR0FBWSxFQUFFLEVBQUU7SUFDM0YsTUFBTSxHQUFHLEdBQUcsTUFBTSxHQUFHLEtBQUssQ0FBQztJQUMzQixHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsSUFBSyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUUsT0FBTztRQUNsRCxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUTtBQUUzRCxDQUFDLENBQUM7QUFLRixNQUFNLFVBQVUsR0FBVyxDQUE0QixFQUFFLE1BQU0sRUFBcUIsRUFBRSxLQUFhLEVBQUUsS0FBa0IsRUFBUSxFQUFFLEdBQUcsZ0JBQWdCLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN4TCxNQUFNLGtCQUFrQixHQUFHLENBQTRCLEVBQUUsTUFBTSxFQUFxQixFQUFFLEtBQWEsRUFBRSxLQUFrQixFQUFRLEVBQUUsR0FBRyw0QkFBNEIsQ0FBQyxNQUFNLEVBQUUsS0FBSyxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN4TSxNQUFNLFVBQVUsR0FBVyxDQUE0QixFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQWEsRUFBRSxLQUFhLEVBQUUsS0FBa0IsRUFBUSxFQUFFLEdBQUcsTUFBTSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDdEssTUFBTSxVQUFVLEdBQVcsQ0FBNEIsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFhLEVBQUUsS0FBYSxFQUFFLEtBQWtCLEVBQVEsRUFB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QXVCLGFBQWEsQ0FBQztBQUN6RSxVQUFVLENBQUMsU0FBUyxDQUFDLG9CQUFvQixHQUFhLGtCQUFrQixDQUFDO0FBQ3pFLFVBQVUsQ0FBQyxTQUFTLENBQUMsb0JBQW9CLEdBQWEsa0JBQWtCLENBQUM7QUFDekUsVUFBVSxDQUFDLFNBQVMsQ0FBQyxtQkFBbUIsR0FBZSxpQkFBaUIsQ0FBQztBQUN6RSxVQUFVLENBQUMsU0FBUyxDQUFDLFlBQVksR0FBNkIsVUFBVSxDQUFDO0FBQ3pFLFVBQVUsQ0FBQyxTQUFTLENBQUMsU0FBUyxHQUFtQyxPQUFPLENBQUM7QUFDekUsVUFBVSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEdBQStCLFNBQVMsQ0FBQztBQUN6RSxVQUFVLENBQUMsU0FBUyxDQUFDLFVBQVUsR0FBaUMsUUFBUSxDQUFDO0FBQ3pFLFVBQVUsQ0FBQyxTQUFTLENBQUMsZUFBZSxHQUF1QixhQUFhLENBQUM7QUFDekUsVUFBVSxDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsR0FBcUIsY0FBYyxDQUFDO0FBQ3pFLFVBQVUsQ0FBQyxTQUFTLENBQUMsZUFBZSxHQUF1QixhQUFhLENBQUM7QUFDekUsVUFBVSxDQUFDLFNBQVMsQ0FBQyxhQUFhLEdBQXNCLGdCQUFnQixDQUFDO0FBQ3pFLFVBQVUsQ0FBQyxTQUFTLENBQUMsb0JBQW9CLEdBQWEsa0JBQWtCLENBQUM7QUFDekUsVUFBVSxDQUFDLFNBQVMsQ0FBQyxzQkFBc0IsR0FBUyxvQkFBb0IsQ0FBQztBQUN6RSxVQUFVLENBQUMsU0FBUyxDQUFDLGtCQUFrQixHQUFpQixnQkFBZ0IsQ0FBQztBQUN6RSxVQUFVLENBQUMsU0FBUyxDQUFDLFFBQVEsR0FBa0MsU0FBUyxDQUFDO0FBRTVELFFBQUEsUUFBUSxHQUFHLElBQUksVUFBVSxFQUFFLENBQUMiLCJmaWxlIjoidmlzaXRvci9zZXQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4vLyBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbi8vIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4vLyByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4vLyB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4vLyBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Vcbi8vIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbi8vIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4vLyBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuLy8gS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4vLyBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4vLyB1bmRlciB0aGUgTGljZW5zZS5cblxuaW1wb3J0IHsgRGF0YSB9IGZyb20gJy4uL2RhdGEnO1xuaW1wb3J0IHsgVmlzaXRvciB9IGZyb20gJy4uL3Zpc2l0b3InO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSAnLi4vaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBUZXh0RW5jb2RlciB9IGZyb20gJ3RleHQtZW5jb2RpbmctdXRmLTgnO1xuaW1wb3J0IHsgVHlwZSwgVW5pb25Nb2RlLCBQcmVjaXNpb24sIERhdGVVbml0LCBUaW1lVW5pdCwgSW50ZXJ2YWxVbml0IH0gZnJvbSAnLi4vZW51bSc7XG5pbXBvcnQge1xuICAgIERhdGFUeXBlLCBEaWN0aW9uYXJ5LFxuICAgIEJvb2wsIE51bGwsIFV0ZjgsIEJpbmFyeSwgRGVjaW1hbCwgRml4ZWRTaXplQmluYXJ5LCBMaXN0LCBGaXhlZFNpemVMaXN0LCBNYXBfLCBTdHJ1Y3QsXG4gICAgRmxvYXQsIEZsb2F0MTYsIEZsb2F0MzIsIEZsb2F0NjQsXG4gICAgSW50LCBVaW50OCwgVWludDE2LCBVaW50MzIsIFVpbnQ2NCwgSW50OCwgSW50MTYsIEludDMyLCBJbnQ2NCxcbiAgICBEYXRlXywgRGF0ZURheSwgRGF0ZU1pbGxpc2Vjb25kLFxuICAgIEludGVydmFsLCBJbnRlcnZhbERheVRpbWUsIEludGVydmFsWWVhck1vbnRoLFxuICAgIFRpbWUsIFRpbWVTZWNvbmQsIFRpbWVNaWxsaXNlY29uZCwgVGltZU1pY3Jvc2Vjb25kLCBUaW1lTmFub3NlY29uZCxcbiAgICBUaW1lc3RhbXAsIFRpbWVzdGFtcFNlY29uZCwgVGltZXN0YW1wTWlsbGlzZWNvbmQsIFRpbWVzdGFtcE1pY3Jvc2Vjb25kLCBUaW1lc3RhbXBOYW5vc2Vjb25kLFxuICAgIFVuaW9uLCBEZW5zZVVuaW9uLCBTcGFyc2VVbmlvbixcbn0gZnJvbSAnLi4vdHlwZSc7XG5cbmV4cG9ydCBjb25zdCBlbmNvZGVVdGY4ID0gKChlbmNvZGVyKSA9PlxuICAgIGVuY29kZXIuZW5jb2RlLmJpbmQoZW5jb2RlcikgYXMgKGlucHV0Pzogc3RyaW5nLCBvcHRpb25zPzogeyBzdHJlYW0/OiBib29sZWFuIH0pID0+IFVpbnQ4QXJyYXlcbikobmV3IFRleHRFbmNvZGVyKCd1dGYtOCcpKTtcblxuZXhwb3J0IGludGVyZmFjZSBTZXRWaXNpdG9yIGV4dGVuZHMgVmlzaXRvciB7XG4gICAgdmlzaXRNYW55IDxUIGV4dGVuZHMgVmVjdG9yPiAgKG5vZGVzOiBUW10sIGluZGljZXM6IG51bWJlcltdLCB2YWx1ZXM6IFRbJ1RWYWx1ZSddW10pOiB2b2lkW107XG4gICAgdmlzaXQgICAgIDxUIGV4dGVuZHMgVmVjdG9yPiAgKG5vZGU6IFQsIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSAgICAgICAgICApOiB2b2lkO1xuICAgIGdldFZpc2l0Rm48VCBleHRlbmRzIFR5cGU+ICAgIChub2RlOiBUICAgICAgICApOiAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBWZWN0b3I8VD5bJ1RWYWx1ZSddKSA9PiB2b2lkO1xuICAgIGdldFZpc2l0Rm48VCBleHRlbmRzIERhdGFUeXBlPihub2RlOiBWZWN0b3I8VD4pOiAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBWZWN0b3I8VD5bJ1RWYWx1ZSddKSA9PiB2b2lkO1xuICAgIGdldFZpc2l0Rm48VCBleHRlbmRzIERhdGFUeXBlPihub2RlOiBEYXRhPFQ+ICApOiAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBWZWN0b3I8VD5bJ1RWYWx1ZSddKSA9PiB2b2lkO1xuICAgIGdldFZpc2l0Rm48VCBleHRlbmRzIERhdGFUeXBlPihub2RlOiBUICAgICAgICApOiAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBWZWN0b3I8VD5bJ1RWYWx1ZSddKSA9PiB2b2lkO1xuICAgIHZpc2l0TnVsbCAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBOdWxsPiAgICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRCb29sICAgICAgICAgICAgICAgICA8VCBleHRlbmRzIEJvb2w+ICAgICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdEludCAgICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgSW50PiAgICAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0SW50OCAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBJbnQ4PiAgICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRJbnQxNiAgICAgICAgICAgICAgICA8VCBleHRlbmRzIEludDE2PiAgICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdEludDMyICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgSW50MzI+ICAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0SW50NjQgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBJbnQ2ND4gICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRVaW50OCAgICAgICAgICAgICAgICA8VCBleHRlbmRzIFVpbnQ4PiAgICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdFVpbnQxNiAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgVWludDE2PiAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0VWludDMyICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBVaW50MzI+ICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRVaW50NjQgICAgICAgICAgICAgICA8VCBleHRlbmRzIFVpbnQ2ND4gICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdEZsb2F0ICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgRmxvYXQ+ICAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0RmxvYXQxNiAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBGbG9hdDE2PiAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRGbG9hdDMyICAgICAgICAgICAgICA8VCBleHRlbmRzIEZsb2F0MzI+ICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdEZsb2F0NjQgICAgICAgICAgICAgIDxUIGV4dGVuZHMgRmxvYXQ2ND4gICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0VXRmOCAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBVdGY4PiAgICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRCaW5hcnkgICAgICAgICAgICAgICA8VCBleHRlbmRzIEJpbmFyeT4gICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdEZpeGVkU2l6ZUJpbmFyeSAgICAgIDxUIGV4dGVuZHMgRml4ZWRTaXplQmluYXJ5PiAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0RGF0ZSAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBEYXRlXz4gICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXREYXRlRGF5ICAgICAgICAgICAgICA8VCBleHRlbmRzIERhdGVEYXk+ICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdERhdGVNaWxsaXNlY29uZCAgICAgIDxUIGV4dGVuZHMgRGF0ZU1pbGxpc2Vjb25kPiAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0VGltZXN0YW1wICAgICAgICAgICAgPFQgZXh0ZW5kcyBUaW1lc3RhbXA+ICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRUaW1lc3RhbXBTZWNvbmQgICAgICA8VCBleHRlbmRzIFRpbWVzdGFtcFNlY29uZD4gICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdFRpbWVzdGFtcE1pbGxpc2Vjb25kIDxUIGV4dGVuZHMgVGltZXN0YW1wTWlsbGlzZWNvbmQ+KHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0VGltZXN0YW1wTWljcm9zZWNvbmQgPFQgZXh0ZW5kcyBUaW1lc3RhbXBNaWNyb3NlY29uZD4odmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRUaW1lc3RhbXBOYW5vc2Vjb25kICA8VCBleHRlbmRzIFRpbWVzdGFtcE5hbm9zZWNvbmQ+ICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdFRpbWUgICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgVGltZT4gICAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0VGltZVNlY29uZCAgICAgICAgICAgPFQgZXh0ZW5kcyBUaW1lU2Vjb25kPiAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRUaW1lTWlsbGlzZWNvbmQgICAgICA8VCBleHRlbmRzIFRpbWVNaWxsaXNlY29uZD4gICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdFRpbWVNaWNyb3NlY29uZCAgICAgIDxUIGV4dGVuZHMgVGltZU1pY3Jvc2Vjb25kPiAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0VGltZU5hbm9zZWNvbmQgICAgICAgPFQgZXh0ZW5kcyBUaW1lTmFub3NlY29uZD4gICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXREZWNpbWFsICAgICAgICAgICAgICA8VCBleHRlbmRzIERlY2ltYWw+ICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdExpc3QgICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgTGlzdD4gICAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0U3RydWN0ICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBTdHJ1Y3Q+ICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRVbmlvbiAgICAgICAgICAgICAgICA8VCBleHRlbmRzIFVuaW9uPiAgICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdERlbnNlVW5pb24gICAgICAgICAgIDxUIGV4dGVuZHMgRGVuc2VVbmlvbj4gICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0U3BhcnNlVW5pb24gICAgICAgICAgPFQgZXh0ZW5kcyBTcGFyc2VVbmlvbj4gICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXREaWN0aW9uYXJ5ICAgICAgICAgICA8VCBleHRlbmRzIERpY3Rpb25hcnk+ICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdEludGVydmFsICAgICAgICAgICAgIDxUIGV4dGVuZHMgSW50ZXJ2YWw+ICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0SW50ZXJ2YWxEYXlUaW1lICAgICAgPFQgZXh0ZW5kcyBJbnRlcnZhbERheVRpbWU+ICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRJbnRlcnZhbFllYXJNb250aCAgICA8VCBleHRlbmRzIEludGVydmFsWWVhck1vbnRoPiAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdEZpeGVkU2l6ZUxpc3QgICAgICAgIDxUIGV4dGVuZHMgRml4ZWRTaXplTGlzdD4gICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0TWFwICAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBNYXBfPiAgICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG59XG5cbmV4cG9ydCBjbGFzcyBTZXRWaXNpdG9yIGV4dGVuZHMgVmlzaXRvciB7XG59XG5cbmNvbnN0IHNldEVwb2NoTXNUb0RheXMgPSAoZGF0YTogSW50MzJBcnJheSwgaW5kZXg6IG51bWJlciwgZXBvY2hNczogbnVtYmVyKSA9PiB7IGRhdGFbaW5kZXhdID0gKGVwb2NoTXMgLyA4NjQwMDAwMCkgfCAwOyB9O1xuY29uc3Qgc2V0RXBvY2hNc1RvTWlsbGlzZWNvbmRzTG9uZyA9IChkYXRhOiBJbnQzMkFycmF5LCBpbmRleDogbnVtYmVyLCBlcG9jaE1zOiBudW1iZXIpID0+IHtcbiAgICBkYXRhW2luZGV4XSA9IChlcG9jaE1zICUgNDI5NDk2NzI5NikgfCAwO1xuICAgIGRhdGFbaW5kZXggKyAxXSA9IChlcG9jaE1zIC8gNDI5NDk2NzI5NikgfCAwO1xufTtcbmNvbnN0IHNldEVwb2NoTXNUb01pY3Jvc2Vjb25kc0xvbmcgPSAoZGF0YTogSW50MzJBcnJheSwgaW5kZXg6IG51bWJlciwgZXBvY2hNczogbnVtYmVyKSA9PiB7XG4gICAgZGF0YVtpbmRleF0gPSAoKGVwb2NoTXMgLyAxMDAwKSAlIDQyOTQ5NjcyOTYpIHwgMDtcbiAgICBkYXRhW2luZGV4ICsgMV0gPSAoKGVwb2NoTXMgLyAxMDAwKSAvIDQyOTQ5NjcyOTYpIHwgMDtcbn07XG5jb25zdCBzZXRFcG9jaE1zVG9OYW5vc2Vjb25kc0xvbmcgPSAoZGF0YTogSW50MzJBcnJheSwgaW5kZXg6IG51bWJlciwgZXBvY2hNczogbnVtYmVyKSA9PiB7XG4gICAgZGF0YVtpbmRleF0gPSAoKGVwb2NoTXMgLyAxMDAwMDAwKSAlIDQyOTQ5NjcyOTYpIHwgMDtcbiAgICBkYXRhW2luZGV4ICsgMV0gPSAoKGVwb2NoTXMgLyAxMDAwMDAwKSAvIDQyOTQ5NjcyOTYpIHwgMDtcbn07XG5cbmNvbnN0IHNldFZhcmlhYmxlV2lkdGhCeXRlcyA9ICh2YWx1ZXM6IFVpbnQ4QXJyYXksIHZhbHVlT2Zmc2V0czogSW50MzJBcnJheSwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFVpbnQ4QXJyYXkpID0+IHtcbiAgICBjb25zdCB7IFtpbmRleF06IHgsIFtpbmRleCArIDFdOiB5IH0gPSB2YWx1ZU9mZnNldHM7XG4gICAgaWYgKHggIT0gbnVsbCAmJiB5ICE9IG51bGwpIHtcbiAgICAgICAgdmFsdWVzLnNldCh2YWx1ZS5zdWJhcnJheSgwLCB5IC0geCksIHgpO1xuICAgIH1cbn07XG5cbmNvbnN0IHNldEJvb2wgPSA8VCBleHRlbmRzIEJvb2w+KHsgb2Zmc2V0LCB2YWx1ZXMgfTogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWw6IGJvb2xlYW4pID0+IHtcbiAgICBjb25zdCBpZHggPSBvZmZzZXQgKyBpbmRleDtcbiAgICB2YWwgPyAodmFsdWVzW2lkeCA+PiAzXSB8PSAgKDEgPDwgKGlkeCAlIDgpKSkgIC8vIHRydWVcbiAgICAgICAgOiAodmFsdWVzW2lkeCA+PiAzXSAmPSB+KDEgPDwgKGlkeCAlIDgpKSk7IC8vIGZhbHNlXG5cbn07XG5cbnR5cGUgTnVtZXJpYzFYID0gSW50OCB8IEludDE2IHwgSW50MzIgfCBVaW50OCB8IFVpbnQxNiB8IFVpbnQzMiB8IEZsb2F0MzIgfCBGbG9hdDY0O1xudHlwZSBOdW1lcmljMlggPSBJbnQ2NCB8IFVpbnQ2NDtcblxuY29uc3Qgc2V0RGF0ZURheSAgICAgICAgID0gPFQgZXh0ZW5kcyBEYXRlRGF5PiAgICAgICAgKHsgdmFsdWVzICAgICAgICAgfTogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHsgc2V0RXBvY2hNc1RvRGF5cyh2YWx1ZXMsIGluZGV4LCB2YWx1ZS52YWx1ZU9mKCkpOyB9O1xuY29uc3Qgc2V0RGF0ZU1pbGxpc2Vjb25kID0gPFQgZXh0ZW5kcyBEYXRlTWlsbGlzZWNvbmQ+KHsgdmFsdWVzICAgICAgICAgfTogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHsgc2V0RXBvY2hNc1RvTWlsbGlzZWNvbmRzTG9uZyh2YWx1ZXMsIGluZGV4ICogMiwgdmFsdWUudmFsdWVPZigpKTsgfTtcbmNvbnN0IHNldE51bWVyaWMgICAgICAgICA9IDxUIGV4dGVuZHMgTnVtZXJpYzFYPiAgICAgICh7IHN0cmlkZSwgdmFsdWVzIH06IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiB7IHZhbHVlc1tzdHJpZGUgKiBpbmRleF0gPSB2YWx1ZTsgfTtcbmNvbnN0IHNldEZsb2F0MTYgICAgICAgICA9IDxUIGV4dGVuZHMgRmxvYXQxNj4gICAgICAgICh7IHN0cmlkZSwgdmFsdWVzIH06IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiB7IHZhbHVlc1tzdHJpZGUgKiBpbmRleF0gPSAodmFsdWUgKiAzMjc2NykgKyAzMjc2NzsgfTtcbmNvbnN0IHNldE51bWVyaWNYMiAgICAgICA9IDxUIGV4dGVuZHMgTnVtZXJpYzJYPiAgICAgICh7IHN0cmlkZSwgdmFsdWVzIH06IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiB7IHZhbHVlcy5zZXQodmFsdWUuc3ViYXJyYXkoMCwgc3RyaWRlKSwgc3RyaWRlICogaW5kZXgpOyB9O1xuY29uc3Qgc2V0Rml4ZWRTaXplQmluYXJ5ID0gPFQgZXh0ZW5kcyBGaXhlZFNpemVCaW5hcnk+KHsgc3RyaWRlLCB2YWx1ZXMgfTogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHsgdmFsdWVzLnNldCh2YWx1ZS5zdWJhcnJheSgwLCBzdHJpZGUpLCBzdHJpZGUgKiBpbmRleCk7IH07XG5cbmNvbnN0IHNldEJpbmFyeSA9IDxUIGV4dGVuZHMgQmluYXJ5Pih7IHZhbHVlcywgdmFsdWVPZmZzZXRzIH06IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKSA9PiBzZXRWYXJpYWJsZVdpZHRoQnl0ZXModmFsdWVzLCB2YWx1ZU9mZnNldHMsIGluZGV4LCB2YWx1ZSk7XG5jb25zdCBzZXRVdGY4ID0gPFQgZXh0ZW5kcyBVdGY4Pih7IHZhbHVlcywgdmFsdWVPZmZzZXRzIH06IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKSA9PiB7XG4gICAgc2V0VmFyaWFibGVXaWR0aEJ5dGVzKHZhbHVlcywgdmFsdWVPZmZzZXRzLCBpbmRleCwgZW5jb2RlVXRmOCh2YWx1ZSkpO1xufTtcblxuY29uc3Qgc2V0SW50ID0gPFQgZXh0ZW5kcyBJbnQ+KHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHtcbiAgICB2ZWN0b3IudHlwZS5iaXRXaWR0aCA8IDY0XG4gICAgICAgID8gc2V0TnVtZXJpYyg8YW55PiB2ZWN0b3IsIGluZGV4LCB2YWx1ZSBhcyBOdW1lcmljMVhbJ1RWYWx1ZSddKVxuICAgICAgICA6IHNldE51bWVyaWNYMig8YW55PiB2ZWN0b3IsIGluZGV4LCB2YWx1ZSBhcyBOdW1lcmljMlhbJ1RWYWx1ZSddKTtcbn07XG5cbmNvbnN0IHNldEZsb2F0ID0gPFQgZXh0ZW5kcyBGbG9hdD4odmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQgPT4ge1xuICAgIHZlY3Rvci50eXBlLnByZWNpc2lvbiAhPT0gUHJlY2lzaW9uLkhBTEZcbiAgICAgICAgPyBzZXROdW1lcmljKDxhbnk+IHZlY3RvciwgaW5kZXgsIHZhbHVlKVxuICAgICAgICA6IHNldEZsb2F0MTYoPGFueT4gdmVjdG9yLCBpbmRleCwgdmFsdWUpO1xufTtcblxuY29uc3QgZ2V0RGF0ZSA9IDxUIGV4dGVuZHMgRGF0ZV8+ICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiB7XG4gICAgdmVjdG9yLnR5cGUudW5pdCA9PT0gRGF0ZVVuaXQuREFZXG4gICAgICAgID8gc2V0RGF0ZURheSh2ZWN0b3IsIGluZGV4LCB2YWx1ZSlcbiAgICAgICAgOiBzZXREYXRlTWlsbGlzZWNvbmQodmVjdG9yLCBpbmRleCwgdmFsdWUpO1xufTtcblxuY29uc3Qgc2V0VGltZXN0YW1wU2Vjb25kICAgICAgPSA8VCBleHRlbmRzIFRpbWVzdGFtcFNlY29uZD4gICAgICh7IHZhbHVlcyB9OiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQgPT4gc2V0RXBvY2hNc1RvTWlsbGlzZWNvbmRzTG9uZyh2YWx1ZXMsIGluZGV4ICogMiwgdmFsdWUgLyAxMDAwKTtcbmNvbnN0IHNldFRpbWVzdGFtcE1pbGxpc2Vjb25kID0gPFQgZXh0ZW5kcyBUaW1lc3RhbXBNaWxsaXNlY29uZD4oeyB2YWx1ZXMgfTogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHNldEVwb2NoTXNUb01pbGxpc2Vjb25kc0xvbmcodmFsdWVzLCBpbmRleCAqIDIsIHZhbHVlKTtcbmNvbnN0IHNldFRpbWVzdGFtcE1pY3Jvc2Vjb25kID0gPFQgZXh0ZW5kcyBUaW1lc3RhbXBNaWNyb3NlY29uZD4oeyB2YWx1ZXMgfTogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHNldEVwb2NoTXNUb01pY3Jvc2Vjb25kc0xvbmcodmFsdWVzLCBpbmRleCAqIDIsIHZhbHVlKTtcbmNvbnN0IHNldFRpbWVzdGFtcE5hbm9zZWNvbmQgID0gPFQgZXh0ZW5kcyBUaW1lc3RhbXBOYW5vc2Vjb25kPiAoeyB2YWx1ZXMgfTogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHNldEVwb2NoTXNUb05hbm9zZWNvbmRzTG9uZyh2YWx1ZXMsIGluZGV4ICogMiwgdmFsdWUpO1xuY29uc3Qgc2V0VGltZXN0YW1wICAgICAgICAgICAgPSA8VCBleHRlbmRzIFRpbWVzdGFtcD4odmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQgPT4ge1xuICAgIHN3aXRjaCAodmVjdG9yLnR5cGUudW5pdCkge1xuICAgICAgICBjYXNlIFRpbWVVbml0LlNFQ09ORDogICAgICByZXR1cm4gICAgICBzZXRUaW1lc3RhbXBTZWNvbmQodmVjdG9yIGFzIFZlY3RvcjxUaW1lc3RhbXBTZWNvbmQ+LCBpbmRleCwgdmFsdWUpO1xuICAgICAgICBjYXNlIFRpbWVVbml0Lk1JTExJU0VDT05EOiByZXR1cm4gc2V0VGltZXN0YW1wTWlsbGlzZWNvbmQodmVjdG9yIGFzIFZlY3RvcjxUaW1lc3RhbXBNaWxsaXNlY29uZD4sIGluZGV4LCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgVGltZVVuaXQuTUlDUk9TRUNPTkQ6IHJldHVybiBzZXRUaW1lc3RhbXBNaWNyb3NlY29uZCh2ZWN0b3IgYXMgVmVjdG9yPFRpbWVzdGFtcE1pY3Jvc2Vjb25kPiwgaW5kZXgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSBUaW1lVW5pdC5OQU5PU0VDT05EOiAgcmV0dXJuICBzZXRUaW1lc3RhbXBOYW5vc2Vjb25kKHZlY3RvciBhcyBWZWN0b3I8VGltZXN0YW1wTmFub3NlY29uZD4sIGluZGV4LCB2YWx1ZSk7XG4gICAgfVxufTtcblxuY29uc3Qgc2V0VGltZVNlY29uZCAgICAgID0gPFQgZXh0ZW5kcyBUaW1lU2Vjb25kPiAgICAgKHsgdmFsdWVzLCBzdHJpZGUgfTogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHsgdmFsdWVzW3N0cmlkZSAqIGluZGV4XSA9IHZhbHVlOyB9O1xuY29uc3Qgc2V0VGltZU1pbGxpc2Vjb25kID0gPFQgZXh0ZW5kcyBUaW1lTWlsbGlzZWNvbmQ+KHsgdmFsdWVzLCBzdHJpZGUgfTogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHsgdmFsdWVzW3N0cmlkZSAqIGluZGV4XSA9IHZhbHVlOyB9O1xuY29uc3Qgc2V0VGltZU1pY3Jvc2Vjb25kID0gPFQgZXh0ZW5kcyBUaW1lTWljcm9zZWNvbmQ+KHsgdmFsdWVzICAgICAgICAgfTogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHsgdmFsdWVzLnNldCh2YWx1ZS5zdWJhcnJheSgwLCAyKSwgMiAqIGluZGV4KTsgfTtcbmNvbnN0IHNldFRpbWVOYW5vc2Vjb25kICA9IDxUIGV4dGVuZHMgVGltZU5hbm9zZWNvbmQ+ICh7IHZhbHVlcyAgICAgICAgIH06IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiB7IHZhbHVlcy5zZXQodmFsdWUuc3ViYXJyYXkoMCwgMiksIDIgKiBpbmRleCk7IH07XG5jb25zdCBzZXRUaW1lICAgICAgICAgICAgPSA8VCBleHRlbmRzIFRpbWU+KHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHtcbiAgICBzd2l0Y2ggKHZlY3Rvci50eXBlLnVuaXQpIHtcbiAgICAgICAgY2FzZSBUaW1lVW5pdC5TRUNPTkQ6ICAgICAgcmV0dXJuICAgICAgc2V0VGltZVNlY29uZCh2ZWN0b3IgYXMgVmVjdG9yPFRpbWVTZWNvbmQ+LCBpbmRleCwgdmFsdWUgYXMgVGltZVNlY29uZFsnVFZhbHVlJ10pO1xuICAgICAgICBjYXNlIFRpbWVVbml0Lk1JTExJU0VDT05EOiByZXR1cm4gc2V0VGltZU1pbGxpc2Vjb25kKHZlY3RvciBhcyBWZWN0b3I8VGltZU1pbGxpc2Vjb25kPiwgaW5kZXgsIHZhbHVlIGFzIFRpbWVNaWxsaXNlY29uZFsnVFZhbHVlJ10pO1xuICAgICAgICBjYXNlIFRpbWVVbml0Lk1JQ1JPU0VDT05EOiByZXR1cm4gc2V0VGltZU1pY3Jvc2Vjb25kKHZlY3RvciBhcyBWZWN0b3I8VGltZU1pY3Jvc2Vjb25kPiwgaW5kZXgsIHZhbHVlIGFzIFRpbWVNaWNyb3NlY29uZFsnVFZhbHVlJ10pO1xuICAgICAgICBjYXNlIFRpbWVVbml0Lk5BTk9TRUNPTkQ6ICByZXR1cm4gIHNldFRpbWVOYW5vc2Vjb25kKHZlY3RvciBhcyBWZWN0b3I8VGltZU5hbm9zZWNvbmQ+LCBpbmRleCwgdmFsdWUgYXMgVGltZU5hbm9zZWNvbmRbJ1RWYWx1ZSddKTtcbiAgICB9XG59O1xuXG5jb25zdCBzZXREZWNpbWFsID0gPFQgZXh0ZW5kcyBEZWNpbWFsPih7IHZhbHVlcyB9OiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQgPT4geyB2YWx1ZXMuc2V0KHZhbHVlLnN1YmFycmF5KDAsIDQpLCA0ICogaW5kZXgpOyB9O1xuXG5jb25zdCBzZXRMaXN0ID0gPFQgZXh0ZW5kcyBMaXN0Pih2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiB7XG4gICAgY29uc3QgdmFsdWVzID0gdmVjdG9yLmdldENoaWxkQXQoMCkhO1xuICAgIGNvbnN0IHsgdmFsdWVPZmZzZXRzLCBzdHJpZGUgfSA9IHZlY3RvcjtcbiAgICBsZXQgaWR4ID0gLTEsIG9mZnNldCA9IHZhbHVlT2Zmc2V0c1tpbmRleCAqIHN0cmlkZV07XG4gICAgbGV0IGVuZCA9IE1hdGgubWluKHZhbHVlLmxlbmd0aCwgdmFsdWVPZmZzZXRzWyhpbmRleCAqIHN0cmlkZSkgKyAxXSAtIG9mZnNldCk7XG4gICAgd2hpbGUgKG9mZnNldCA8IGVuZCkge1xuICAgICAgICB2YWx1ZXMuc2V0KG9mZnNldCsrLCB2YWx1ZS5nZXQoKytpZHgpKTtcbiAgICB9XG59O1xuXG5jb25zdCBzZXROZXN0ZWQgPSA8XG4gICAgUyBleHRlbmRzIHsgW2tleTogc3RyaW5nXTogRGF0YVR5cGUgfSxcbiAgICBWIGV4dGVuZHMgVmVjdG9yPE1hcF88Uz4+IHwgVmVjdG9yPFN0cnVjdDxTPj5cbj4odmVjdG9yOiBWLCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVlsnVFZhbHVlJ10pID0+IHtcbiAgICB2ZWN0b3IudHlwZS5jaGlsZHJlbi5mb3JFYWNoKCh7IG5hbWUgfSwgaWR4KSA9PiB7XG4gICAgICAgIGNvbnN0IGtpZCA9IHZlY3Rvci5nZXRDaGlsZEF0KGlkeCk7XG4gICAgICAgIGtpZCAmJiBraWQuc2V0KGluZGV4LCB2YWx1ZVtuYW1lXSk7XG4gICAgfSk7XG59O1xuXG5jb25zdCBzZXRVbmlvbiA9IDxcbiAgICBWIGV4dGVuZHMgVmVjdG9yPFVuaW9uPiB8IFZlY3RvcjxEZW5zZVVuaW9uPiB8IFZlY3RvcjxTcGFyc2VVbmlvbj5cbj4odmVjdG9yOiBWLCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVlsnVFZhbHVlJ10pID0+IHtcbiAgICB2ZWN0b3IudHlwZS5tb2RlID09PSBVbmlvbk1vZGUuRGVuc2UgP1xuICAgICAgICBzZXREZW5zZVVuaW9uKHZlY3RvciBhcyBWZWN0b3I8RGVuc2VVbmlvbj4sIGluZGV4LCB2YWx1ZSkgOlxuICAgICAgICBzZXRTcGFyc2VVbmlvbih2ZWN0b3IgYXMgVmVjdG9yPFNwYXJzZVVuaW9uPiwgaW5kZXgsIHZhbHVlKTtcbn07XG5cbmNvbnN0IHNldERlbnNlVW5pb24gPSA8VCBleHRlbmRzIERlbnNlVW5pb24+KHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHtcbiAgICBjb25zdCB7IHR5cGVJZHMsIHR5cGU6IHsgdHlwZUlkVG9DaGlsZEluZGV4IH0gfSA9IHZlY3RvcjtcbiAgICBjb25zdCBjaGlsZCA9IHZlY3Rvci5nZXRDaGlsZEF0KHR5cGVJZFRvQ2hpbGRJbmRleFt0eXBlSWRzW2luZGV4XV0pO1xuICAgIGNoaWxkICYmIGNoaWxkLnNldCh2ZWN0b3IudmFsdWVPZmZzZXRzW2luZGV4XSwgdmFsdWUpO1xufTtcblxuY29uc3Qgc2V0U3BhcnNlVW5pb24gPSA8VCBleHRlbmRzIFNwYXJzZVVuaW9uPih2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiB7XG4gICAgY29uc3QgeyB0eXBlSWRzLCB0eXBlOiB7IHR5cGVJZFRvQ2hpbGRJbmRleCB9IH0gPSB2ZWN0b3I7XG4gICAgY29uc3QgY2hpbGQgPSB2ZWN0b3IuZ2V0Q2hpbGRBdCh0eXBlSWRUb0NoaWxkSW5kZXhbdHlwZUlkc1tpbmRleF1dKTtcbiAgICBjaGlsZCAmJiBjaGlsZC5zZXQoaW5kZXgsIHZhbHVlKTtcbn07XG5cbmNvbnN0IHNldERpY3Rpb25hcnkgPSA8VCBleHRlbmRzIERpY3Rpb25hcnk+KHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHtcbiAgICByZXR1cm4gdmVjdG9yLmRpY3Rpb25hcnkuc2V0KHZlY3Rvci5pbmRpY2VzLmdldChpbmRleCkgYXMgbnVtYmVyLCB2YWx1ZSk7XG59O1xuXG5jb25zdCBzZXRJbnRlcnZhbFZhbHVlID0gPFQgZXh0ZW5kcyBJbnRlcnZhbD4odmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQgPT4ge1xuICAgICh2ZWN0b3IudHlwZS51bml0ID09PSBJbnRlcnZhbFVuaXQuREFZX1RJTUUpXG4gICAgICAgID8gc2V0SW50ZXJ2YWxEYXlUaW1lKHZlY3RvciwgaW5kZXgsIHZhbHVlKVxuICAgICAgICA6IHNldEludGVydmFsWWVhck1vbnRoKHZlY3RvciwgaW5kZXgsIHZhbHVlKTtcbn07XG5cbmNvbnN0IHNldEludGVydmFsRGF5VGltZSA9IDxUIGV4dGVuZHMgSW50ZXJ2YWxEYXlUaW1lPih7IHZhbHVlcyB9OiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQgPT4geyB2YWx1ZXMuc2V0KHZhbHVlLnN1YmFycmF5KDAsIDIpLCAyICogaW5kZXgpOyB9O1xuY29uc3Qgc2V0SW50ZXJ2YWxZZWFyTW9udGggPSA8VCBleHRlbmRzIEludGVydmFsWWVhck1vbnRoPih7IHZhbHVlcyB9OiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQgPT4geyB2YWx1ZXNbaW5kZXhdID0gKHZhbHVlWzBdICogMTIpICsgKHZhbHVlWzFdICUgMTIpOyB9O1xuXG5jb25zdCBzZXRGaXhlZFNpemVMaXN0ID0gPFQgZXh0ZW5kcyBGaXhlZFNpemVMaXN0Pih2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiB7XG4gICAgY29uc3QgY2hpbGQgPSB2ZWN0b3IuZ2V0Q2hpbGRBdCgwKSEsIHsgc3RyaWRlIH0gPSB2ZWN0b3I7XG4gICAgZm9yIChsZXQgaWR4ID0gLTEsIG9mZnNldCA9IGluZGV4ICogc3RyaWRlOyArK2lkeCA8IHN0cmlkZTspIHtcbiAgICAgICAgY2hpbGQuc2V0KG9mZnNldCArIGlkeCwgdmFsdWUuZ2V0KCsraWR4KSk7XG4gICAgfVxufTtcblxuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRCb29sICAgICAgICAgICAgICAgICA9ICAgICAgICAgICAgICAgICBzZXRCb29sO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRJbnQgICAgICAgICAgICAgICAgICA9ICAgICAgICAgICAgICAgICAgc2V0SW50O1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRJbnQ4ICAgICAgICAgICAgICAgICA9ICAgICAgICAgICAgICBzZXROdW1lcmljO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRJbnQxNiAgICAgICAgICAgICAgICA9ICAgICAgICAgICAgICBzZXROdW1lcmljO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRJbnQzMiAgICAgICAgICAgICAgICA9ICAgICAgICAgICAgICBzZXROdW1lcmljO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRJbnQ2NCAgICAgICAgICAgICAgICA9ICAgICAgICAgICAgc2V0TnVtZXJpY1gyO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRVaW50OCAgICAgICAgICAgICAgICA9ICAgICAgICAgICAgICBzZXROdW1lcmljO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRVaW50MTYgICAgICAgICAgICAgICA9ICAgICAgICAgICAgICBzZXROdW1lcmljO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRVaW50MzIgICAgICAgICAgICAgICA9ICAgICAgICAgICAgICBzZXROdW1lcmljO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRVaW50NjQgICAgICAgICAgICAgICA9ICAgICAgICAgICAgc2V0TnVtZXJpY1gyO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRGbG9hdCAgICAgICAgICAgICAgICA9ICAgICAgICAgICAgICAgIHNldEZsb2F0O1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRGbG9hdDE2ICAgICAgICAgICAgICA9ICAgICAgICAgICAgICBzZXRGbG9hdDE2O1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRGbG9hdDMyICAgICAgICAgICAgICA9ICAgICAgICAgICAgICBzZXROdW1lcmljO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRGbG9hdDY0ICAgICAgICAgICAgICA9ICAgICAgICAgICAgICBzZXROdW1lcmljO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRVdGY4ICAgICAgICAgICAgICAgICA9ICAgICAgICAgICAgICAgICBzZXRVdGY4O1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRCaW5hcnkgICAgICAgICAgICAgICA9ICAgICAgICAgICAgICAgc2V0QmluYXJ5O1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRGaXhlZFNpemVCaW5hcnkgICAgICA9ICAgICAgc2V0Rml4ZWRTaXplQmluYXJ5O1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXREYXRlICAgICAgICAgICAgICAgICA9ICAgICAgICAgICAgICAgICBnZXREYXRlO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXREYXRlRGF5ICAgICAgICAgICAgICA9ICAgICAgICAgICAgICBzZXREYXRlRGF5O1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXREYXRlTWlsbGlzZWNvbmQgICAgICA9ICAgICAgc2V0RGF0ZU1pbGxpc2Vjb25kO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXAgICAgICAgICAgICA9ICAgICAgICAgICAgc2V0VGltZXN0YW1wO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXBTZWNvbmQgICAgICA9ICAgICAgc2V0VGltZXN0YW1wU2Vjb25kO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXBNaWxsaXNlY29uZCA9IHNldFRpbWVzdGFtcE1pbGxpc2Vjb25kO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXBNaWNyb3NlY29uZCA9IHNldFRpbWVzdGFtcE1pY3Jvc2Vjb25kO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRUaW1lc3RhbXBOYW5vc2Vjb25kICA9ICBzZXRUaW1lc3RhbXBOYW5vc2Vjb25kO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRUaW1lICAgICAgICAgICAgICAgICA9ICAgICAgICAgICAgICAgICBzZXRUaW1lO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRUaW1lU2Vjb25kICAgICAgICAgICA9ICAgICAgICAgICBzZXRUaW1lU2Vjb25kO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRUaW1lTWlsbGlzZWNvbmQgICAgICA9ICAgICAgc2V0VGltZU1pbGxpc2Vjb25kO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRUaW1lTWljcm9zZWNvbmQgICAgICA9ICAgICAgc2V0VGltZU1pY3Jvc2Vjb25kO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRUaW1lTmFub3NlY29uZCAgICAgICA9ICAgICAgIHNldFRpbWVOYW5vc2Vjb25kO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXREZWNpbWFsICAgICAgICAgICAgICA9ICAgICAgICAgICAgICBzZXREZWNpbWFsO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRMaXN0ICAgICAgICAgICAgICAgICA9ICAgICAgICAgICAgICAgICBzZXRMaXN0O1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRTdHJ1Y3QgICAgICAgICAgICAgICA9ICAgICAgICAgICAgICAgc2V0TmVzdGVkO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRVbmlvbiAgICAgICAgICAgICAgICA9ICAgICAgICAgICAgICAgIHNldFVuaW9uO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXREZW5zZVVuaW9uICAgICAgICAgICA9ICAgICAgICAgICBzZXREZW5zZVVuaW9uO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRTcGFyc2VVbmlvbiAgICAgICAgICA9ICAgICAgICAgIHNldFNwYXJzZVVuaW9uO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXREaWN0aW9uYXJ5ICAgICAgICAgICA9ICAgICAgICAgICBzZXREaWN0aW9uYXJ5O1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRJbnRlcnZhbCAgICAgICAgICAgICA9ICAgICAgICBzZXRJbnRlcnZhbFZhbHVlO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRJbnRlcnZhbERheVRpbWUgICAgICA9ICAgICAgc2V0SW50ZXJ2YWxEYXlUaW1lO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRJbnRlcnZhbFllYXJNb250aCAgICA9ICAgIHNldEludGVydmFsWWVhck1vbnRoO1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRGaXhlZFNpemVMaXN0ICAgICAgICA9ICAgICAgICBzZXRGaXhlZFNpemVMaXN0O1xuU2V0VmlzaXRvci5wcm90b3R5cGUudmlzaXRNYXAgICAgICAgICAgICAgICAgICA9ICAgICAgICAgICAgICAgc2V0TmVzdGVkO1xuXG5leHBvcnQgY29uc3QgaW5zdGFuY2UgPSBuZXcgU2V0VmlzaXRvcigpO1xuIl19
