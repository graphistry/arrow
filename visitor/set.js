"use strict";
// Licensed to the Apache Software Foundation (ASF) under one
// or more contributor license agreements.  See the NOTICE file
// distributed with this work for additional information
// regarding copyright ownership.  The ASF licenses this file
// to you under the Apache License, Version 2.0 (the
// "License"); you may not use this file except in compliance
// with the License.  You may obtain a copy of the License at
//
//   http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing,
// software distributed under the License is distributed on an
// "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
// KIND, either express or implied.  See the License for the
// specific language governing permissions and limitations
// under the License.
Object.defineProperty(exports, "__esModule", { value: true });
const visitor_1 = require("../visitor");
const utf8_1 = require("../util/utf8");
const enum_1 = require("../enum");
class SetVisitor extends visitor_1.Visitor {
}
exports.SetVisitor = SetVisitor;
/** @ignore */
const setEpochMsToDays = (data, index, epochMs) => { data[index] = (epochMs / 86400000) | 0; };
/** @ignore */
const setEpochMsToMillisecondsLong = (data, index, epochMs) => {
    data[index] = (epochMs % 4294967296) | 0;
    data[index + 1] = (epochMs / 4294967296) | 0;
};
/** @ignore */
const setEpochMsToMicrosecondsLong = (data, index, epochMs) => {
    data[index] = ((epochMs * 1000) % 4294967296) | 0;
    data[index + 1] = ((epochMs * 1000) / 4294967296) | 0;
};
/** @ignore */
const setEpochMsToNanosecondsLong = (data, index, epochMs) => {
    data[index] = ((epochMs * 1000000) % 4294967296) | 0;
    data[index + 1] = ((epochMs * 1000000) / 4294967296) | 0;
};
/** @ignore */
const setVariableWidthBytes = (values, valueOffsets, index, value) => {
    const { [index]: x, [index + 1]: y } = valueOffsets;
    if (x != null && y != null) {
        values.set(value.subarray(0, y - x), x);
    }
};
/** @ignore */
const setBool = ({ offset, values }, index, val) => {
    const idx = offset + index;
    val ? (values[idx >> 3] |= (1 << (idx % 8))) // true
        : (values[idx >> 3] &= ~(1 << (idx % 8))); // false
};
/** @ignore */
const setDateDay = ({ values }, index, value) => { setEpochMsToDays(values, index, value.valueOf()); };
/** @ignore */
const setDateMillisecond = ({ values }, index, value) => { setEpochMsToMillisecondsLong(values, index * 2, value.valueOf()); };
/** @ignore */
const setNumeric = ({ stride, values }, index, value) => { values[stride * index] = value; };
/** @ignore */
const setFloat16 = ({ stride, values }, index, value) => { values[stride * index] = (value * 32767) + 32767; };
/** @ignore */
const setNumericX2 = ({ stride, values }, index, value) => { values.set(value.subarray(0, stride), stride * index); };
/** @ignore */
const setFixedSizeBinary = ({ stride, values }, index, value) => { values.set(value.subarray(0, stride), stride * index); };
/** @ignore */
const setBinary = ({ values, valueOffsets }, index, value) => setVariableWidthBytes(values, valueOffsets, index, value);
/** @ignore */
const setUtf8 = ({ values, valueOffsets }, index, value) => {
    setVariableWidthBytes(values, valueOffsets, index, utf8_1.encodeUtf8(value));
};
/* istanbul ignore next */
/** @ignore */
const setInt = (vector, index, value) => {
    vector.type.bitWidth < 64
        ? setNumeric(vector, index, value)
        : setNumericX2(vector, index, value);
};
/* istanbul ignore next */
/** @ignore */
const setFloat = (vector, index, value) => {
    vector.type.precision !== enum_1.Precision.HALF
        ? setNumeric(vector, index, value)
        : setFloat16(vector, index, value);
};
/* istanbul ignore next */
const getDate = (vector, index, value) => {
    vector.type.unit === enum_1.DateUnit.DAY
        ? setDateDay(vector, index, value)
        : setDateMillisecond(vector, index, value);
};
/** @ignore */
const setTimestampSecond = ({ values }, index, value) => setEpochMsToMillisecondsLong(values, index * 2, value / 1000);
/** @ignore */
const setTimestampMillisecond = ({ values }, index, value) => setEpochMsToMillisecondsLong(values, index * 2, value);
/** @ignore */
const setTimestampMicrosecond = ({ values }, index, value) => setEpochMsToMicrosecondsLong(values, index * 2, value);
/** @ignore */
const setTimestampNanosecond = ({ values }, index, value) => setEpochMsToNanosecondsLong(values, index * 2, value);
/* istanbul ignore next */
/** @ignore */
const setTimestamp = (vector, index, value) => {
    switch (vector.type.unit) {
        case enum_1.TimeUnit.SECOND: return setTimestampSecond(vector, index, value);
        case enum_1.TimeUnit.MILLISECOND: return setTimestampMillisecond(vector, index, value);
        case enum_1.TimeUnit.MICROSECOND: return setTimestampMicrosecond(vector, index, value);
        case enum_1.TimeUnit.NANOSECOND: return setTimestampNanosecond(vector, index, value);
    }
};
/** @ignore */
const setTimeSecond = ({ values, stride }, index, value) => { values[stride * index] = value; };
/** @ignore */
const setTimeMillisecond = ({ values, stride }, index, value) => { values[stride * index] = value; };
/** @ignore */
const setTimeMicrosecond = ({ values }, index, value) => { values.set(value.subarray(0, 2), 2 * index); };
/** @ignore */
const setTimeNanosecond = ({ values }, index, value) => { values.set(value.subarray(0, 2), 2 * index); };
/* istanbul ignore next */
/** @ignore */
const setTime = (vector, index, value) => {
    switch (vector.type.unit) {
        case enum_1.TimeUnit.SECOND: return setTimeSecond(vector, index, value);
        case enum_1.TimeUnit.MILLISECOND: return setTimeMillisecond(vector, index, value);
        case enum_1.TimeUnit.MICROSECOND: return setTimeMicrosecond(vector, index, value);
        case enum_1.TimeUnit.NANOSECOND: return setTimeNanosecond(vector, index, value);
    }
};
/** @ignore */
const setDecimal = ({ values }, index, value) => { values.set(value.subarray(0, 4), 4 * index); };
/** @ignore */
const setList = (vector, index, value) => {
    const values = vector.getChildAt(0);
    const { valueOffsets, stride } = vector;
    let idx = -1, offset = valueOffsets[index * stride];
    let end = Math.min(value.length, valueOffsets[(index * stride) + 1] - offset);
    while (offset < end) {
        values.set(offset++, value.get(++idx));
    }
};
/** @ignore */
const setNested = (vector, index, value) => {
    vector.type.children.forEach(({ name }, idx) => {
        const kid = vector.getChildAt(idx);
        kid && kid.set(index, value[name]);
    });
};
/* istanbul ignore next */
/** @ignore */
const setUnion = (vector, index, value) => {
    vector.type.mode === enum_1.UnionMode.Dense ?
        setDenseUnion(vector, index, value) :
        setSparseUnion(vector, index, value);
};
/** @ignore */
const setDenseUnion = (vector, index, value) => {
    const { typeIds, type: { typeIdToChildIndex } } = vector;
    const child = vector.getChildAt(typeIdToChildIndex[typeIds[index]]);
    child && child.set(vector.valueOffsets[index], value);
};
/** @ignore */
const setSparseUnion = (vector, index, value) => {
    const { typeIds, type: { typeIdToChildIndex } } = vector;
    const child = vector.getChildAt(typeIdToChildIndex[typeIds[index]]);
    child && child.set(index, value);
};
/** @ignore */
const setDictionary = (vector, index, value) => {
    const key = vector.getKey(index);
    if (key !== null) {
        vector.setValue(key, value);
    }
};
/* istanbul ignore next */
/** @ignore */
const setIntervalValue = (vector, index, value) => {
    (vector.type.unit === enum_1.IntervalUnit.DAY_TIME)
        ? setIntervalDayTime(vector, index, value)
        : setIntervalYearMonth(vector, index, value);
};
/** @ignore */
const setIntervalDayTime = ({ values }, index, value) => { values.set(value.subarray(0, 2), 2 * index); };
/** @ignore */
const setIntervalYearMonth = ({ values }, index, value) => { values[index] = (value[0] * 12) + (value[1] % 12); };
/** @ignore */
const setFixedSizeList = (vector, index, value) => {
    const child = vector.getChildAt(0), { stride } = vector;
    for (let idx = -1, offset = index * stride; ++idx < stride;) {
        child.set(offset + idx, value.get(idx));
    }
};
SetVisitor.prototype.visitBool = setBool;
SetVisitor.prototype.visitInt = setInt;
SetVisitor.prototype.visitInt8 = setNumeric;
SetVisitor.prototype.visitInt16 = setNumeric;
SetVisitor.prototype.visitInt32 = setNumeric;
SetVisitor.prototype.visitInt64 = setNumericX2;
SetVisitor.prototype.visitUint8 = setNumeric;
SetVisitor.prototype.visitUint16 = setNumeric;
SetVisitor.prototype.visitUint32 = setNumeric;
SetVisitor.prototype.visitUint64 = setNumericX2;
SetVisitor.prototype.visitFloat = setFloat;
SetVisitor.prototype.visitFloat16 = setFloat16;
SetVisitor.prototype.visitFloat32 = setNumeric;
SetVisitor.prototype.visitFloat64 = setNumeric;
SetVisitor.prototype.visitUtf8 = setUtf8;
SetVisitor.prototype.visitBinary = setBinary;
SetVisitor.prototype.visitFixedSizeBinary = setFixedSizeBinary;
SetVisitor.prototype.visitDate = getDate;
SetVisitor.prototype.visitDateDay = setDateDay;
SetVisitor.prototype.visitDateMillisecond = setDateMillisecond;
SetVisitor.prototype.visitTimestamp = setTimestamp;
SetVisitor.prototype.visitTimestampSecond = setTimestampSecond;
SetVisitor.prototype.visitTimestampMillisecond = setTimestampMillisecond;
SetVisitor.prototype.visitTimestampMicrosecond = setTimestampMicrosecond;
SetVisitor.prototype.visitTimestampNanosecond = setTimestampNanosecond;
SetVisitor.prototype.visitTime = setTime;
SetVisitor.prototype.visitTimeSecond = setTimeSecond;
SetVisitor.prototype.visitTimeMillisecond = setTimeMillisecond;
SetVisitor.prototype.visitTimeMicrosecond = setTimeMicrosecond;
SetVisitor.prototype.visitTimeNanosecond = setTimeNanosecond;
SetVisitor.prototype.visitDecimal = setDecimal;
SetVisitor.prototype.visitList = setList;
SetVisitor.prototype.visitStruct = setNested;
SetVisitor.prototype.visitUnion = setUnion;
SetVisitor.prototype.visitDenseUnion = setDenseUnion;
SetVisitor.prototype.visitSparseUnion = setSparseUnion;
SetVisitor.prototype.visitDictionary = setDictionary;
SetVisitor.prototype.visitInterval = setIntervalValue;
SetVisitor.prototype.visitIntervalDayTime = setIntervalDayTime;
SetVisitor.prototype.visitIntervalYearMonth = setIntervalYearMonth;
SetVisitor.prototype.visitFixedSizeList = setFixedSizeList;
SetVisitor.prototype.visitMap = setNested;
exports.instance = new SetVisitor();

//# sourceMappingURL=data:application/json;charset=utf8;base64,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QUM7QUFDekUsVUFBVSxDQUFDLFNBQVMsQ0FBQyxvQkFBb0IsR0FBYSxrQkFBa0IsQ0FBQztBQUN6RSxVQUFVLENBQUMsU0FBUyxDQUFDLHNCQUFzQixHQUFTLG9CQUFvQixDQUFDO0FBQ3pFLFVBQVUsQ0FBQyxTQUFTLENBQUMsa0JBQWtCLEdBQWlCLGdCQUFnQixDQUFDO0FBQ3pFLFVBQVUsQ0FBQyxTQUFTLENBQUMsUUFBUSxHQUFrQyxTQUFTLENBQUM7QUFFNUQsUUFBQSxRQUFRLEdBQUcsSUFBSSxVQUFVLEVBQUUsQ0FBQyIsImZpbGUiOiJ2aXNpdG9yL3NldC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbi8vIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuLy8gZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbi8vIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbi8vIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbi8vIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuLy8gd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuLy8gc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbi8vIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4vLyBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbi8vIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbi8vIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG5pbXBvcnQgeyBEYXRhIH0gZnJvbSAnLi4vZGF0YSc7XG5pbXBvcnQgeyBWaXNpdG9yIH0gZnJvbSAnLi4vdmlzaXRvcic7XG5pbXBvcnQgeyBWZWN0b3IgfSBmcm9tICcuLi9pbnRlcmZhY2VzJztcbmltcG9ydCB7IGVuY29kZVV0ZjggfSBmcm9tICcuLi91dGlsL3V0ZjgnO1xuaW1wb3J0IHsgVHlwZSwgVW5pb25Nb2RlLCBQcmVjaXNpb24sIERhdGVVbml0LCBUaW1lVW5pdCwgSW50ZXJ2YWxVbml0IH0gZnJvbSAnLi4vZW51bSc7XG5pbXBvcnQge1xuICAgIERhdGFUeXBlLCBEaWN0aW9uYXJ5LFxuICAgIEJvb2wsIE51bGwsIFV0ZjgsIEJpbmFyeSwgRGVjaW1hbCwgRml4ZWRTaXplQmluYXJ5LCBMaXN0LCBGaXhlZFNpemVMaXN0LCBNYXBfLCBTdHJ1Y3QsXG4gICAgRmxvYXQsIEZsb2F0MTYsIEZsb2F0MzIsIEZsb2F0NjQsXG4gICAgSW50LCBVaW50OCwgVWludDE2LCBVaW50MzIsIFVpbnQ2NCwgSW50OCwgSW50MTYsIEludDMyLCBJbnQ2NCxcbiAgICBEYXRlXywgRGF0ZURheSwgRGF0ZU1pbGxpc2Vjb25kLFxuICAgIEludGVydmFsLCBJbnRlcnZhbERheVRpbWUsIEludGVydmFsWWVhck1vbnRoLFxuICAgIFRpbWUsIFRpbWVTZWNvbmQsIFRpbWVNaWxsaXNlY29uZCwgVGltZU1pY3Jvc2Vjb25kLCBUaW1lTmFub3NlY29uZCxcbiAgICBUaW1lc3RhbXAsIFRpbWVzdGFtcFNlY29uZCwgVGltZXN0YW1wTWlsbGlzZWNvbmQsIFRpbWVzdGFtcE1pY3Jvc2Vjb25kLCBUaW1lc3RhbXBOYW5vc2Vjb25kLFxuICAgIFVuaW9uLCBEZW5zZVVuaW9uLCBTcGFyc2VVbmlvbixcbn0gZnJvbSAnLi4vdHlwZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2V0VmlzaXRvciBleHRlbmRzIFZpc2l0b3Ige1xuICAgIHZpc2l0TWFueSA8VCBleHRlbmRzIFZlY3Rvcj4gIChub2RlczogVFtdLCBpbmRpY2VzOiBudW1iZXJbXSwgdmFsdWVzOiBUWydUVmFsdWUnXVtdKTogdm9pZFtdO1xuICAgIHZpc2l0ICAgICA8VCBleHRlbmRzIFZlY3Rvcj4gIChub2RlOiBULCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10gICAgICAgICAgKTogdm9pZDtcbiAgICBnZXRWaXNpdEZuPFQgZXh0ZW5kcyBUeXBlPiAgICAobm9kZTogVCAgICAgICAgKTogKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVmVjdG9yPFQ+WydUVmFsdWUnXSkgPT4gdm9pZDtcbiAgICBnZXRWaXNpdEZuPFQgZXh0ZW5kcyBEYXRhVHlwZT4obm9kZTogVmVjdG9yPFQ+KTogKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVmVjdG9yPFQ+WydUVmFsdWUnXSkgPT4gdm9pZDtcbiAgICBnZXRWaXNpdEZuPFQgZXh0ZW5kcyBEYXRhVHlwZT4obm9kZTogRGF0YTxUPiAgKTogKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVmVjdG9yPFQ+WydUVmFsdWUnXSkgPT4gdm9pZDtcbiAgICBnZXRWaXNpdEZuPFQgZXh0ZW5kcyBEYXRhVHlwZT4obm9kZTogVCAgICAgICAgKTogKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVmVjdG9yPFQ+WydUVmFsdWUnXSkgPT4gdm9pZDtcbiAgICB2aXNpdE51bGwgICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgTnVsbD4gICAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0Qm9vbCAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBCb29sPiAgICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRJbnQgICAgICAgICAgICAgICAgICA8VCBleHRlbmRzIEludD4gICAgICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdEludDggICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgSW50OD4gICAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0SW50MTYgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBJbnQxNj4gICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRJbnQzMiAgICAgICAgICAgICAgICA8VCBleHRlbmRzIEludDMyPiAgICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdEludDY0ICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgSW50NjQ+ICAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0VWludDggICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBVaW50OD4gICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRVaW50MTYgICAgICAgICAgICAgICA8VCBleHRlbmRzIFVpbnQxNj4gICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdFVpbnQzMiAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgVWludDMyPiAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0VWludDY0ICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBVaW50NjQ+ICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRGbG9hdCAgICAgICAgICAgICAgICA8VCBleHRlbmRzIEZsb2F0PiAgICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdEZsb2F0MTYgICAgICAgICAgICAgIDxUIGV4dGVuZHMgRmxvYXQxNj4gICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0RmxvYXQzMiAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBGbG9hdDMyPiAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRGbG9hdDY0ICAgICAgICAgICAgICA8VCBleHRlbmRzIEZsb2F0NjQ+ICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdFV0ZjggICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgVXRmOD4gICAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0QmluYXJ5ICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBCaW5hcnk+ICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRGaXhlZFNpemVCaW5hcnkgICAgICA8VCBleHRlbmRzIEZpeGVkU2l6ZUJpbmFyeT4gICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdERhdGUgICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgRGF0ZV8+ICAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0RGF0ZURheSAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBEYXRlRGF5PiAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXREYXRlTWlsbGlzZWNvbmQgICAgICA8VCBleHRlbmRzIERhdGVNaWxsaXNlY29uZD4gICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdFRpbWVzdGFtcCAgICAgICAgICAgIDxUIGV4dGVuZHMgVGltZXN0YW1wPiAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0VGltZXN0YW1wU2Vjb25kICAgICAgPFQgZXh0ZW5kcyBUaW1lc3RhbXBTZWNvbmQ+ICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRUaW1lc3RhbXBNaWxsaXNlY29uZCA8VCBleHRlbmRzIFRpbWVzdGFtcE1pbGxpc2Vjb25kPih2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdFRpbWVzdGFtcE1pY3Jvc2Vjb25kIDxUIGV4dGVuZHMgVGltZXN0YW1wTWljcm9zZWNvbmQ+KHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0VGltZXN0YW1wTmFub3NlY29uZCAgPFQgZXh0ZW5kcyBUaW1lc3RhbXBOYW5vc2Vjb25kPiAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRUaW1lICAgICAgICAgICAgICAgICA8VCBleHRlbmRzIFRpbWU+ICAgICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdFRpbWVTZWNvbmQgICAgICAgICAgIDxUIGV4dGVuZHMgVGltZVNlY29uZD4gICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0VGltZU1pbGxpc2Vjb25kICAgICAgPFQgZXh0ZW5kcyBUaW1lTWlsbGlzZWNvbmQ+ICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRUaW1lTWljcm9zZWNvbmQgICAgICA8VCBleHRlbmRzIFRpbWVNaWNyb3NlY29uZD4gICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdFRpbWVOYW5vc2Vjb25kICAgICAgIDxUIGV4dGVuZHMgVGltZU5hbm9zZWNvbmQ+ICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0RGVjaW1hbCAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBEZWNpbWFsPiAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRMaXN0ICAgICAgICAgICAgICAgICA8VCBleHRlbmRzIExpc3Q+ICAgICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdFN0cnVjdCAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgU3RydWN0PiAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0VW5pb24gICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBVbmlvbj4gICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXREZW5zZVVuaW9uICAgICAgICAgICA8VCBleHRlbmRzIERlbnNlVW5pb24+ICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdFNwYXJzZVVuaW9uICAgICAgICAgIDxUIGV4dGVuZHMgU3BhcnNlVW5pb24+ICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0RGljdGlvbmFyeSAgICAgICAgICAgPFQgZXh0ZW5kcyBEaWN0aW9uYXJ5PiAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRJbnRlcnZhbCAgICAgICAgICAgICA8VCBleHRlbmRzIEludGVydmFsPiAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdEludGVydmFsRGF5VGltZSAgICAgIDxUIGV4dGVuZHMgSW50ZXJ2YWxEYXlUaW1lPiAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xuICAgIHZpc2l0SW50ZXJ2YWxZZWFyTW9udGggICAgPFQgZXh0ZW5kcyBJbnRlcnZhbFllYXJNb250aD4gICAodmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQ7XG4gICAgdmlzaXRGaXhlZFNpemVMaXN0ICAgICAgICA8VCBleHRlbmRzIEZpeGVkU2l6ZUxpc3Q+ICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZDtcbiAgICB2aXNpdE1hcCAgICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgTWFwXz4gICAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkO1xufVxuXG5leHBvcnQgY2xhc3MgU2V0VmlzaXRvciBleHRlbmRzIFZpc2l0b3Ige31cblxuLyoqIEBpZ25vcmUgKi9cbmNvbnN0IHNldEVwb2NoTXNUb0RheXMgPSAoZGF0YTogSW50MzJBcnJheSwgaW5kZXg6IG51bWJlciwgZXBvY2hNczogbnVtYmVyKSA9PiB7IGRhdGFbaW5kZXhdID0gKGVwb2NoTXMgLyA4NjQwMDAwMCkgfCAwOyB9O1xuLyoqIEBpZ25vcmUgKi9cbmNvbnN0IHNldEVwb2NoTXNUb01pbGxpc2Vjb25kc0xvbmcgPSAoZGF0YTogSW50MzJBcnJheSwgaW5kZXg6IG51bWJlciwgZXBvY2hNczogbnVtYmVyKSA9PiB7XG4gICAgZGF0YVtpbmRleF0gPSAoZXBvY2hNcyAlIDQyOTQ5NjcyOTYpIHwgMDtcbiAgICBkYXRhW2luZGV4ICsgMV0gPSAoZXBvY2hNcyAvIDQyOTQ5NjcyOTYpIHwgMDtcbn07XG4vKiogQGlnbm9yZSAqL1xuY29uc3Qgc2V0RXBvY2hNc1RvTWljcm9zZWNvbmRzTG9uZyA9IChkYXRhOiBJbnQzMkFycmF5LCBpbmRleDogbnVtYmVyLCBlcG9jaE1zOiBudW1iZXIpID0+IHtcbiAgICBkYXRhW2luZGV4XSA9ICgoZXBvY2hNcyAqIDEwMDApICUgNDI5NDk2NzI5NikgfCAwO1xuICAgIGRhdGFbaW5kZXggKyAxXSA9ICgoZXBvY2hNcyAqIDEwMDApIC8gNDI5NDk2NzI5NikgfCAwO1xufTtcbi8qKiBAaWdub3JlICovXG5jb25zdCBzZXRFcG9jaE1zVG9OYW5vc2Vjb25kc0xvbmcgPSAoZGF0YTogSW50MzJBcnJheSwgaW5kZXg6IG51bWJlciwgZXBvY2hNczogbnVtYmVyKSA9PiB7XG4gICAgZGF0YVtpbmRleF0gPSAoKGVwb2NoTXMgKiAxMDAwMDAwKSAlIDQyOTQ5NjcyOTYpIHwgMDtcbiAgICBkYXRhW2luZGV4ICsgMV0gPSAoKGVwb2NoTXMgKiAxMDAwMDAwKSAvIDQyOTQ5NjcyOTYpIHwgMDtcbn07XG5cbi8qKiBAaWdub3JlICovXG5jb25zdCBzZXRWYXJpYWJsZVdpZHRoQnl0ZXMgPSAodmFsdWVzOiBVaW50OEFycmF5LCB2YWx1ZU9mZnNldHM6IEludDMyQXJyYXksIGluZGV4OiBudW1iZXIsIHZhbHVlOiBVaW50OEFycmF5KSA9PiB7XG4gICAgY29uc3QgeyBbaW5kZXhdOiB4LCBbaW5kZXggKyAxXTogeSB9ID0gdmFsdWVPZmZzZXRzO1xuICAgIGlmICh4ICE9IG51bGwgJiYgeSAhPSBudWxsKSB7XG4gICAgICAgIHZhbHVlcy5zZXQodmFsdWUuc3ViYXJyYXkoMCwgeSAtIHgpLCB4KTtcbiAgICB9XG59O1xuXG4vKiogQGlnbm9yZSAqL1xuY29uc3Qgc2V0Qm9vbCA9IDxUIGV4dGVuZHMgQm9vbD4oeyBvZmZzZXQsIHZhbHVlcyB9OiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbDogYm9vbGVhbikgPT4ge1xuICAgIGNvbnN0IGlkeCA9IG9mZnNldCArIGluZGV4O1xuICAgIHZhbCA/ICh2YWx1ZXNbaWR4ID4+IDNdIHw9ICAoMSA8PCAoaWR4ICUgOCkpKSAgLy8gdHJ1ZVxuICAgICAgICA6ICh2YWx1ZXNbaWR4ID4+IDNdICY9IH4oMSA8PCAoaWR4ICUgOCkpKTsgLy8gZmFsc2VcblxufTtcblxuLyoqIEBpZ25vcmUgKi8gdHlwZSBOdW1lcmljMVggPSBJbnQ4IHwgSW50MTYgfCBJbnQzMiB8IFVpbnQ4IHwgVWludDE2IHwgVWludDMyIHwgRmxvYXQzMiB8IEZsb2F0NjQ7XG4vKiogQGlnbm9yZSAqLyB0eXBlIE51bWVyaWMyWCA9IEludDY0IHwgVWludDY0O1xuXG4vKiogQGlnbm9yZSAqL1xuY29uc3Qgc2V0RGF0ZURheSAgICAgICAgID0gPFQgZXh0ZW5kcyBEYXRlRGF5PiAgICAgICAgKHsgdmFsdWVzICAgICAgICAgfTogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHsgc2V0RXBvY2hNc1RvRGF5cyh2YWx1ZXMsIGluZGV4LCB2YWx1ZS52YWx1ZU9mKCkpOyB9O1xuLyoqIEBpZ25vcmUgKi9cbmNvbnN0IHNldERhdGVNaWxsaXNlY29uZCA9IDxUIGV4dGVuZHMgRGF0ZU1pbGxpc2Vjb25kPih7IHZhbHVlcyAgICAgICAgIH06IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiB7IHNldEVwb2NoTXNUb01pbGxpc2Vjb25kc0xvbmcodmFsdWVzLCBpbmRleCAqIDIsIHZhbHVlLnZhbHVlT2YoKSk7IH07XG4vKiogQGlnbm9yZSAqL1xuY29uc3Qgc2V0TnVtZXJpYyAgICAgICAgID0gPFQgZXh0ZW5kcyBOdW1lcmljMVg+ICAgICAgKHsgc3RyaWRlLCB2YWx1ZXMgfTogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHsgdmFsdWVzW3N0cmlkZSAqIGluZGV4XSA9IHZhbHVlOyB9O1xuLyoqIEBpZ25vcmUgKi9cbmNvbnN0IHNldEZsb2F0MTYgICAgICAgICA9IDxUIGV4dGVuZHMgRmxvYXQxNj4gICAgICAgICh7IHN0cmlkZSwgdmFsdWVzIH06IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiB7IHZhbHVlc1tzdHJpZGUgKiBpbmRleF0gPSAodmFsdWUgKiAzMjc2NykgKyAzMjc2NzsgfTtcbi8qKiBAaWdub3JlICovXG5jb25zdCBzZXROdW1lcmljWDIgICAgICAgPSA8VCBleHRlbmRzIE51bWVyaWMyWD4gICAgICAoeyBzdHJpZGUsIHZhbHVlcyB9OiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQgPT4geyB2YWx1ZXMuc2V0KHZhbHVlLnN1YmFycmF5KDAsIHN0cmlkZSksIHN0cmlkZSAqIGluZGV4KTsgfTtcbi8qKiBAaWdub3JlICovXG5jb25zdCBzZXRGaXhlZFNpemVCaW5hcnkgPSA8VCBleHRlbmRzIEZpeGVkU2l6ZUJpbmFyeT4oeyBzdHJpZGUsIHZhbHVlcyB9OiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQgPT4geyB2YWx1ZXMuc2V0KHZhbHVlLnN1YmFycmF5KDAsIHN0cmlkZSksIHN0cmlkZSAqIGluZGV4KTsgfTtcblxuLyoqIEBpZ25vcmUgKi9cbmNvbnN0IHNldEJpbmFyeSA9IDxUIGV4dGVuZHMgQmluYXJ5Pih7IHZhbHVlcywgdmFsdWVPZmZzZXRzIH06IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKSA9PiBzZXRWYXJpYWJsZVdpZHRoQnl0ZXModmFsdWVzLCB2YWx1ZU9mZnNldHMsIGluZGV4LCB2YWx1ZSk7XG4vKiogQGlnbm9yZSAqL1xuY29uc3Qgc2V0VXRmOCA9IDxUIGV4dGVuZHMgVXRmOD4oeyB2YWx1ZXMsIHZhbHVlT2Zmc2V0cyB9OiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSkgPT4ge1xuICAgIHNldFZhcmlhYmxlV2lkdGhCeXRlcyh2YWx1ZXMsIHZhbHVlT2Zmc2V0cywgaW5kZXgsIGVuY29kZVV0ZjgodmFsdWUpKTtcbn07XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4vKiogQGlnbm9yZSAqL1xuY29uc3Qgc2V0SW50ID0gPFQgZXh0ZW5kcyBJbnQ+KHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHtcbiAgICB2ZWN0b3IudHlwZS5iaXRXaWR0aCA8IDY0XG4gICAgICAgID8gc2V0TnVtZXJpYyg8YW55PiB2ZWN0b3IsIGluZGV4LCB2YWx1ZSBhcyBOdW1lcmljMVhbJ1RWYWx1ZSddKVxuICAgICAgICA6IHNldE51bWVyaWNYMig8YW55PiB2ZWN0b3IsIGluZGV4LCB2YWx1ZSBhcyBOdW1lcmljMlhbJ1RWYWx1ZSddKTtcbn07XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4vKiogQGlnbm9yZSAqL1xuY29uc3Qgc2V0RmxvYXQgPSA8VCBleHRlbmRzIEZsb2F0Pih2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiB7XG4gICAgdmVjdG9yLnR5cGUucHJlY2lzaW9uICE9PSBQcmVjaXNpb24uSEFMRlxuICAgICAgICA/IHNldE51bWVyaWMoPGFueT4gdmVjdG9yLCBpbmRleCwgdmFsdWUpXG4gICAgICAgIDogc2V0RmxvYXQxNig8YW55PiB2ZWN0b3IsIGluZGV4LCB2YWx1ZSk7XG59O1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuY29uc3QgZ2V0RGF0ZSA9IDxUIGV4dGVuZHMgRGF0ZV8+ICh2ZWN0b3I6IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiB7XG4gICAgdmVjdG9yLnR5cGUudW5pdCA9PT0gRGF0ZVVuaXQuREFZXG4gICAgICAgID8gc2V0RGF0ZURheSh2ZWN0b3IsIGluZGV4LCB2YWx1ZSlcbiAgICAgICAgOiBzZXREYXRlTWlsbGlzZWNvbmQodmVjdG9yLCBpbmRleCwgdmFsdWUpO1xufTtcblxuLyoqIEBpZ25vcmUgKi9cbmNvbnN0IHNldFRpbWVzdGFtcFNlY29uZCAgICAgID0gPFQgZXh0ZW5kcyBUaW1lc3RhbXBTZWNvbmQ+ICAgICAoeyB2YWx1ZXMgfTogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHNldEVwb2NoTXNUb01pbGxpc2Vjb25kc0xvbmcodmFsdWVzLCBpbmRleCAqIDIsIHZhbHVlIC8gMTAwMCk7XG4vKiogQGlnbm9yZSAqL1xuY29uc3Qgc2V0VGltZXN0YW1wTWlsbGlzZWNvbmQgPSA8VCBleHRlbmRzIFRpbWVzdGFtcE1pbGxpc2Vjb25kPih7IHZhbHVlcyB9OiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQgPT4gc2V0RXBvY2hNc1RvTWlsbGlzZWNvbmRzTG9uZyh2YWx1ZXMsIGluZGV4ICogMiwgdmFsdWUpO1xuLyoqIEBpZ25vcmUgKi9cbmNvbnN0IHNldFRpbWVzdGFtcE1pY3Jvc2Vjb25kID0gPFQgZXh0ZW5kcyBUaW1lc3RhbXBNaWNyb3NlY29uZD4oeyB2YWx1ZXMgfTogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHNldEVwb2NoTXNUb01pY3Jvc2Vjb25kc0xvbmcodmFsdWVzLCBpbmRleCAqIDIsIHZhbHVlKTtcbi8qKiBAaWdub3JlICovXG5jb25zdCBzZXRUaW1lc3RhbXBOYW5vc2Vjb25kICA9IDxUIGV4dGVuZHMgVGltZXN0YW1wTmFub3NlY29uZD4gKHsgdmFsdWVzIH06IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiBzZXRFcG9jaE1zVG9OYW5vc2Vjb25kc0xvbmcodmFsdWVzLCBpbmRleCAqIDIsIHZhbHVlKTtcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4vKiogQGlnbm9yZSAqL1xuY29uc3Qgc2V0VGltZXN0YW1wICAgICAgICAgICAgPSA8VCBleHRlbmRzIFRpbWVzdGFtcD4odmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQgPT4ge1xuICAgIHN3aXRjaCAodmVjdG9yLnR5cGUudW5pdCkge1xuICAgICAgICBjYXNlIFRpbWVVbml0LlNFQ09ORDogICAgICByZXR1cm4gICAgICBzZXRUaW1lc3RhbXBTZWNvbmQodmVjdG9yIGFzIFZlY3RvcjxUaW1lc3RhbXBTZWNvbmQ+LCBpbmRleCwgdmFsdWUpO1xuICAgICAgICBjYXNlIFRpbWVVbml0Lk1JTExJU0VDT05EOiByZXR1cm4gc2V0VGltZXN0YW1wTWlsbGlzZWNvbmQodmVjdG9yIGFzIFZlY3RvcjxUaW1lc3RhbXBNaWxsaXNlY29uZD4sIGluZGV4LCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgVGltZVVuaXQuTUlDUk9TRUNPTkQ6IHJldHVybiBzZXRUaW1lc3RhbXBNaWNyb3NlY29uZCh2ZWN0b3IgYXMgVmVjdG9yPFRpbWVzdGFtcE1pY3Jvc2Vjb25kPiwgaW5kZXgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSBUaW1lVW5pdC5OQU5PU0VDT05EOiAgcmV0dXJuICBzZXRUaW1lc3RhbXBOYW5vc2Vjb25kKHZlY3RvciBhcyBWZWN0b3I8VGltZXN0YW1wTmFub3NlY29uZD4sIGluZGV4LCB2YWx1ZSk7XG4gICAgfVxufTtcblxuLyoqIEBpZ25vcmUgKi9cbmNvbnN0IHNldFRpbWVTZWNvbmQgICAgICA9IDxUIGV4dGVuZHMgVGltZVNlY29uZD4gICAgICh7IHZhbHVlcywgc3RyaWRlIH06IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiB7IHZhbHVlc1tzdHJpZGUgKiBpbmRleF0gPSB2YWx1ZTsgfTtcbi8qKiBAaWdub3JlICovXG5jb25zdCBzZXRUaW1lTWlsbGlzZWNvbmQgPSA8VCBleHRlbmRzIFRpbWVNaWxsaXNlY29uZD4oeyB2YWx1ZXMsIHN0cmlkZSB9OiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQgPT4geyB2YWx1ZXNbc3RyaWRlICogaW5kZXhdID0gdmFsdWU7IH07XG4vKiogQGlnbm9yZSAqL1xuY29uc3Qgc2V0VGltZU1pY3Jvc2Vjb25kID0gPFQgZXh0ZW5kcyBUaW1lTWljcm9zZWNvbmQ+KHsgdmFsdWVzICAgICAgICAgfTogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHsgdmFsdWVzLnNldCh2YWx1ZS5zdWJhcnJheSgwLCAyKSwgMiAqIGluZGV4KTsgfTtcbi8qKiBAaWdub3JlICovXG5jb25zdCBzZXRUaW1lTmFub3NlY29uZCAgPSA8VCBleHRlbmRzIFRpbWVOYW5vc2Vjb25kPiAoeyB2YWx1ZXMgICAgICAgICB9OiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQgPT4geyB2YWx1ZXMuc2V0KHZhbHVlLnN1YmFycmF5KDAsIDIpLCAyICogaW5kZXgpOyB9O1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbi8qKiBAaWdub3JlICovXG5jb25zdCBzZXRUaW1lICAgICAgICAgICAgPSA8VCBleHRlbmRzIFRpbWU+KHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHtcbiAgICBzd2l0Y2ggKHZlY3Rvci50eXBlLnVuaXQpIHtcbiAgICAgICAgY2FzZSBUaW1lVW5pdC5TRUNPTkQ6ICAgICAgcmV0dXJuICAgICAgc2V0VGltZVNlY29uZCh2ZWN0b3IgYXMgVmVjdG9yPFRpbWVTZWNvbmQ+LCBpbmRleCwgdmFsdWUgYXMgVGltZVNlY29uZFsnVFZhbHVlJ10pO1xuICAgICAgICBjYXNlIFRpbWVVbml0Lk1JTExJU0VDT05EOiByZXR1cm4gc2V0VGltZU1pbGxpc2Vjb25kKHZlY3RvciBhcyBWZWN0b3I8VGltZU1pbGxpc2Vjb25kPiwgaW5kZXgsIHZhbHVlIGFzIFRpbWVNaWxsaXNlY29uZFsnVFZhbHVlJ10pO1xuICAgICAgICBjYXNlIFRpbWVVbml0Lk1JQ1JPU0VDT05EOiByZXR1cm4gc2V0VGltZU1pY3Jvc2Vjb25kKHZlY3RvciBhcyBWZWN0b3I8VGltZU1pY3Jvc2Vjb25kPiwgaW5kZXgsIHZhbHVlIGFzIFRpbWVNaWNyb3NlY29uZFsnVFZhbHVlJ10pO1xuICAgICAgICBjYXNlIFRpbWVVbml0Lk5BTk9TRUNPTkQ6ICByZXR1cm4gIHNldFRpbWVOYW5vc2Vjb25kKHZlY3RvciBhcyBWZWN0b3I8VGltZU5hbm9zZWNvbmQ+LCBpbmRleCwgdmFsdWUgYXMgVGltZU5hbm9zZWNvbmRbJ1RWYWx1ZSddKTtcbiAgICB9XG59O1xuXG4vKiogQGlnbm9yZSAqL1xuY29uc3Qgc2V0RGVjaW1hbCA9IDxUIGV4dGVuZHMgRGVjaW1hbD4oeyB2YWx1ZXMgfTogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHsgdmFsdWVzLnNldCh2YWx1ZS5zdWJhcnJheSgwLCA0KSwgNCAqIGluZGV4KTsgfTtcblxuLyoqIEBpZ25vcmUgKi9cbmNvbnN0IHNldExpc3QgPSA8VCBleHRlbmRzIExpc3Q+KHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHtcbiAgICBjb25zdCB2YWx1ZXMgPSB2ZWN0b3IuZ2V0Q2hpbGRBdCgwKSE7XG4gICAgY29uc3QgeyB2YWx1ZU9mZnNldHMsIHN0cmlkZSB9ID0gdmVjdG9yO1xuICAgIGxldCBpZHggPSAtMSwgb2Zmc2V0ID0gdmFsdWVPZmZzZXRzW2luZGV4ICogc3RyaWRlXTtcbiAgICBsZXQgZW5kID0gTWF0aC5taW4odmFsdWUubGVuZ3RoLCB2YWx1ZU9mZnNldHNbKGluZGV4ICogc3RyaWRlKSArIDFdIC0gb2Zmc2V0KTtcbiAgICB3aGlsZSAob2Zmc2V0IDwgZW5kKSB7XG4gICAgICAgIHZhbHVlcy5zZXQob2Zmc2V0KyssIHZhbHVlLmdldCgrK2lkeCkpO1xuICAgIH1cbn07XG5cbi8qKiBAaWdub3JlICovXG5jb25zdCBzZXROZXN0ZWQgPSA8XG4gICAgUyBleHRlbmRzIHsgW2tleTogc3RyaW5nXTogRGF0YVR5cGUgfSxcbiAgICBWIGV4dGVuZHMgVmVjdG9yPE1hcF88Uz4+IHwgVmVjdG9yPFN0cnVjdDxTPj5cbj4odmVjdG9yOiBWLCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVlsnVFZhbHVlJ10pID0+IHtcbiAgICB2ZWN0b3IudHlwZS5jaGlsZHJlbi5mb3JFYWNoKCh7IG5hbWUgfSwgaWR4KSA9PiB7XG4gICAgICAgIGNvbnN0IGtpZCA9IHZlY3Rvci5nZXRDaGlsZEF0KGlkeCk7XG4gICAgICAgIGtpZCAmJiBraWQuc2V0KGluZGV4LCB2YWx1ZVtuYW1lXSk7XG4gICAgfSk7XG59O1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuLyoqIEBpZ25vcmUgKi9cbmNvbnN0IHNldFVuaW9uID0gPFxuICAgIFYgZXh0ZW5kcyBWZWN0b3I8VW5pb24+IHwgVmVjdG9yPERlbnNlVW5pb24+IHwgVmVjdG9yPFNwYXJzZVVuaW9uPlxuPih2ZWN0b3I6IFYsIGluZGV4OiBudW1iZXIsIHZhbHVlOiBWWydUVmFsdWUnXSkgPT4ge1xuICAgIHZlY3Rvci50eXBlLm1vZGUgPT09IFVuaW9uTW9kZS5EZW5zZSA/XG4gICAgICAgIHNldERlbnNlVW5pb24odmVjdG9yIGFzIFZlY3RvcjxEZW5zZVVuaW9uPiwgaW5kZXgsIHZhbHVlKSA6XG4gICAgICAgIHNldFNwYXJzZVVuaW9uKHZlY3RvciBhcyBWZWN0b3I8U3BhcnNlVW5pb24+LCBpbmRleCwgdmFsdWUpO1xufTtcblxuLyoqIEBpZ25vcmUgKi9cbmNvbnN0IHNldERlbnNlVW5pb24gPSA8VCBleHRlbmRzIERlbnNlVW5pb24+KHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHtcbiAgICBjb25zdCB7IHR5cGVJZHMsIHR5cGU6IHsgdHlwZUlkVG9DaGlsZEluZGV4IH0gfSA9IHZlY3RvcjtcbiAgICBjb25zdCBjaGlsZCA9IHZlY3Rvci5nZXRDaGlsZEF0KHR5cGVJZFRvQ2hpbGRJbmRleFt0eXBlSWRzW2luZGV4XV0pO1xuICAgIGNoaWxkICYmIGNoaWxkLnNldCh2ZWN0b3IudmFsdWVPZmZzZXRzW2luZGV4XSwgdmFsdWUpO1xufTtcblxuLyoqIEBpZ25vcmUgKi9cbmNvbnN0IHNldFNwYXJzZVVuaW9uID0gPFQgZXh0ZW5kcyBTcGFyc2VVbmlvbj4odmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IHsgdHlwZUlkcywgdHlwZTogeyB0eXBlSWRUb0NoaWxkSW5kZXggfSB9ID0gdmVjdG9yO1xuICAgIGNvbnN0IGNoaWxkID0gdmVjdG9yLmdldENoaWxkQXQodHlwZUlkVG9DaGlsZEluZGV4W3R5cGVJZHNbaW5kZXhdXSk7XG4gICAgY2hpbGQgJiYgY2hpbGQuc2V0KGluZGV4LCB2YWx1ZSk7XG59O1xuXG4vKiogQGlnbm9yZSAqL1xuY29uc3Qgc2V0RGljdGlvbmFyeSA9IDxUIGV4dGVuZHMgRGljdGlvbmFyeT4odmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IGtleSA9IHZlY3Rvci5nZXRLZXkoaW5kZXgpO1xuICAgIGlmIChrZXkgIT09IG51bGwpIHtcbiAgICAgICAgdmVjdG9yLnNldFZhbHVlKGtleSwgdmFsdWUpO1xuICAgIH1cbn07XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4vKiogQGlnbm9yZSAqL1xuY29uc3Qgc2V0SW50ZXJ2YWxWYWx1ZSA9IDxUIGV4dGVuZHMgSW50ZXJ2YWw+KHZlY3RvcjogVmVjdG9yPFQ+LCBpbmRleDogbnVtYmVyLCB2YWx1ZTogVFsnVFZhbHVlJ10pOiB2b2lkID0+IHtcbiAgICAodmVjdG9yLnR5cGUudW5pdCA9PT0gSW50ZXJ2YWxVbml0LkRBWV9USU1FKVxuICAgICAgICA/IHNldEludGVydmFsRGF5VGltZSh2ZWN0b3IsIGluZGV4LCB2YWx1ZSlcbiAgICAgICAgOiBzZXRJbnRlcnZhbFllYXJNb250aCh2ZWN0b3IsIGluZGV4LCB2YWx1ZSk7XG59O1xuXG4vKiogQGlnbm9yZSAqL1xuY29uc3Qgc2V0SW50ZXJ2YWxEYXlUaW1lID0gPFQgZXh0ZW5kcyBJbnRlcnZhbERheVRpbWU+KHsgdmFsdWVzIH06IFZlY3RvcjxUPiwgaW5kZXg6IG51bWJlciwgdmFsdWU6IFRbJ1RWYWx1ZSddKTogdm9pZCA9PiB7IHZhbHVlcy5zZXQodmFsdWUuc3ViYXJyYXkoMCwgMiksIDIgKiBpbmRleCk7IH07XG4vKiogQGlnbm9yZSAqL1xuY29uc3Qgc2V0SW50ZXJ2YWxZZWFyTW9udGggPSA8VCBleHRlbmRzIEludGVydmFsWWVhck1vbnRoPih7IHZhbHVlcyB9OiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQgPT4geyB2YWx1ZXNbaW5kZXhdID0gKHZhbHVlWzBdICogMTIpICsgKHZhbHVlWzFdICUgMTIpOyB9O1xuXG4vKiogQGlnbm9yZSAqL1xuY29uc3Qgc2V0Rml4ZWRTaXplTGlzdCA9IDxUIGV4dGVuZHMgRml4ZWRTaXplTGlzdD4odmVjdG9yOiBWZWN0b3I8VD4sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUWydUVmFsdWUnXSk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IGNoaWxkID0gdmVjdG9yLmdldENoaWxkQXQoMCkhLCB7IHN0cmlkZSB9ID0gdmVjdG9yO1xuICAgIGZvciAobGV0IGlkeCA9IC0xLCBvZmZzZXQgPSBpbmRleCAqIHN0cmlkZTsgKytpZHggPCBzdHJpZGU7KSB7XG4gICAgICAgIGNoaWxkLnNldChvZmZzZXQgKyBpZHgsIHZhbHVlLmdldChpZHgpKTtcbiAgICB9XG59O1xuXG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdEJvb2wgICAgICAgICAgICAgICAgID0gICAgICAgICAgICAgICAgIHNldEJvb2w7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdEludCAgICAgICAgICAgICAgICAgID0gICAgICAgICAgICAgICAgICBzZXRJbnQ7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdEludDggICAgICAgICAgICAgICAgID0gICAgICAgICAgICAgIHNldE51bWVyaWM7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdEludDE2ICAgICAgICAgICAgICAgID0gICAgICAgICAgICAgIHNldE51bWVyaWM7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdEludDMyICAgICAgICAgICAgICAgID0gICAgICAgICAgICAgIHNldE51bWVyaWM7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdEludDY0ICAgICAgICAgICAgICAgID0gICAgICAgICAgICBzZXROdW1lcmljWDI7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdFVpbnQ4ICAgICAgICAgICAgICAgID0gICAgICAgICAgICAgIHNldE51bWVyaWM7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdFVpbnQxNiAgICAgICAgICAgICAgID0gICAgICAgICAgICAgIHNldE51bWVyaWM7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdFVpbnQzMiAgICAgICAgICAgICAgID0gICAgICAgICAgICAgIHNldE51bWVyaWM7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdFVpbnQ2NCAgICAgICAgICAgICAgID0gICAgICAgICAgICBzZXROdW1lcmljWDI7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdEZsb2F0ICAgICAgICAgICAgICAgID0gICAgICAgICAgICAgICAgc2V0RmxvYXQ7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdEZsb2F0MTYgICAgICAgICAgICAgID0gICAgICAgICAgICAgIHNldEZsb2F0MTY7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdEZsb2F0MzIgICAgICAgICAgICAgID0gICAgICAgICAgICAgIHNldE51bWVyaWM7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdEZsb2F0NjQgICAgICAgICAgICAgID0gICAgICAgICAgICAgIHNldE51bWVyaWM7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdFV0ZjggICAgICAgICAgICAgICAgID0gICAgICAgICAgICAgICAgIHNldFV0Zjg7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdEJpbmFyeSAgICAgICAgICAgICAgID0gICAgICAgICAgICAgICBzZXRCaW5hcnk7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdEZpeGVkU2l6ZUJpbmFyeSAgICAgID0gICAgICBzZXRGaXhlZFNpemVCaW5hcnk7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdERhdGUgICAgICAgICAgICAgICAgID0gICAgICAgICAgICAgICAgIGdldERhdGU7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdERhdGVEYXkgICAgICAgICAgICAgID0gICAgICAgICAgICAgIHNldERhdGVEYXk7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdERhdGVNaWxsaXNlY29uZCAgICAgID0gICAgICBzZXREYXRlTWlsbGlzZWNvbmQ7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcCAgICAgICAgICAgID0gICAgICAgICAgICBzZXRUaW1lc3RhbXA7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcFNlY29uZCAgICAgID0gICAgICBzZXRUaW1lc3RhbXBTZWNvbmQ7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcE1pbGxpc2Vjb25kID0gc2V0VGltZXN0YW1wTWlsbGlzZWNvbmQ7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcE1pY3Jvc2Vjb25kID0gc2V0VGltZXN0YW1wTWljcm9zZWNvbmQ7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdFRpbWVzdGFtcE5hbm9zZWNvbmQgID0gIHNldFRpbWVzdGFtcE5hbm9zZWNvbmQ7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdFRpbWUgICAgICAgICAgICAgICAgID0gICAgICAgICAgICAgICAgIHNldFRpbWU7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdFRpbWVTZWNvbmQgICAgICAgICAgID0gICAgICAgICAgIHNldFRpbWVTZWNvbmQ7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdFRpbWVNaWxsaXNlY29uZCAgICAgID0gICAgICBzZXRUaW1lTWlsbGlzZWNvbmQ7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdFRpbWVNaWNyb3NlY29uZCAgICAgID0gICAgICBzZXRUaW1lTWljcm9zZWNvbmQ7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdFRpbWVOYW5vc2Vjb25kICAgICAgID0gICAgICAgc2V0VGltZU5hbm9zZWNvbmQ7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdERlY2ltYWwgICAgICAgICAgICAgID0gICAgICAgICAgICAgIHNldERlY2ltYWw7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdExpc3QgICAgICAgICAgICAgICAgID0gICAgICAgICAgICAgICAgIHNldExpc3Q7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdFN0cnVjdCAgICAgICAgICAgICAgID0gICAgICAgICAgICAgICBzZXROZXN0ZWQ7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdFVuaW9uICAgICAgICAgICAgICAgID0gICAgICAgICAgICAgICAgc2V0VW5pb247XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdERlbnNlVW5pb24gICAgICAgICAgID0gICAgICAgICAgIHNldERlbnNlVW5pb247XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdFNwYXJzZVVuaW9uICAgICAgICAgID0gICAgICAgICAgc2V0U3BhcnNlVW5pb247XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdERpY3Rpb25hcnkgICAgICAgICAgID0gICAgICAgICAgIHNldERpY3Rpb25hcnk7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdEludGVydmFsICAgICAgICAgICAgID0gICAgICAgIHNldEludGVydmFsVmFsdWU7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdEludGVydmFsRGF5VGltZSAgICAgID0gICAgICBzZXRJbnRlcnZhbERheVRpbWU7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdEludGVydmFsWWVhck1vbnRoICAgID0gICAgc2V0SW50ZXJ2YWxZZWFyTW9udGg7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdEZpeGVkU2l6ZUxpc3QgICAgICAgID0gICAgICAgIHNldEZpeGVkU2l6ZUxpc3Q7XG5TZXRWaXNpdG9yLnByb3RvdHlwZS52aXNpdE1hcCAgICAgICAgICAgICAgICAgID0gICAgICAgICAgICAgICBzZXROZXN0ZWQ7XG5cbmV4cG9ydCBjb25zdCBpbnN0YW5jZSA9IG5ldyBTZXRWaXNpdG9yKCk7XG4iXX0=
