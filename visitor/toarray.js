"use strict";
// Licensed to the Apache Software Foundation (ASF) under one
// or more contributor license agreements.  See the NOTICE file
// distributed with this work for additional information
// regarding copyright ownership.  The ASF licenses this file
// to you under the Apache License, Version 2.0 (the
// "License"); you may not use this file except in compliance
// with the License.  You may obtain a copy of the License at
//
//   http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing,
// software distributed under the License is distributed on an
// "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
// KIND, either express or implied.  See the License for the
// specific language governing permissions and limitations
// under the License.
Object.defineProperty(exports, "__esModule", { value: true });
const visitor_1 = require("../visitor");
const enum_1 = require("../enum");
const iterator_1 = require("./iterator");
class ToArrayVisitor extends visitor_1.Visitor {
}
exports.ToArrayVisitor = ToArrayVisitor;
function arrayOfVector(vector) {
    const { type, length, stride } = vector;
    // Fast case, return subarray if possible
    switch (type.typeId) {
        case enum_1.Type.Int:
        case enum_1.Type.Decimal:
        case enum_1.Type.Time:
        case enum_1.Type.Timestamp:
            return vector.values.subarray(0, length * stride);
        case enum_1.Type.Float:
            return type.precision === enum_1.Precision.HALF /* Precision.HALF */
                ? new Float32Array(vector[Symbol.iterator]())
                : vector.values.subarray(0, length * stride);
    }
    // Otherwise if not primitive, slow copy
    return [...iterator_1.instance.visit(vector)];
}
ToArrayVisitor.prototype.visitNull = arrayOfVector;
ToArrayVisitor.prototype.visitBool = arrayOfVector;
ToArrayVisitor.prototype.visitInt = arrayOfVector;
ToArrayVisitor.prototype.visitInt8 = arrayOfVector;
ToArrayVisitor.prototype.visitInt16 = arrayOfVector;
ToArrayVisitor.prototype.visitInt32 = arrayOfVector;
ToArrayVisitor.prototype.visitInt64 = arrayOfVector;
ToArrayVisitor.prototype.visitUint8 = arrayOfVector;
ToArrayVisitor.prototype.visitUint16 = arrayOfVector;
ToArrayVisitor.prototype.visitUint32 = arrayOfVector;
ToArrayVisitor.prototype.visitUint64 = arrayOfVector;
ToArrayVisitor.prototype.visitFloat = arrayOfVector;
ToArrayVisitor.prototype.visitFloat16 = arrayOfVector;
ToArrayVisitor.prototype.visitFloat32 = arrayOfVector;
ToArrayVisitor.prototype.visitFloat64 = arrayOfVector;
ToArrayVisitor.prototype.visitUtf8 = arrayOfVector;
ToArrayVisitor.prototype.visitBinary = arrayOfVector;
ToArrayVisitor.prototype.visitFixedSizeBinary = arrayOfVector;
ToArrayVisitor.prototype.visitDate = arrayOfVector;
ToArrayVisitor.prototype.visitDateDay = arrayOfVector;
ToArrayVisitor.prototype.visitDateMillisecond = arrayOfVector;
ToArrayVisitor.prototype.visitTimestamp = arrayOfVector;
ToArrayVisitor.prototype.visitTimestampSecond = arrayOfVector;
ToArrayVisitor.prototype.visitTimestampMillisecond = arrayOfVector;
ToArrayVisitor.prototype.visitTimestampMicrosecond = arrayOfVector;
ToArrayVisitor.prototype.visitTimestampNanosecond = arrayOfVector;
ToArrayVisitor.prototype.visitTime = arrayOfVector;
ToArrayVisitor.prototype.visitTimeSecond = arrayOfVector;
ToArrayVisitor.prototype.visitTimeMillisecond = arrayOfVector;
ToArrayVisitor.prototype.visitTimeMicrosecond = arrayOfVector;
ToArrayVisitor.prototype.visitTimeNanosecond = arrayOfVector;
ToArrayVisitor.prototype.visitDecimal = arrayOfVector;
ToArrayVisitor.prototype.visitList = arrayOfVector;
ToArrayVisitor.prototype.visitStruct = arrayOfVector;
ToArrayVisitor.prototype.visitUnion = arrayOfVector;
ToArrayVisitor.prototype.visitDenseUnion = arrayOfVector;
ToArrayVisitor.prototype.visitSparseUnion = arrayOfVector;
ToArrayVisitor.prototype.visitDictionary = arrayOfVector;
ToArrayVisitor.prototype.visitInterval = arrayOfVector;
ToArrayVisitor.prototype.visitIntervalDayTime = arrayOfVector;
ToArrayVisitor.prototype.visitIntervalYearMonth = arrayOfVector;
ToArrayVisitor.prototype.visitFixedSizeList = arrayOfVector;
ToArrayVisitor.prototype.visitMap = arrayOfVector;
exports.instance = new ToArrayVisitor();

//# sourceMappingURL=data:application/json;charset=utf8;base64,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YUFBYSxDQUFDO0FBQ25FLGNBQWMsQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLEdBQVksYUFBYSxDQUFDO0FBQ25FLGNBQWMsQ0FBQyxTQUFTLENBQUMsZUFBZSxHQUFhLGFBQWEsQ0FBQztBQUNuRSxjQUFjLENBQUMsU0FBUyxDQUFDLGFBQWEsR0FBZSxhQUFhLENBQUM7QUFDbkUsY0FBYyxDQUFDLFNBQVMsQ0FBQyxvQkFBb0IsR0FBUSxhQUFhLENBQUM7QUFDbkUsY0FBYyxDQUFDLFNBQVMsQ0FBQyxzQkFBc0IsR0FBTSxhQUFhLENBQUM7QUFDbkUsY0FBYyxDQUFDLFNBQVMsQ0FBQyxrQkFBa0IsR0FBVSxhQUFhLENBQUM7QUFDbkUsY0FBYyxDQUFDLFNBQVMsQ0FBQyxRQUFRLEdBQW9CLGFBQWEsQ0FBQztBQUV0RCxRQUFBLFFBQVEsR0FBRyxJQUFJLGNBQWMsRUFBRSxDQUFDIiwiZmlsZSI6InZpc2l0b3IvdG9hcnJheS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbi8vIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuLy8gZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbi8vIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbi8vIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbi8vIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuLy8gd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuLy8gc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbi8vIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4vLyBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbi8vIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbi8vIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG5pbXBvcnQgeyBEYXRhIH0gZnJvbSAnLi4vZGF0YSc7XG5pbXBvcnQgeyBWaXNpdG9yIH0gZnJvbSAnLi4vdmlzaXRvcic7XG5pbXBvcnQgeyBWZWN0b3IgfSBmcm9tICcuLi9pbnRlcmZhY2VzJztcbmltcG9ydCB7IFR5cGUsIFByZWNpc2lvbiB9IGZyb20gJy4uL2VudW0nO1xuaW1wb3J0IHsgaW5zdGFuY2UgYXMgaXRlcmF0b3JWaXNpdG9yIH0gZnJvbSAnLi9pdGVyYXRvcic7XG5pbXBvcnQge1xuICAgIERhdGFUeXBlLCBEaWN0aW9uYXJ5LFxuICAgIEJvb2wsIE51bGwsIFV0ZjgsIEJpbmFyeSwgRGVjaW1hbCwgRml4ZWRTaXplQmluYXJ5LCBMaXN0LCBGaXhlZFNpemVMaXN0LCBNYXBfLCBTdHJ1Y3QsXG4gICAgRmxvYXQsIEZsb2F0MTYsIEZsb2F0MzIsIEZsb2F0NjQsXG4gICAgSW50LCBVaW50OCwgVWludDE2LCBVaW50MzIsIFVpbnQ2NCwgSW50OCwgSW50MTYsIEludDMyLCBJbnQ2NCxcbiAgICBEYXRlXywgRGF0ZURheSwgRGF0ZU1pbGxpc2Vjb25kLFxuICAgIEludGVydmFsLCBJbnRlcnZhbERheVRpbWUsIEludGVydmFsWWVhck1vbnRoLFxuICAgIFRpbWUsIFRpbWVTZWNvbmQsIFRpbWVNaWxsaXNlY29uZCwgVGltZU1pY3Jvc2Vjb25kLCBUaW1lTmFub3NlY29uZCxcbiAgICBUaW1lc3RhbXAsIFRpbWVzdGFtcFNlY29uZCwgVGltZXN0YW1wTWlsbGlzZWNvbmQsIFRpbWVzdGFtcE1pY3Jvc2Vjb25kLCBUaW1lc3RhbXBOYW5vc2Vjb25kLFxuICAgIFVuaW9uLCBEZW5zZVVuaW9uLCBTcGFyc2VVbmlvbixcbn0gZnJvbSAnLi4vdHlwZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVG9BcnJheVZpc2l0b3IgZXh0ZW5kcyBWaXNpdG9yIHtcbiAgICB2aXNpdE1hbnkgPFQgZXh0ZW5kcyBWZWN0b3I+ICAobm9kZXM6IFRbXSAgICAgKTogVFsnVEFycmF5J11bXTtcbiAgICB2aXNpdCAgICAgPFQgZXh0ZW5kcyBWZWN0b3I+ICAobm9kZTogVCAgICAgICAgKTogVFsnVEFycmF5J107XG4gICAgZ2V0VmlzaXRGbjxUIGV4dGVuZHMgVHlwZT4gICAgKG5vZGU6IFQgICAgICAgICk6ICh2ZWN0b3I6IFZlY3RvcjxUPikgPT4gVmVjdG9yPFQ+WydUQXJyYXknXTtcbiAgICBnZXRWaXNpdEZuPFQgZXh0ZW5kcyBEYXRhVHlwZT4obm9kZTogVmVjdG9yPFQ+KTogKHZlY3RvcjogVmVjdG9yPFQ+KSA9PiBWZWN0b3I8VD5bJ1RBcnJheSddO1xuICAgIGdldFZpc2l0Rm48VCBleHRlbmRzIERhdGFUeXBlPihub2RlOiBEYXRhPFQ+ICApOiAodmVjdG9yOiBWZWN0b3I8VD4pID0+IFZlY3RvcjxUPlsnVEFycmF5J107XG4gICAgZ2V0VmlzaXRGbjxUIGV4dGVuZHMgRGF0YVR5cGU+KG5vZGU6IFQgICAgICAgICk6ICh2ZWN0b3I6IFZlY3RvcjxUPikgPT4gVmVjdG9yPFQ+WydUQXJyYXknXTtcbiAgICB2aXNpdE51bGwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VCBleHRlbmRzIE51bGw+ICAgICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPik6IFZlY3RvcjxUPlsnVEFycmF5J107XG4gICAgdmlzaXRCb29sICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBCb29sPiAgICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4pOiBWZWN0b3I8VD5bJ1RBcnJheSddO1xuICAgIHZpc2l0SW50ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgSW50PiAgICAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+KTogVmVjdG9yPFQ+WydUQXJyYXknXTtcbiAgICB2aXNpdEludDggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VCBleHRlbmRzIEludDg+ICAgICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPik6IFZlY3RvcjxUPlsnVEFycmF5J107XG4gICAgdmlzaXRJbnQxNiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBJbnQxNj4gICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4pOiBWZWN0b3I8VD5bJ1RBcnJheSddO1xuICAgIHZpc2l0SW50MzIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgSW50MzI+ICAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+KTogVmVjdG9yPFQ+WydUQXJyYXknXTtcbiAgICB2aXNpdEludDY0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VCBleHRlbmRzIEludDY0PiAgICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPik6IFZlY3RvcjxUPlsnVEFycmF5J107XG4gICAgdmlzaXRVaW50OCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBVaW50OD4gICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4pOiBWZWN0b3I8VD5bJ1RBcnJheSddO1xuICAgIHZpc2l0VWludDE2ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgVWludDE2PiAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+KTogVmVjdG9yPFQ+WydUQXJyYXknXTtcbiAgICB2aXNpdFVpbnQzMiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VCBleHRlbmRzIFVpbnQzMj4gICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPik6IFZlY3RvcjxUPlsnVEFycmF5J107XG4gICAgdmlzaXRVaW50NjQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBVaW50NjQ+ICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4pOiBWZWN0b3I8VD5bJ1RBcnJheSddO1xuICAgIHZpc2l0RmxvYXQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgRmxvYXQ+ICAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+KTogVmVjdG9yPFQ+WydUQXJyYXknXTtcbiAgICB2aXNpdEZsb2F0MTYgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VCBleHRlbmRzIEZsb2F0MTY+ICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPik6IFZlY3RvcjxUPlsnVEFycmF5J107XG4gICAgdmlzaXRGbG9hdDMyICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBGbG9hdDMyPiAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4pOiBWZWN0b3I8VD5bJ1RBcnJheSddO1xuICAgIHZpc2l0RmxvYXQ2NCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgRmxvYXQ2ND4gICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+KTogVmVjdG9yPFQ+WydUQXJyYXknXTtcbiAgICB2aXNpdFV0ZjggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VCBleHRlbmRzIFV0Zjg+ICAgICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPik6IFZlY3RvcjxUPlsnVEFycmF5J107XG4gICAgdmlzaXRCaW5hcnkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBCaW5hcnk+ICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4pOiBWZWN0b3I8VD5bJ1RBcnJheSddO1xuICAgIHZpc2l0Rml4ZWRTaXplQmluYXJ5ICAgICAgICAgICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgRml4ZWRTaXplQmluYXJ5PiAgICAgKHZlY3RvcjogVmVjdG9yPFQ+KTogVmVjdG9yPFQ+WydUQXJyYXknXTtcbiAgICB2aXNpdERhdGUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VCBleHRlbmRzIERhdGVfPiAgICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPik6IFZlY3RvcjxUPlsnVEFycmF5J107XG4gICAgdmlzaXREYXRlRGF5ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBEYXRlRGF5PiAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4pOiBWZWN0b3I8VD5bJ1RBcnJheSddO1xuICAgIHZpc2l0RGF0ZU1pbGxpc2Vjb25kICAgICAgICAgICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgRGF0ZU1pbGxpc2Vjb25kPiAgICAgKHZlY3RvcjogVmVjdG9yPFQ+KTogVmVjdG9yPFQ+WydUQXJyYXknXTtcbiAgICB2aXNpdFRpbWVzdGFtcCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VCBleHRlbmRzIFRpbWVzdGFtcD4gICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPik6IFZlY3RvcjxUPlsnVEFycmF5J107XG4gICAgdmlzaXRUaW1lc3RhbXBTZWNvbmQgICAgICAgICAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBUaW1lc3RhbXBTZWNvbmQ+ICAgICAodmVjdG9yOiBWZWN0b3I8VD4pOiBWZWN0b3I8VD5bJ1RBcnJheSddO1xuICAgIHZpc2l0VGltZXN0YW1wTWlsbGlzZWNvbmQgICAgICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgVGltZXN0YW1wTWlsbGlzZWNvbmQ+KHZlY3RvcjogVmVjdG9yPFQ+KTogVmVjdG9yPFQ+WydUQXJyYXknXTtcbiAgICB2aXNpdFRpbWVzdGFtcE1pY3Jvc2Vjb25kICAgICAgICAgICAgICAgICAgICA8VCBleHRlbmRzIFRpbWVzdGFtcE1pY3Jvc2Vjb25kPih2ZWN0b3I6IFZlY3RvcjxUPik6IFZlY3RvcjxUPlsnVEFycmF5J107XG4gICAgdmlzaXRUaW1lc3RhbXBOYW5vc2Vjb25kICAgICAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBUaW1lc3RhbXBOYW5vc2Vjb25kPiAodmVjdG9yOiBWZWN0b3I8VD4pOiBWZWN0b3I8VD5bJ1RBcnJheSddO1xuICAgIHZpc2l0VGltZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgVGltZT4gICAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+KTogVmVjdG9yPFQ+WydUQXJyYXknXTtcbiAgICB2aXNpdFRpbWVTZWNvbmQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VCBleHRlbmRzIFRpbWVTZWNvbmQ+ICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPik6IFZlY3RvcjxUPlsnVEFycmF5J107XG4gICAgdmlzaXRUaW1lTWlsbGlzZWNvbmQgICAgICAgICAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBUaW1lTWlsbGlzZWNvbmQ+ICAgICAodmVjdG9yOiBWZWN0b3I8VD4pOiBWZWN0b3I8VD5bJ1RBcnJheSddO1xuICAgIHZpc2l0VGltZU1pY3Jvc2Vjb25kICAgICAgICAgICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgVGltZU1pY3Jvc2Vjb25kPiAgICAgKHZlY3RvcjogVmVjdG9yPFQ+KTogVmVjdG9yPFQ+WydUQXJyYXknXTtcbiAgICB2aXNpdFRpbWVOYW5vc2Vjb25kICAgICAgICAgICAgICAgICAgICAgICAgICA8VCBleHRlbmRzIFRpbWVOYW5vc2Vjb25kPiAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPik6IFZlY3RvcjxUPlsnVEFycmF5J107XG4gICAgdmlzaXREZWNpbWFsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBEZWNpbWFsPiAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4pOiBWZWN0b3I8VD5bJ1RBcnJheSddO1xuICAgIHZpc2l0TGlzdCAgICAgICAgICAgICAgICA8UiBleHRlbmRzIERhdGFUeXBlLCBUIGV4dGVuZHMgTGlzdDxSPj4gICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+KTogVmVjdG9yPFQ+WydUQXJyYXknXTtcbiAgICB2aXNpdFN0cnVjdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VCBleHRlbmRzIFN0cnVjdD4gICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPik6IFZlY3RvcjxUPlsnVEFycmF5J107XG4gICAgdmlzaXRVbmlvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBVbmlvbj4gICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4pOiBWZWN0b3I8VD5bJ1RBcnJheSddO1xuICAgIHZpc2l0RGVuc2VVbmlvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgRGVuc2VVbmlvbj4gICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+KTogVmVjdG9yPFQ+WydUQXJyYXknXTtcbiAgICB2aXNpdFNwYXJzZVVuaW9uICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VCBleHRlbmRzIFNwYXJzZVVuaW9uPiAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPik6IFZlY3RvcjxUPlsnVEFycmF5J107XG4gICAgdmlzaXREaWN0aW9uYXJ5ICAgICAgICAgIDxSIGV4dGVuZHMgRGF0YVR5cGUsIFQgZXh0ZW5kcyBEaWN0aW9uYXJ5PFI+PiAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4pOiBWZWN0b3I8VD5bJ1RBcnJheSddO1xuICAgIHZpc2l0SW50ZXJ2YWwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgSW50ZXJ2YWw+ICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+KTogVmVjdG9yPFQ+WydUQXJyYXknXTtcbiAgICB2aXNpdEludGVydmFsRGF5VGltZSAgICAgICAgICAgICAgICAgICAgICAgICA8VCBleHRlbmRzIEludGVydmFsRGF5VGltZT4gICAgICh2ZWN0b3I6IFZlY3RvcjxUPik6IFZlY3RvcjxUPlsnVEFycmF5J107XG4gICAgdmlzaXRJbnRlcnZhbFllYXJNb250aCAgICAgICAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBJbnRlcnZhbFllYXJNb250aD4gICAodmVjdG9yOiBWZWN0b3I8VD4pOiBWZWN0b3I8VD5bJ1RBcnJheSddO1xuICAgIHZpc2l0Rml4ZWRTaXplTGlzdCAgICAgICA8UiBleHRlbmRzIERhdGFUeXBlLCBUIGV4dGVuZHMgRml4ZWRTaXplTGlzdDxSPj4gICAgKHZlY3RvcjogVmVjdG9yPFQ+KTogVmVjdG9yPFQ+WydUQXJyYXknXTtcbiAgICB2aXNpdE1hcCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VCBleHRlbmRzIE1hcF8+ICAgICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPik6IFZlY3RvcjxUPlsnVEFycmF5J107XG59XG5cbmV4cG9ydCBjbGFzcyBUb0FycmF5VmlzaXRvciBleHRlbmRzIFZpc2l0b3Ige31cblxuZnVuY3Rpb24gYXJyYXlPZlZlY3RvcjxUIGV4dGVuZHMgRGF0YVR5cGU+KHZlY3RvcjogVmVjdG9yPFQ+KTogVFsnVEFycmF5J10ge1xuXG4gICAgY29uc3QgeyB0eXBlLCBsZW5ndGgsIHN0cmlkZSB9ID0gdmVjdG9yO1xuXG4gICAgLy8gRmFzdCBjYXNlLCByZXR1cm4gc3ViYXJyYXkgaWYgcG9zc2libGVcbiAgICBzd2l0Y2ggKHR5cGUudHlwZUlkKSB7XG4gICAgICAgIGNhc2UgVHlwZS5JbnQ6IGNhc2UgVHlwZS5EZWNpbWFsOlxuICAgICAgICBjYXNlIFR5cGUuVGltZTogY2FzZSBUeXBlLlRpbWVzdGFtcDpcbiAgICAgICAgICAgIHJldHVybiB2ZWN0b3IudmFsdWVzLnN1YmFycmF5KDAsIGxlbmd0aCAqIHN0cmlkZSk7XG4gICAgICAgIGNhc2UgVHlwZS5GbG9hdDpcbiAgICAgICAgICAgIHJldHVybiAodHlwZSBhcyBGbG9hdCkucHJlY2lzaW9uID09PSBQcmVjaXNpb24uSEFMRiAvKiBQcmVjaXNpb24uSEFMRiAqL1xuICAgICAgICAgICAgICAgID8gbmV3IEZsb2F0MzJBcnJheSh2ZWN0b3JbU3ltYm9sLml0ZXJhdG9yXSgpKVxuICAgICAgICAgICAgICAgIDogdmVjdG9yLnZhbHVlcy5zdWJhcnJheSgwLCBsZW5ndGggKiBzdHJpZGUpO1xuICAgIH1cblxuICAgIC8vIE90aGVyd2lzZSBpZiBub3QgcHJpbWl0aXZlLCBzbG93IGNvcHlcbiAgICByZXR1cm4gWy4uLml0ZXJhdG9yVmlzaXRvci52aXNpdCh2ZWN0b3IpXSBhcyBUWydUQXJyYXknXTtcbn1cblxuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0TnVsbCAgICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0Qm9vbCAgICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0SW50ICAgICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0SW50OCAgICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0SW50MTYgICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0SW50MzIgICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0SW50NjQgICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0VWludDggICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0VWludDE2ICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0VWludDMyICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0VWludDY0ICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0RmxvYXQgICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0RmxvYXQxNiAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0RmxvYXQzMiAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0RmxvYXQ2NCAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0VXRmOCAgICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0QmluYXJ5ICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0Rml4ZWRTaXplQmluYXJ5ICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0RGF0ZSAgICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0RGF0ZURheSAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0RGF0ZU1pbGxpc2Vjb25kICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wU2Vjb25kICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wTWlsbGlzZWNvbmQgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wTWljcm9zZWNvbmQgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wTmFub3NlY29uZCAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0VGltZSAgICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0VGltZVNlY29uZCAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0VGltZU1pbGxpc2Vjb25kICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0VGltZU1pY3Jvc2Vjb25kICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0VGltZU5hbm9zZWNvbmQgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0RGVjaW1hbCAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0TGlzdCAgICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0U3RydWN0ICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0VW5pb24gICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0RGVuc2VVbmlvbiAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0U3BhcnNlVW5pb24gICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0RGljdGlvbmFyeSAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0SW50ZXJ2YWwgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0SW50ZXJ2YWxEYXlUaW1lICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0SW50ZXJ2YWxZZWFyTW9udGggICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0Rml4ZWRTaXplTGlzdCAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0TWFwICAgICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuXG5leHBvcnQgY29uc3QgaW5zdGFuY2UgPSBuZXcgVG9BcnJheVZpc2l0b3IoKTtcbiJdfQ==
