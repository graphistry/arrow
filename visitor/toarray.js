"use strict";
// Licensed to the Apache Software Foundation (ASF) under one
// or more contributor license agreements.  See the NOTICE file
// distributed with this work for additional information
// regarding copyright ownership.  The ASF licenses this file
// to you under the Apache License, Version 2.0 (the
// "License"); you may not use this file except in compliance
// with the License.  You may obtain a copy of the License at
//
//   http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing,
// software distributed under the License is distributed on an
// "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
// KIND, either express or implied.  See the License for the
// specific language governing permissions and limitations
// under the License.
Object.defineProperty(exports, "__esModule", { value: true });
const enum_1 = require("../enum");
const visitor_1 = require("../visitor");
const iterator_1 = require("./iterator");
class ToArrayVisitor extends visitor_1.Visitor {
}
exports.ToArrayVisitor = ToArrayVisitor;
/** @ignore */
function arrayOfVector(vector) {
    const { type, length, stride } = vector;
    // Fast case, return subarray if possible
    switch (type.typeId) {
        case enum_1.Type.Int:
        case enum_1.Type.Float:
        case enum_1.Type.Decimal:
        case enum_1.Type.Time:
        case enum_1.Type.Timestamp:
            return vector.values.subarray(0, length * stride);
    }
    // Otherwise if not primitive, slow copy
    return [...iterator_1.instance.visit(vector)];
}
ToArrayVisitor.prototype.visitNull = arrayOfVector;
ToArrayVisitor.prototype.visitBool = arrayOfVector;
ToArrayVisitor.prototype.visitInt = arrayOfVector;
ToArrayVisitor.prototype.visitInt8 = arrayOfVector;
ToArrayVisitor.prototype.visitInt16 = arrayOfVector;
ToArrayVisitor.prototype.visitInt32 = arrayOfVector;
ToArrayVisitor.prototype.visitInt64 = arrayOfVector;
ToArrayVisitor.prototype.visitUint8 = arrayOfVector;
ToArrayVisitor.prototype.visitUint16 = arrayOfVector;
ToArrayVisitor.prototype.visitUint32 = arrayOfVector;
ToArrayVisitor.prototype.visitUint64 = arrayOfVector;
ToArrayVisitor.prototype.visitFloat = arrayOfVector;
ToArrayVisitor.prototype.visitFloat16 = arrayOfVector;
ToArrayVisitor.prototype.visitFloat32 = arrayOfVector;
ToArrayVisitor.prototype.visitFloat64 = arrayOfVector;
ToArrayVisitor.prototype.visitUtf8 = arrayOfVector;
ToArrayVisitor.prototype.visitBinary = arrayOfVector;
ToArrayVisitor.prototype.visitFixedSizeBinary = arrayOfVector;
ToArrayVisitor.prototype.visitDate = arrayOfVector;
ToArrayVisitor.prototype.visitDateDay = arrayOfVector;
ToArrayVisitor.prototype.visitDateMillisecond = arrayOfVector;
ToArrayVisitor.prototype.visitTimestamp = arrayOfVector;
ToArrayVisitor.prototype.visitTimestampSecond = arrayOfVector;
ToArrayVisitor.prototype.visitTimestampMillisecond = arrayOfVector;
ToArrayVisitor.prototype.visitTimestampMicrosecond = arrayOfVector;
ToArrayVisitor.prototype.visitTimestampNanosecond = arrayOfVector;
ToArrayVisitor.prototype.visitTime = arrayOfVector;
ToArrayVisitor.prototype.visitTimeSecond = arrayOfVector;
ToArrayVisitor.prototype.visitTimeMillisecond = arrayOfVector;
ToArrayVisitor.prototype.visitTimeMicrosecond = arrayOfVector;
ToArrayVisitor.prototype.visitTimeNanosecond = arrayOfVector;
ToArrayVisitor.prototype.visitDecimal = arrayOfVector;
ToArrayVisitor.prototype.visitList = arrayOfVector;
ToArrayVisitor.prototype.visitStruct = arrayOfVector;
ToArrayVisitor.prototype.visitUnion = arrayOfVector;
ToArrayVisitor.prototype.visitDenseUnion = arrayOfVector;
ToArrayVisitor.prototype.visitSparseUnion = arrayOfVector;
ToArrayVisitor.prototype.visitDictionary = arrayOfVector;
ToArrayVisitor.prototype.visitInterval = arrayOfVector;
ToArrayVisitor.prototype.visitIntervalDayTime = arrayOfVector;
ToArrayVisitor.prototype.visitIntervalYearMonth = arrayOfVector;
ToArrayVisitor.prototype.visitFixedSizeList = arrayOfVector;
ToArrayVisitor.prototype.visitMap = arrayOfVector;
/** @ignore */
exports.instance = new ToArrayVisitor();

//# sourceMappingURL=data:application/json;charset=utf8;base64,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QUFDbkUsY0FBYyxDQUFDLFNBQVMsQ0FBQyxzQkFBc0IsR0FBTSxhQUFhLENBQUM7QUFDbkUsY0FBYyxDQUFDLFNBQVMsQ0FBQyxrQkFBa0IsR0FBVSxhQUFhLENBQUM7QUFDbkUsY0FBYyxDQUFDLFNBQVMsQ0FBQyxRQUFRLEdBQW9CLGFBQWEsQ0FBQztBQUVuRSxjQUFjO0FBQ0QsUUFBQSxRQUFRLEdBQUcsSUFBSSxjQUFjLEVBQUUsQ0FBQyIsImZpbGUiOiJ2aXNpdG9yL3RvYXJyYXkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4vLyBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbi8vIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4vLyByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4vLyB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4vLyBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Vcbi8vIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbi8vIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4vLyBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuLy8gS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4vLyBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4vLyB1bmRlciB0aGUgTGljZW5zZS5cblxuaW1wb3J0IHsgRGF0YSB9IGZyb20gJy4uL2RhdGEnO1xuaW1wb3J0IHsgVHlwZSB9IGZyb20gJy4uL2VudW0nO1xuaW1wb3J0IHsgVmlzaXRvciB9IGZyb20gJy4uL3Zpc2l0b3InO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSAnLi4vaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBpbnN0YW5jZSBhcyBpdGVyYXRvclZpc2l0b3IgfSBmcm9tICcuL2l0ZXJhdG9yJztcbmltcG9ydCB7XG4gICAgRGF0YVR5cGUsIERpY3Rpb25hcnksXG4gICAgQm9vbCwgTnVsbCwgVXRmOCwgQmluYXJ5LCBEZWNpbWFsLCBGaXhlZFNpemVCaW5hcnksIExpc3QsIEZpeGVkU2l6ZUxpc3QsIE1hcF8sIFN0cnVjdCxcbiAgICBGbG9hdCwgRmxvYXQxNiwgRmxvYXQzMiwgRmxvYXQ2NCxcbiAgICBJbnQsIFVpbnQ4LCBVaW50MTYsIFVpbnQzMiwgVWludDY0LCBJbnQ4LCBJbnQxNiwgSW50MzIsIEludDY0LFxuICAgIERhdGVfLCBEYXRlRGF5LCBEYXRlTWlsbGlzZWNvbmQsXG4gICAgSW50ZXJ2YWwsIEludGVydmFsRGF5VGltZSwgSW50ZXJ2YWxZZWFyTW9udGgsXG4gICAgVGltZSwgVGltZVNlY29uZCwgVGltZU1pbGxpc2Vjb25kLCBUaW1lTWljcm9zZWNvbmQsIFRpbWVOYW5vc2Vjb25kLFxuICAgIFRpbWVzdGFtcCwgVGltZXN0YW1wU2Vjb25kLCBUaW1lc3RhbXBNaWxsaXNlY29uZCwgVGltZXN0YW1wTWljcm9zZWNvbmQsIFRpbWVzdGFtcE5hbm9zZWNvbmQsXG4gICAgVW5pb24sIERlbnNlVW5pb24sIFNwYXJzZVVuaW9uLFxufSBmcm9tICcuLi90eXBlJztcblxuZXhwb3J0IGludGVyZmFjZSBUb0FycmF5VmlzaXRvciBleHRlbmRzIFZpc2l0b3Ige1xuICAgIHZpc2l0PFQgZXh0ZW5kcyBWZWN0b3I+KG5vZGU6IFQpOiBUWydUQXJyYXknXTtcbiAgICB2aXNpdE1hbnk8VCBleHRlbmRzIFZlY3Rvcj4obm9kZXM6IFRbXSk6IFRbJ1RBcnJheSddW107XG4gICAgZ2V0VmlzaXRGbjxUIGV4dGVuZHMgVHlwZT4obm9kZTogVCk6ICh2ZWN0b3I6IFZlY3RvcjxUPikgPT4gVmVjdG9yPFQ+WydUQXJyYXknXTtcbiAgICBnZXRWaXNpdEZuPFQgZXh0ZW5kcyBEYXRhVHlwZT4obm9kZTogVmVjdG9yPFQ+IHwgRGF0YTxUPiB8IFQpOiAodmVjdG9yOiBWZWN0b3I8VD4pID0+IFZlY3RvcjxUPlsnVEFycmF5J107XG4gICAgdmlzaXROdWxsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBOdWxsPiAgICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4pOiBWZWN0b3I8VD5bJ1RBcnJheSddO1xuICAgIHZpc2l0Qm9vbCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgQm9vbD4gICAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+KTogVmVjdG9yPFQ+WydUQXJyYXknXTtcbiAgICB2aXNpdEludCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VCBleHRlbmRzIEludD4gICAgICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPik6IFZlY3RvcjxUPlsnVEFycmF5J107XG4gICAgdmlzaXRJbnQ4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBJbnQ4PiAgICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4pOiBWZWN0b3I8VD5bJ1RBcnJheSddO1xuICAgIHZpc2l0SW50MTYgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgSW50MTY+ICAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+KTogVmVjdG9yPFQ+WydUQXJyYXknXTtcbiAgICB2aXNpdEludDMyICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VCBleHRlbmRzIEludDMyPiAgICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPik6IFZlY3RvcjxUPlsnVEFycmF5J107XG4gICAgdmlzaXRJbnQ2NCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBJbnQ2ND4gICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4pOiBWZWN0b3I8VD5bJ1RBcnJheSddO1xuICAgIHZpc2l0VWludDggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgVWludDg+ICAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+KTogVmVjdG9yPFQ+WydUQXJyYXknXTtcbiAgICB2aXNpdFVpbnQxNiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VCBleHRlbmRzIFVpbnQxNj4gICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPik6IFZlY3RvcjxUPlsnVEFycmF5J107XG4gICAgdmlzaXRVaW50MzIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBVaW50MzI+ICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4pOiBWZWN0b3I8VD5bJ1RBcnJheSddO1xuICAgIHZpc2l0VWludDY0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgVWludDY0PiAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+KTogVmVjdG9yPFQ+WydUQXJyYXknXTtcbiAgICB2aXNpdEZsb2F0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VCBleHRlbmRzIEZsb2F0PiAgICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPik6IFZlY3RvcjxUPlsnVEFycmF5J107XG4gICAgdmlzaXRGbG9hdDE2ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBGbG9hdDE2PiAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4pOiBWZWN0b3I8VD5bJ1RBcnJheSddO1xuICAgIHZpc2l0RmxvYXQzMiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgRmxvYXQzMj4gICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+KTogVmVjdG9yPFQ+WydUQXJyYXknXTtcbiAgICB2aXNpdEZsb2F0NjQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VCBleHRlbmRzIEZsb2F0NjQ+ICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPik6IFZlY3RvcjxUPlsnVEFycmF5J107XG4gICAgdmlzaXRVdGY4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBVdGY4PiAgICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4pOiBWZWN0b3I8VD5bJ1RBcnJheSddO1xuICAgIHZpc2l0QmluYXJ5ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgQmluYXJ5PiAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+KTogVmVjdG9yPFQ+WydUQXJyYXknXTtcbiAgICB2aXNpdEZpeGVkU2l6ZUJpbmFyeSAgICAgICAgICAgICAgICAgICAgICAgICA8VCBleHRlbmRzIEZpeGVkU2l6ZUJpbmFyeT4gICAgICh2ZWN0b3I6IFZlY3RvcjxUPik6IFZlY3RvcjxUPlsnVEFycmF5J107XG4gICAgdmlzaXREYXRlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBEYXRlXz4gICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4pOiBWZWN0b3I8VD5bJ1RBcnJheSddO1xuICAgIHZpc2l0RGF0ZURheSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgRGF0ZURheT4gICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+KTogVmVjdG9yPFQ+WydUQXJyYXknXTtcbiAgICB2aXNpdERhdGVNaWxsaXNlY29uZCAgICAgICAgICAgICAgICAgICAgICAgICA8VCBleHRlbmRzIERhdGVNaWxsaXNlY29uZD4gICAgICh2ZWN0b3I6IFZlY3RvcjxUPik6IFZlY3RvcjxUPlsnVEFycmF5J107XG4gICAgdmlzaXRUaW1lc3RhbXAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBUaW1lc3RhbXA+ICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4pOiBWZWN0b3I8VD5bJ1RBcnJheSddO1xuICAgIHZpc2l0VGltZXN0YW1wU2Vjb25kICAgICAgICAgICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgVGltZXN0YW1wU2Vjb25kPiAgICAgKHZlY3RvcjogVmVjdG9yPFQ+KTogVmVjdG9yPFQ+WydUQXJyYXknXTtcbiAgICB2aXNpdFRpbWVzdGFtcE1pbGxpc2Vjb25kICAgICAgICAgICAgICAgICAgICA8VCBleHRlbmRzIFRpbWVzdGFtcE1pbGxpc2Vjb25kPih2ZWN0b3I6IFZlY3RvcjxUPik6IFZlY3RvcjxUPlsnVEFycmF5J107XG4gICAgdmlzaXRUaW1lc3RhbXBNaWNyb3NlY29uZCAgICAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBUaW1lc3RhbXBNaWNyb3NlY29uZD4odmVjdG9yOiBWZWN0b3I8VD4pOiBWZWN0b3I8VD5bJ1RBcnJheSddO1xuICAgIHZpc2l0VGltZXN0YW1wTmFub3NlY29uZCAgICAgICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgVGltZXN0YW1wTmFub3NlY29uZD4gKHZlY3RvcjogVmVjdG9yPFQ+KTogVmVjdG9yPFQ+WydUQXJyYXknXTtcbiAgICB2aXNpdFRpbWUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VCBleHRlbmRzIFRpbWU+ICAgICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPik6IFZlY3RvcjxUPlsnVEFycmF5J107XG4gICAgdmlzaXRUaW1lU2Vjb25kICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBUaW1lU2Vjb25kPiAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4pOiBWZWN0b3I8VD5bJ1RBcnJheSddO1xuICAgIHZpc2l0VGltZU1pbGxpc2Vjb25kICAgICAgICAgICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgVGltZU1pbGxpc2Vjb25kPiAgICAgKHZlY3RvcjogVmVjdG9yPFQ+KTogVmVjdG9yPFQ+WydUQXJyYXknXTtcbiAgICB2aXNpdFRpbWVNaWNyb3NlY29uZCAgICAgICAgICAgICAgICAgICAgICAgICA8VCBleHRlbmRzIFRpbWVNaWNyb3NlY29uZD4gICAgICh2ZWN0b3I6IFZlY3RvcjxUPik6IFZlY3RvcjxUPlsnVEFycmF5J107XG4gICAgdmlzaXRUaW1lTmFub3NlY29uZCAgICAgICAgICAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBUaW1lTmFub3NlY29uZD4gICAgICAodmVjdG9yOiBWZWN0b3I8VD4pOiBWZWN0b3I8VD5bJ1RBcnJheSddO1xuICAgIHZpc2l0RGVjaW1hbCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgRGVjaW1hbD4gICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+KTogVmVjdG9yPFQ+WydUQXJyYXknXTtcbiAgICB2aXNpdExpc3QgICAgICAgICAgICAgICAgPFIgZXh0ZW5kcyBEYXRhVHlwZSwgVCBleHRlbmRzIExpc3Q8Uj4+ICAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPik6IFZlY3RvcjxUPlsnVEFycmF5J107XG4gICAgdmlzaXRTdHJ1Y3QgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBTdHJ1Y3Q+ICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4pOiBWZWN0b3I8VD5bJ1RBcnJheSddO1xuICAgIHZpc2l0VW5pb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgVW5pb24+ICAgICAgICAgICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+KTogVmVjdG9yPFQ+WydUQXJyYXknXTtcbiAgICB2aXNpdERlbnNlVW5pb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VCBleHRlbmRzIERlbnNlVW5pb24+ICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPik6IFZlY3RvcjxUPlsnVEFycmF5J107XG4gICAgdmlzaXRTcGFyc2VVbmlvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBTcGFyc2VVbmlvbj4gICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4pOiBWZWN0b3I8VD5bJ1RBcnJheSddO1xuICAgIHZpc2l0RGljdGlvbmFyeSAgICAgICAgICA8UiBleHRlbmRzIERhdGFUeXBlLCBUIGV4dGVuZHMgRGljdGlvbmFyeTxSPj4gICAgICAgKHZlY3RvcjogVmVjdG9yPFQ+KTogVmVjdG9yPFQ+WydUQXJyYXknXTtcbiAgICB2aXNpdEludGVydmFsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VCBleHRlbmRzIEludGVydmFsPiAgICAgICAgICAgICh2ZWN0b3I6IFZlY3RvcjxUPik6IFZlY3RvcjxUPlsnVEFycmF5J107XG4gICAgdmlzaXRJbnRlcnZhbERheVRpbWUgICAgICAgICAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBJbnRlcnZhbERheVRpbWU+ICAgICAodmVjdG9yOiBWZWN0b3I8VD4pOiBWZWN0b3I8VD5bJ1RBcnJheSddO1xuICAgIHZpc2l0SW50ZXJ2YWxZZWFyTW9udGggICAgICAgICAgICAgICAgICAgICAgIDxUIGV4dGVuZHMgSW50ZXJ2YWxZZWFyTW9udGg+ICAgKHZlY3RvcjogVmVjdG9yPFQ+KTogVmVjdG9yPFQ+WydUQXJyYXknXTtcbiAgICB2aXNpdEZpeGVkU2l6ZUxpc3QgICAgICAgPFIgZXh0ZW5kcyBEYXRhVHlwZSwgVCBleHRlbmRzIEZpeGVkU2l6ZUxpc3Q8Uj4+ICAgICh2ZWN0b3I6IFZlY3RvcjxUPik6IFZlY3RvcjxUPlsnVEFycmF5J107XG4gICAgdmlzaXRNYXAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFQgZXh0ZW5kcyBNYXBfPiAgICAgICAgICAgICAgICAodmVjdG9yOiBWZWN0b3I8VD4pOiBWZWN0b3I8VD5bJ1RBcnJheSddO1xufVxuXG5leHBvcnQgY2xhc3MgVG9BcnJheVZpc2l0b3IgZXh0ZW5kcyBWaXNpdG9yIHt9XG5cbi8qKiBAaWdub3JlICovXG5mdW5jdGlvbiBhcnJheU9mVmVjdG9yPFQgZXh0ZW5kcyBEYXRhVHlwZT4odmVjdG9yOiBWZWN0b3I8VD4pOiBUWydUQXJyYXknXSB7XG5cbiAgICBjb25zdCB7IHR5cGUsIGxlbmd0aCwgc3RyaWRlIH0gPSB2ZWN0b3I7XG5cbiAgICAvLyBGYXN0IGNhc2UsIHJldHVybiBzdWJhcnJheSBpZiBwb3NzaWJsZVxuICAgIHN3aXRjaCAodHlwZS50eXBlSWQpIHtcbiAgICAgICAgY2FzZSBUeXBlLkludDpcbiAgICAgICAgY2FzZSBUeXBlLkZsb2F0OiBjYXNlIFR5cGUuRGVjaW1hbDpcbiAgICAgICAgY2FzZSBUeXBlLlRpbWU6IGNhc2UgVHlwZS5UaW1lc3RhbXA6XG4gICAgICAgICAgICByZXR1cm4gdmVjdG9yLnZhbHVlcy5zdWJhcnJheSgwLCBsZW5ndGggKiBzdHJpZGUpO1xuICAgIH1cblxuICAgIC8vIE90aGVyd2lzZSBpZiBub3QgcHJpbWl0aXZlLCBzbG93IGNvcHlcbiAgICByZXR1cm4gWy4uLml0ZXJhdG9yVmlzaXRvci52aXNpdCh2ZWN0b3IpXSBhcyBUWydUQXJyYXknXTtcbn1cblxuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0TnVsbCAgICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0Qm9vbCAgICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0SW50ICAgICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0SW50OCAgICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0SW50MTYgICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0SW50MzIgICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0SW50NjQgICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0VWludDggICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0VWludDE2ICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0VWludDMyICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0VWludDY0ICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0RmxvYXQgICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0RmxvYXQxNiAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0RmxvYXQzMiAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0RmxvYXQ2NCAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0VXRmOCAgICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0QmluYXJ5ICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0Rml4ZWRTaXplQmluYXJ5ICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0RGF0ZSAgICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0RGF0ZURheSAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0RGF0ZU1pbGxpc2Vjb25kICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wU2Vjb25kICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wTWlsbGlzZWNvbmQgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wTWljcm9zZWNvbmQgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0VGltZXN0YW1wTmFub3NlY29uZCAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0VGltZSAgICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0VGltZVNlY29uZCAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0VGltZU1pbGxpc2Vjb25kICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0VGltZU1pY3Jvc2Vjb25kICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0VGltZU5hbm9zZWNvbmQgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0RGVjaW1hbCAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0TGlzdCAgICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0U3RydWN0ICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0VW5pb24gICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0RGVuc2VVbmlvbiAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0U3BhcnNlVW5pb24gICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0RGljdGlvbmFyeSAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0SW50ZXJ2YWwgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0SW50ZXJ2YWxEYXlUaW1lICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0SW50ZXJ2YWxZZWFyTW9udGggICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0Rml4ZWRTaXplTGlzdCAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuVG9BcnJheVZpc2l0b3IucHJvdG90eXBlLnZpc2l0TWFwICAgICAgICAgICAgICAgICAgPSBhcnJheU9mVmVjdG9yO1xuXG4vKiogQGlnbm9yZSAqL1xuZXhwb3J0IGNvbnN0IGluc3RhbmNlID0gbmV3IFRvQXJyYXlWaXNpdG9yKCk7XG4iXX0=
