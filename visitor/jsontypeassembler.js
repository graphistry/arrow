"use strict";
// Licensed to the Apache Software Foundation (ASF) under one
// or more contributor license agreements.  See the NOTICE file
// distributed with this work for additional information
// regarding copyright ownership.  The ASF licenses this file
// to you under the Apache License, Version 2.0 (the
// "License"); you may not use this file except in compliance
// with the License.  You may obtain a copy of the License at
//
//   http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing,
// software distributed under the License is distributed on an
// "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
// KIND, either express or implied.  See the License for the
// specific language governing permissions and limitations
// under the License.
Object.defineProperty(exports, "__esModule", { value: true });
const visitor_1 = require("../visitor");
const enum_1 = require("../enum");
class JSONTypeAssembler extends visitor_1.Visitor {
    visit(node) {
        return node == null ? undefined : super.visit(node);
    }
    visitNull({ typeId }) {
        return { 'name': enum_1.ArrowType[typeId].toLowerCase() };
    }
    visitInt({ typeId, bitWidth, isSigned }) {
        return { 'name': enum_1.ArrowType[typeId].toLowerCase(), 'bitWidth': bitWidth, 'isSigned': isSigned };
    }
    visitFloat({ typeId, precision }) {
        return { 'name': enum_1.ArrowType[typeId].toLowerCase(), 'precision': enum_1.Precision[precision] };
    }
    visitBinary({ typeId }) {
        return { 'name': enum_1.ArrowType[typeId].toLowerCase() };
    }
    visitBool({ typeId }) {
        return { 'name': enum_1.ArrowType[typeId].toLowerCase() };
    }
    visitUtf8({ typeId }) {
        return { 'name': enum_1.ArrowType[typeId].toLowerCase() };
    }
    visitDecimal({ typeId, scale, precision }) {
        return { 'name': enum_1.ArrowType[typeId].toLowerCase(), 'scale': scale, 'precision': precision };
    }
    visitDate({ typeId, unit }) {
        return { 'name': enum_1.ArrowType[typeId].toLowerCase(), 'unit': enum_1.DateUnit[unit] };
    }
    visitTime({ typeId, unit, bitWidth }) {
        return { 'name': enum_1.ArrowType[typeId].toLowerCase(), 'unit': enum_1.TimeUnit[unit], bitWidth };
    }
    visitTimestamp({ typeId, timezone, unit }) {
        return { 'name': enum_1.ArrowType[typeId].toLowerCase(), 'unit': enum_1.TimeUnit[unit], timezone };
    }
    visitInterval({ typeId, unit }) {
        return { 'name': enum_1.ArrowType[typeId].toLowerCase(), 'unit': enum_1.IntervalUnit[unit] };
    }
    visitList({ typeId }) {
        return { 'name': enum_1.ArrowType[typeId].toLowerCase() };
    }
    visitStruct({ typeId }) {
        return { 'name': enum_1.ArrowType[typeId].toLowerCase() };
    }
    visitUnion({ typeId, mode, typeIds }) {
        return {
            'name': enum_1.ArrowType[typeId].toLowerCase(),
            'mode': enum_1.UnionMode[mode],
            'typeIds': [...typeIds]
        };
    }
    visitDictionary(node) {
        return this.visit(node.dictionary);
    }
    visitFixedSizeBinary({ typeId, byteWidth }) {
        return { 'name': enum_1.ArrowType[typeId].toLowerCase(), 'byteWidth': byteWidth };
    }
    visitFixedSizeList({ typeId, listSize }) {
        return { 'name': enum_1.ArrowType[typeId].toLowerCase(), 'listSize': listSize };
    }
    visitMap({ typeId, keysSorted }) {
        return { 'name': enum_1.ArrowType[typeId].toLowerCase(), 'keysSorted': keysSorted };
    }
}
exports.JSONTypeAssembler = JSONTypeAssembler;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZpc2l0b3IvanNvbnR5cGVhc3NlbWJsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLDZEQUE2RDtBQUM3RCwrREFBK0Q7QUFDL0Qsd0RBQXdEO0FBQ3hELDZEQUE2RDtBQUM3RCxvREFBb0Q7QUFDcEQsNkRBQTZEO0FBQzdELDZEQUE2RDtBQUM3RCxFQUFFO0FBQ0YsK0NBQStDO0FBQy9DLEVBQUU7QUFDRiw2REFBNkQ7QUFDN0QsOERBQThEO0FBQzlELHlEQUF5RDtBQUN6RCw0REFBNEQ7QUFDNUQsMERBQTBEO0FBQzFELHFCQUFxQjs7QUFHckIsd0NBQXFDO0FBQ3JDLGtDQUE0RjtBQU01RixNQUFhLGlCQUFrQixTQUFRLGlCQUFPO0lBQ25DLEtBQUssQ0FBMEIsSUFBTztRQUN6QyxPQUFPLElBQUksSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUN4RCxDQUFDO0lBQ00sU0FBUyxDQUFzQixFQUFFLE1BQU0sRUFBSztRQUMvQyxPQUFPLEVBQUUsTUFBTSxFQUFFLGdCQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsV0FBVyxFQUFFLEVBQUUsQ0FBQztJQUN2RCxDQUFDO0lBQ00sUUFBUSxDQUFxQixFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFLO1FBQ2pFLE9BQU8sRUFBRSxNQUFNLEVBQUUsZ0JBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxXQUFXLEVBQUUsRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsQ0FBQztJQUNuRyxDQUFDO0lBQ00sVUFBVSxDQUF1QixFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUs7UUFDNUQsT0FBTyxFQUFFLE1BQU0sRUFBRSxnQkFBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLFdBQVcsRUFBRSxFQUFFLFdBQVcsRUFBRSxnQkFBUyxDQUFDLFNBQVMsQ0FBQyxFQUFFLENB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QkFBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLFdBQVcsRUFBRSxFQUFFLFdBQVcsRUFBRSxTQUFTLEVBQUUsQ0FBQztJQUMvRSxDQUFDO0lBQ00sa0JBQWtCLENBQStCLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBSztRQUMzRSxPQUFPLEVBQUUsTUFBTSxFQUFFLGdCQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsV0FBVyxFQUFFLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBRSxDQUFDO0lBQzdFLENBQUM7SUFDTSxRQUFRLENBQXNCLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBSztRQUMxRCxPQUFPLEVBQUUsTUFBTSxFQUFFLGdCQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsV0FBVyxFQUFFLEVBQUUsWUFBWSxFQUFFLFVBQVUsRUFBRSxDQUFDO0lBQ2pGLENBQUM7Q0FDSjtBQTlERCw4Q0E4REMiLCJmaWxlIjoidmlzaXRvci9qc29udHlwZWFzc2VtYmxlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbi8vIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuLy8gZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbi8vIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbi8vIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbi8vIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuLy8gd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuLy8gc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbi8vIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4vLyBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbi8vIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbi8vIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG5pbXBvcnQgKiBhcyB0eXBlIGZyb20gJy4uL3R5cGUnO1xuaW1wb3J0IHsgVmlzaXRvciB9IGZyb20gJy4uL3Zpc2l0b3InO1xuaW1wb3J0IHsgQXJyb3dUeXBlLCBQcmVjaXNpb24sIERhdGVVbml0LCBUaW1lVW5pdCwgSW50ZXJ2YWxVbml0LCBVbmlvbk1vZGUgfSBmcm9tICcuLi9lbnVtJztcblxuZXhwb3J0IGludGVyZmFjZSBKU09OVHlwZUFzc2VtYmxlciBleHRlbmRzIFZpc2l0b3Ige1xuICAgIHZpc2l0PFQgZXh0ZW5kcyB0eXBlLkRhdGFUeXBlPihub2RlOiBUKTogb2JqZWN0IHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgY2xhc3MgSlNPTlR5cGVBc3NlbWJsZXIgZXh0ZW5kcyBWaXNpdG9yIHtcbiAgICBwdWJsaWMgdmlzaXQ8VCBleHRlbmRzIHR5cGUuRGF0YVR5cGU+KG5vZGU6IFQpOiBvYmplY3QgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gbm9kZSA9PSBudWxsID8gdW5kZWZpbmVkIDogc3VwZXIudmlzaXQobm9kZSk7XG4gICAgfVxuICAgIHB1YmxpYyB2aXNpdE51bGw8VCBleHRlbmRzIHR5cGUuTnVsbD4oeyB0eXBlSWQgfTogVCkge1xuICAgICAgICByZXR1cm4geyAnbmFtZSc6IEFycm93VHlwZVt0eXBlSWRdLnRvTG93ZXJDYXNlKCkgfTtcbiAgICB9XG4gICAgcHVibGljIHZpc2l0SW50PFQgZXh0ZW5kcyB0eXBlLkludD4oeyB0eXBlSWQsIGJpdFdpZHRoLCBpc1NpZ25lZCB9OiBUKSB7XG4gICAgICAgIHJldHVybiB7ICduYW1lJzogQXJyb3dUeXBlW3R5cGVJZF0udG9Mb3dlckNhc2UoKSwgJ2JpdFdpZHRoJzogYml0V2lkdGgsICdpc1NpZ25lZCc6IGlzU2lnbmVkIH07XG4gICAgfVxuICAgIHB1YmxpYyB2aXNpdEZsb2F0PFQgZXh0ZW5kcyB0eXBlLkZsb2F0Pih7IHR5cGVJZCwgcHJlY2lzaW9uIH06IFQpIHtcbiAgICAgICAgcmV0dXJuIHsgJ25hbWUnOiBBcnJvd1R5cGVbdHlwZUlkXS50b0xvd2VyQ2FzZSgpLCAncHJlY2lzaW9uJzogUHJlY2lzaW9uW3ByZWNpc2lvbl0gfTtcbiAgICB9XG4gICAgcHVibGljIHZpc2l0QmluYXJ5PFQgZXh0ZW5kcyB0eXBlLkJpbmFyeT4oeyB0eXBlSWQgfTogVCkge1xuICAgICAgICByZXR1cm4geyAnbmFtZSc6IEFycm93VHlwZVt0eXBlSWRdLnRvTG93ZXJDYXNlKCkgfTtcbiAgICB9XG4gICAgcHVibGljIHZpc2l0Qm9vbDxUIGV4dGVuZHMgdHlwZS5Cb29sPih7IHR5cGVJZCB9OiBUKSB7XG4gICAgICAgIHJldHVybiB7ICduYW1lJzogQXJyb3dUeXBlW3R5cGVJZF0udG9Mb3dlckNhc2UoKSB9O1xuICAgIH1cbiAgICBwdWJsaWMgdmlzaXRVdGY4PFQgZXh0ZW5kcyB0eXBlLlV0Zjg+KHsgdHlwZUlkIH06IFQpIHtcbiAgICAgICAgcmV0dXJuIHsgJ25hbWUnOiBBcnJvd1R5cGVbdHlwZUlkXS50b0xvd2VyQ2FzZSgpIH07XG4gICAgfVxuICAgIHB1YmxpYyB2aXNpdERlY2ltYWw8VCBleHRlbmRzIHR5cGUuRGVjaW1hbD4oeyB0eXBlSWQsIHNjYWxlLCBwcmVjaXNpb24gfTogVCkge1xuICAgICAgICByZXR1cm4geyAnbmFtZSc6IEFycm93VHlwZVt0eXBlSWRdLnRvTG93ZXJDYXNlKCksICdzY2FsZSc6IHNjYWxlLCAncHJlY2lzaW9uJzogcHJlY2lzaW9uIH07XG4gICAgfVxuICAgIHB1YmxpYyB2aXNpdERhdGU8VCBleHRlbmRzIHR5cGUuRGF0ZV8+KHsgdHlwZUlkLCB1bml0IH06IFQpIHtcbiAgICAgICAgcmV0dXJuIHsgJ25hbWUnOiBBcnJvd1R5cGVbdHlwZUlkXS50b0xvd2VyQ2FzZSgpLCAndW5pdCc6IERhdGVVbml0W3VuaXRdIH07XG4gICAgfVxuICAgIHB1YmxpYyB2aXNpdFRpbWU8VCBleHRlbmRzIHR5cGUuVGltZT4oeyB0eXBlSWQsIHVuaXQsIGJpdFdpZHRoIH06IFQpIHtcbiAgICAgICAgcmV0dXJuIHsgJ25hbWUnOiBBcnJvd1R5cGVbdHlwZUlkXS50b0xvd2VyQ2FzZSgpLCAndW5pdCc6IFRpbWVVbml0W3VuaXRdLCBiaXRXaWR0aCB9O1xuICAgIH1cbiAgICBwdWJsaWMgdmlzaXRUaW1lc3RhbXA8VCBleHRlbmRzIHR5cGUuVGltZXN0YW1wPih7IHR5cGVJZCwgdGltZXpvbmUsIHVuaXQgfTogVCkge1xuICAgICAgICByZXR1cm4geyAnbmFtZSc6IEFycm93VHlwZVt0eXBlSWRdLnRvTG93ZXJDYXNlKCksICd1bml0JzogVGltZVVuaXRbdW5pdF0sIHRpbWV6b25lIH07XG4gICAgfVxuICAgIHB1YmxpYyB2aXNpdEludGVydmFsPFQgZXh0ZW5kcyB0eXBlLkludGVydmFsPih7IHR5cGVJZCwgdW5pdCB9OiBUKSB7XG4gICAgICAgIHJldHVybiB7ICduYW1lJzogQXJyb3dUeXBlW3R5cGVJZF0udG9Mb3dlckNhc2UoKSwgJ3VuaXQnOiBJbnRlcnZhbFVuaXRbdW5pdF0gfTtcbiAgICB9XG4gICAgcHVibGljIHZpc2l0TGlzdDxUIGV4dGVuZHMgdHlwZS5MaXN0Pih7IHR5cGVJZCB9OiBUKSB7XG4gICAgICAgIHJldHVybiB7ICduYW1lJzogQXJyb3dUeXBlW3R5cGVJZF0udG9Mb3dlckNhc2UoKSB9O1xuICAgIH1cbiAgICBwdWJsaWMgdmlzaXRTdHJ1Y3Q8VCBleHRlbmRzIHR5cGUuU3RydWN0Pih7IHR5cGVJZCB9OiBUKSB7XG4gICAgICAgIHJldHVybiB7ICduYW1lJzogQXJyb3dUeXBlW3R5cGVJZF0udG9Mb3dlckNhc2UoKSB9O1xuICAgIH1cbiAgICBwdWJsaWMgdmlzaXRVbmlvbjxUIGV4dGVuZHMgdHlwZS5Vbmlvbj4oeyB0eXBlSWQsIG1vZGUsIHR5cGVJZHMgfTogVCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJ25hbWUnOiBBcnJvd1R5cGVbdHlwZUlkXS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgJ21vZGUnOiBVbmlvbk1vZGVbbW9kZV0sXG4gICAgICAgICAgICAndHlwZUlkcyc6IFsuLi50eXBlSWRzXVxuICAgICAgICB9O1xuICAgIH1cbiAgICBwdWJsaWMgdmlzaXREaWN0aW9uYXJ5PFQgZXh0ZW5kcyB0eXBlLkRpY3Rpb25hcnk+KG5vZGU6IFQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlzaXQobm9kZS5kaWN0aW9uYXJ5KTtcbiAgICB9XG4gICAgcHVibGljIHZpc2l0Rml4ZWRTaXplQmluYXJ5PFQgZXh0ZW5kcyB0eXBlLkZpeGVkU2l6ZUJpbmFyeT4oeyB0eXBlSWQsIGJ5dGVXaWR0aCB9OiBUKSB7XG4gICAgICAgIHJldHVybiB7ICduYW1lJzogQXJyb3dUeXBlW3R5cGVJZF0udG9Mb3dlckNhc2UoKSwgJ2J5dGVXaWR0aCc6IGJ5dGVXaWR0aCB9O1xuICAgIH1cbiAgICBwdWJsaWMgdmlzaXRGaXhlZFNpemVMaXN0PFQgZXh0ZW5kcyB0eXBlLkZpeGVkU2l6ZUxpc3Q+KHsgdHlwZUlkLCBsaXN0U2l6ZSB9OiBUKSB7XG4gICAgICAgIHJldHVybiB7ICduYW1lJzogQXJyb3dUeXBlW3R5cGVJZF0udG9Mb3dlckNhc2UoKSwgJ2xpc3RTaXplJzogbGlzdFNpemUgfTtcbiAgICB9XG4gICAgcHVibGljIHZpc2l0TWFwPFQgZXh0ZW5kcyB0eXBlLk1hcF8+KHsgdHlwZUlkLCBrZXlzU29ydGVkIH06IFQpIHtcbiAgICAgICAgcmV0dXJuIHsgJ25hbWUnOiBBcnJvd1R5cGVbdHlwZUlkXS50b0xvd2VyQ2FzZSgpLCAna2V5c1NvcnRlZCc6IGtleXNTb3J0ZWQgfTtcbiAgICB9XG59XG4iXX0=
