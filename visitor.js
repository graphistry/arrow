"use strict";
// Licensed to the Apache Software Foundation (ASF) under one
// or more contributor license agreements.  See the NOTICE file
// distributed with this work for additional information
// regarding copyright ownership.  The ASF licenses this file
// to you under the Apache License, Version 2.0 (the
// "License"); you may not use this file except in compliance
// with the License.  You may obtain a copy of the License at
//
//   http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing,
// software distributed under the License is distributed on an
// "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
// KIND, either express or implied.  See the License for the
// specific language governing permissions and limitations
// under the License.
Object.defineProperty(exports, "__esModule", { value: true });
const type_1 = require("./type");
class TypeVisitor {
    visit(type) {
        return type.acceptTypeVisitor && type.acceptTypeVisitor(this) || null;
    }
    visitMany(types) {
        return types.map((type) => this.visit(type));
    }
    static visitTypeInline(visitor, type) {
        switch (type.TType) {
            case type_1.Type.Null: return visitor.visitNull && visitor.visitNull(type);
            case type_1.Type.Int: return visitor.visitInt && visitor.visitInt(type);
            case type_1.Type.Float: return visitor.visitFloat && visitor.visitFloat(type);
            case type_1.Type.Binary: return visitor.visitBinary && visitor.visitBinary(type);
            case type_1.Type.Utf8: return visitor.visitUtf8 && visitor.visitUtf8(type);
            case type_1.Type.Bool: return visitor.visitBool && visitor.visitBool(type);
            case type_1.Type.Decimal: return visitor.visitDecimal && visitor.visitDecimal(type);
            case type_1.Type.Date: return visitor.visitDate && visitor.visitDate(type);
            case type_1.Type.Time: return visitor.visitTime && visitor.visitTime(type);
            case type_1.Type.Timestamp: return visitor.visitTimestamp && visitor.visitTimestamp(type);
            case type_1.Type.Interval: return visitor.visitInterval && visitor.visitInterval(type);
            case type_1.Type.List: return visitor.visitList && visitor.visitList(type);
            case type_1.Type.Struct: return visitor.visitStruct && visitor.visitStruct(type);
            case type_1.Type.Union: return visitor.visitUnion && visitor.visitUnion(type);
            case type_1.Type.FixedSizeBinary: return visitor.visitFixedSizeBinary && visitor.visitFixedSizeBinary(type);
            case type_1.Type.FixedSizeList: return visitor.visitFixedSizeList && visitor.visitFixedSizeList(type);
            case type_1.Type.Map: return visitor.visitMap && visitor.visitMap(type);
            case type_1.Type.Dictionary: return visitor.visitDictionary && visitor.visitDictionary(type);
            default: return null;
        }
    }
}
exports.TypeVisitor = TypeVisitor;
class VectorVisitor {
    visit(vector) {
        return vector.acceptVectorVisitor && vector.acceptVectorVisitor(this) || null;
    }
    visitMany(vectors) {
        return vectors.map((vector) => this.visit(vector));
    }
    static visitTypeInline(visitor, type, vector) {
        switch (type.TType) {
            case type_1.Type.Null: return visitor.visitNull && visitor.visitNull(vector);
            case type_1.Type.Int: return visitor.visitInt && visitor.visitInt(vector);
            case type_1.Type.Float: return visitor.visitFloat && visitor.visitFloat(vector);
            case type_1.Type.Binary: return visitor.visitBinary && visitor.visitBinary(vector);
            case type_1.Type.Utf8: return visitor.visitUtf8 && visitor.visitUtf8(vector);
            case type_1.Type.Bool: return visitor.visitBool && visitor.visitBool(vector);
            case type_1.Type.Decimal: return visitor.visitDecimal && visitor.visitDecimal(vector);
            case type_1.Type.Date: return visitor.visitDate && visitor.visitDate(vector);
            case type_1.Type.Time: return visitor.visitTime && visitor.visitTime(vector);
            case type_1.Type.Timestamp: return visitor.visitTimestamp && visitor.visitTimestamp(vector);
            case type_1.Type.Interval: return visitor.visitInterval && visitor.visitInterval(vector);
            case type_1.Type.List: return visitor.visitList && visitor.visitList(vector);
            case type_1.Type.Struct: return visitor.visitStruct && visitor.visitStruct(vector);
            case type_1.Type.Union: return visitor.visitUnion && visitor.visitUnion(vector);
            case type_1.Type.FixedSizeBinary: return visitor.visitFixedSizeBinary && visitor.visitFixedSizeBinary(vector);
            case type_1.Type.FixedSizeList: return visitor.visitFixedSizeList && visitor.visitFixedSizeList(vector);
            case type_1.Type.Map: return visitor.visitMap && visitor.visitMap(vector);
            case type_1.Type.Dictionary: return visitor.visitDictionary && visitor.visitDictionary(vector);
            default: return null;
        }
    }
}
exports.VectorVisitor = VectorVisitor;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZpc2l0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLDZEQUE2RDtBQUM3RCwrREFBK0Q7QUFDL0Qsd0RBQXdEO0FBQ3hELDZEQUE2RDtBQUM3RCxvREFBb0Q7QUFDcEQsNkRBQTZEO0FBQzdELDZEQUE2RDtBQUM3RCxFQUFFO0FBQ0YsK0NBQStDO0FBQy9DLEVBQUU7QUFDRiw2REFBNkQ7QUFDN0QsOERBQThEO0FBQzlELHlEQUF5RDtBQUN6RCw0REFBNEQ7QUFDNUQsMERBQTBEO0FBQzFELHFCQUFxQjs7QUFHckIsaUNBQW9EO0FBVXBELE1BQXNCLFdBQVc7SUFDN0IsS0FBSyxDQUFDLElBQTBCO1FBQzVCLE9BQU8sSUFBSSxDQUFDLGlCQUFpQixJQUFJLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUM7SUFDMUUsQ0FBQztJQUNELFNBQVMsQ0FBQyxLQUE2QjtRQUNuQyxPQUFPLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUNqRCxDQUFDO0lBb0JELE1BQU0sQ0FBQyxlQUFlLENBQXFCLE9BQW9CLEVBQUUsSUFBTztRQUNwRSxRQUFRLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDaEIsS0FBSyxXQUFJLENBQUMsSUFBSSxDQUFDLENBQVksT0FBTyxPQUFPLENBQUMsU0FBUyxJQUFlLE9BQU8sQ0FBQyxTQUFTLENBQUMsSUFBOEIsQ0FBQyxDQUFDO1lBQ3BILEtBQUssV0FBSSxDQUFDLEdBQUcsQ0FBQyxDQUFhLE9BQU8sT0FBTyxDQUFDLFFBQVEsSUFBZ0IsT0FBTyxDQUFDLFFBQVEsQ0FBQyxJQUE4QixDQUFDLENBQUM7WUFDbkgsS0FBSyxXQUFJLENBQUMsS0FBSyxDQUFDLENBQVcsT0FBTyxPQUFPLENBQUMsVUFBVSxJQUFjLE9BQU8sQ0FBQyxVQUFVLENBQUMsSUFBOEIsQ0FBQyxDQUFDO1lBQ3JILEtBQUssV0FBSSxDQUFDLE1BQU0sQ0FBQyxDQUFVLE9BQU8sT0FBTyxDQUFDLFdBQVcsSUFBYSxPQUFPLENBQUMsV0FBVyxDQUFDLElBQThCLENBQUMsQ0FBQztZQUN0SCxLQUFLLFdBQUksQ0FBQyxJQUFJLENBQUMsQ0FBWSxPQUFPLE9BQU8sQ0FBQyxTQUFTLElBQWUsT0FBTyxDQUFDLFNBQVMsQ0FBQyxJQUE4QixDQUFDLENBQUM7WUFDcEgsS0FBSyxXQUFJLENBQUMsSUFBSSxDQUFDLENBQVksT0FBTyxPQUFPLENBQUMsU0FBUyxJQUFlLE9BQU8sQ0FBQyxTQUFTLENBQUMsSUFBOEIsQ0FBQyxDQUFDO1lBQ3BILEtBQUssV0FBSSxDQUFDLE9BQU8sQ0FBQyxDQUFTLE9BQU8sT0FBTyxDQUFDLFlBQVksSUFBWSxPQUFPLENBQUMsWUFBWSxDQUFDLElBQThCLENBQUMsQ0FBQztZQUN2SCxLQUFLLFdBQUksQ0FBQyxJQUFJLENBQUMsQ0FBWSxPQUFPLE9BQU8sQ0FBQyxTQUFTLElBQWUsT0FBTyxDQUFDLFNBQVMsQ0FBQyxJQUErQixDQUFDLENBQUM7WUFDckgsS0FBSyxXQUFJLENBQUMsSUFBSSxDQUFDLENBQVksT0FBTyxPQUFPLENBQUMsU0FBUyxJQUFlLE9BQU8sQ0FBQyxTQUFTLENBQUMsSUFBOEIsQ0FBQyxDQUFDO1lBQ3BILEtBQUssV0FBSSxDQUFDLFNBQVMsQ0FBQyxDQUFPLE9BQU8sT0FBTyxDQUFDLGNBQWMsSUFBVSxPQUFPLENBQUMsY0FBYyxDQUFDLElBQThCLENBQUMsQ0FBQztZQUN6SCxLQUFLLFdBQUksQ0FBQyxRQUFRLENBQUMsQ0FBUSxPQUFPLE9BQU8sQ0FBQyxhQUFhLElBQVcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxJQUE4QixDQUFDLENBQUM7WUFDeEgsS0FBSyxXQUFJLENBQUMsSUFBSSxDQUFDLENBQVksT0FBTyxPQUFPLENBQUMsU0FBUyxJQUFlLE9BQU8sQ0FBQyxTQUFTLENBQUMsSUFBaUMsQ0FBQyxDQUFDO1lBQ3ZILEtBQUssV0FBSSxDQUFDLE1BQU0sQ0FBQyxDQUFVLE9BQU8sT0FBTyxDQUFDLFdBQVcsSUFBYSxPQUFPLENBQUMsV0FBVyxDQUFDLElBQThCLENBQUMsQ0FBQztZQUN0SCxLQUFLLFdBQUksQ0FBQyxLQUFLLENBQUMsQ0FBVyxPQUFPLE9BQU8sQ0FBQyxVQUFVLElBQWMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxJQUE4QixDQUFDLENBQUM7WUFDckgsS0FBSyxXQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsT0FBTyxPQUFPLENBQUMsb0JBQW9CLElBQUksT0FBTyxDQUFDLG9CQUFvQixDQUFDLElBQThCLENBQUMsQ0FBQztZQUMvSCxLQUFLLFdBQUksQ0FBQyxhQUFhLENBQUMsQ0FBRyxPQUFPLE9BQU8sQ0FBQyxrQkFBa0IsSUFBTSxPQUFPLENBQUMsa0JBQWtCLENBQUMsSUFBOEIsQ0FBQyxDQUFDO1lBQzdILEtBQUssV0FBSSxDQUFDLEdBQUcsQ0FBQyxDQUFhLE9BQU8sT0FBTyxDQUFDLFFBQVEsSUFBZ0IsT0FBTyxDQUFDLFFBQVEsQ0FBQyxJQUErQixDQUFDLENBQUM7WUFDcEgsS0FBSyxXQUFJLENBQUMsVUFBVSxDQUFDLENBQU0sT0FBTyxPQUFPLENBQUMsZUFBZSxJQUFTLE9BQU8sQ0FBQyxlQUFlLENBQUMsSUFBOEIsQ0FBQyxDQUFDO1lBQzFILE9BQU8sQ0FBQyxDQUFDLE9BQU8sSUFBSSxDQUFDO1NBQ3hCO0lBQ0wsQ0FBQztDQUNKO0FBakRELGtDQWlEQztBQUVELE1BQXNCLGFBQWE7SUFDL0IsS0FBSyxDQUFDLE1BQTRCO1FBQzlCLE9BQU8sTUFBTSxDQUFDLG1CQUFtQixJQUFJLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUM7SUFDbEYsQ0FBQztJQUNELFNBQVMsQ0FBQyxPQUErQjtRQUNyQyxPQUFPLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUN2RCxDQUFDO0lBb0JELE1BQU0sQ0FBQyxlQUFlLENBQXFCLE9BQXNCLEVBQUUsSUFBTyxFQUFFLE1BQWlCO1FBQ3pGLFFBQVEsSUFBSSxDQUFDLEtBQUssRUFBRTtZQUNoQixLQUFLLFdBQUksQ0FBQyxJQUFJLENBQUMsQ0FBWSxPQUFPLE9BQU8sQ0FBQyxTQUFTLElBQWUsT0FBTyxDQUFDLFNBQVMsQ0FBQyxNQUF3QyxDQUFDLENBQUM7WUFDOUgsS0FBSyxXQUFJLENBQUMsR0FBRyxDQUFDLENBQWEsT0FBTyxPQUFPLENBQUMsUUFBUSxJQUFnQixPQUFPLENBQUMsUUFBUSxDQUFDLE1BQXdDLENBQUMsQ0FBQztZQUM3SCxLQUFLLFdBQUksQ0FBQyxLQUFLLENBQUMsQ0FBVyxPQUFPLE9BQU8sQ0FBQyxVQUFVLElBQWMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxNQUF3QyxDQUFDLENBQUM7WUFDL0gsS0FBSyxXQUFJLENBQUMsTUFBTSxDQUFDLENBQVUsT0FBTyxPQUFPLENBQUMsV0FBVyxJQUFhLE9BQU8sQ0FBQyxXQUFXLENBQUMsTUFBd0MsQ0FBQyxDQUFDO1lBQ2hJLEtBQUssV0FBSSxDQUFDLElBQUksQ0FBQyxDQUFZLE9BQU8sT0FBTyxDQUFDLFNBQVMsSUFBZSxPQUFPLENBQUMsU0FBUyxDQUFDLE1BQXdDLENBQUMsQ0FBQztZQUM5SCxLQUFLLFdBQUksQ0FBQyxJQUFJLENBQUMsQ0FBWSxPQUFPLE9BQU8sQ0FBQyxTQUFTLElBQWUsT0FBTyxDQUFDLFNBQVMsQ0FBQyxNQUF3QyxDQUFDLENBQUM7WUFDOUgsS0FBSyxXQUFJLENBQUMsT0FBTyxDQUFDLENBQVMsT0FBTyxPQUFPLENBQUMsWUFBWSxJQUFZLE9BQU8sQ0FBQyxZQUFZLENBQUMsTUFBd0MsQ0FBQyxDQUFDO1lBQ2pJLEtBQUssV0FBSSxDQUFDLElBQUksQ0FBQyxDQUFZLE9BQU8sT0FBTyxDQUFDLFNBQVMsSUFBZSxPQUFPLENBQUMsU0FBUyxDQUFDLE1BQXlDLENBQUMsQ0FBQztZQUMvSCxLQUFLLFdBQUksQ0FBQyxJQUFJLENBQUMsQ0FBWSxPQUFPLE9BQU8sQ0FBQyxTQUFTLElBQWUsT0FBTyxDQUFDLFNBQVMsQ0FBQyxNQUF3QyxDQUFDLENBQUM7WUFDOUgsS0FBSyxXQUFJLENBQUMsU0FBUyxDQUFDLENBQU8sT0FBTyxPQUFPLENBQUMsY0FBYyxJQUFVLE9BQU8sQ0FBQyxjQUFjLENBQUMsTUFBd0MsQ0FBQyxDQUFDO1lBQ25JLEtBQUssV0FBSSxDQUFDLFFBQVEsQ0FBQyxDQUFRLE9BQU8sT0FBTyxDQUFDLGFBQWEsSUFBVyxPQUFPLENBQUMsYUFBYSxDQUFDLE1BQXdDLENBQUMsQ0FBQztZQUNsSSxLQUFLLFdBQUksQ0FBQyxJQUFJLENBQUMsQ0FBWSxPQUFPLE9BQU8sQ0FBQyxTQUFTLElBQWUsT0FBTyxDQUFDLFNBQVMsQ0FBQyxNQUEyQyxDQUFDLENBQUM7WUFDakksS0FBSyxXQUFJLENBQUMsTUFBTSxDQUFDLENBQVUsT0FBTyxPQUFPLENBQUMsV0FBVyxJQUFhLE9BQU8sQ0FBQyxXQUFXLENBQUMsTUFBd0MsQ0FBQyxDQUFDO1lBQ2hJLEtBQUssV0FBSSxDQUFDLEtBQUssQ0FBQyxDQUFXLE9BQU8sT0FBTyxDQUFDLFVBQVUsSUFBYyxPQUFPLENBQUMsVUFBVSxDQUFDLE1BQXdDLENBQUMsQ0FBQztZQUMvSCxLQUFLLFdBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxPQUFPLE9BQU8sQ0FBQyxvQkFBb0IsSUFBSSxPQUFPLENBQUMsb0JBQW9CLENBQUMsTUFBd0MsQ0FBQyxDQUFDO1lBQ3pJLEtBQUssV0FBSSxDQUFDLGFBQWEsQ0FBQyxDQUFHLE9BQU8sT0FBTyxDQUFDLGtCQUFrQixJQUFNLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxNQUF3QyxDQUFDLENBQUM7WUFDdkksS0FBSyxXQUFJLENBQUMsR0FBRyxDQUFDLENBQWEsT0FBTyxPQUFPLENBQUMsUUFBUSxJQUFnQixPQUFPLENBQUMsUUFBUSxDQUFDLE1BQXlDLENBQUMsQ0FBQztZQUM5SCxLQUFLLFdBQUksQ0FBQyxVQUFVLENBQUMsQ0FBTSxPQUFPLE9BQU8sQ0FBQyxlQUFlLElBQVMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxNQUF3QyxDQUFDLENBQUM7WUFDcEksT0FBTyxDQUFDLENBQUMsT0FBTyxJQUFJLENBQUM7U0FDeEI7SUFDTCxDQUFDO0NBQ0o7QUFqREQsc0NBaURDIiwiZmlsZSI6InZpc2l0b3IuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4vLyBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbi8vIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4vLyByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4vLyB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4vLyBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Vcbi8vIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbi8vIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4vLyBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuLy8gS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4vLyBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4vLyB1bmRlciB0aGUgTGljZW5zZS5cblxuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSAnLi92ZWN0b3InO1xuaW1wb3J0IHsgVHlwZSwgRGF0YVR5cGUsIERpY3Rpb25hcnkgfSBmcm9tICcuL3R5cGUnO1xuaW1wb3J0IHsgVXRmOCwgQmluYXJ5LCBEZWNpbWFsLCBGaXhlZFNpemVCaW5hcnkgfSBmcm9tICcuL3R5cGUnO1xuaW1wb3J0IHsgTGlzdCwgRml4ZWRTaXplTGlzdCwgVW5pb24sIE1hcF8sIFN0cnVjdCB9IGZyb20gJy4vdHlwZSc7XG5pbXBvcnQgeyBCb29sLCBOdWxsLCBJbnQsIEZsb2F0LCBEYXRlXywgVGltZSwgSW50ZXJ2YWwsIFRpbWVzdGFtcCB9IGZyb20gJy4vdHlwZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmlzaXRvck5vZGUge1xuICAgIGFjY2VwdFR5cGVWaXNpdG9yKHZpc2l0b3I6IFR5cGVWaXNpdG9yKTogYW55O1xuICAgIGFjY2VwdFZlY3RvclZpc2l0b3IodmlzaXRvcjogVmVjdG9yVmlzaXRvcik6IGFueTtcbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFR5cGVWaXNpdG9yIHtcbiAgICB2aXNpdCh0eXBlOiBQYXJ0aWFsPFZpc2l0b3JOb2RlPik6IGFueSB7XG4gICAgICAgIHJldHVybiB0eXBlLmFjY2VwdFR5cGVWaXNpdG9yICYmIHR5cGUuYWNjZXB0VHlwZVZpc2l0b3IodGhpcykgfHwgbnVsbDtcbiAgICB9XG4gICAgdmlzaXRNYW55KHR5cGVzOiBQYXJ0aWFsPFZpc2l0b3JOb2RlPltdKTogYW55W10ge1xuICAgICAgICByZXR1cm4gdHlwZXMubWFwKCh0eXBlKSA9PiB0aGlzLnZpc2l0KHR5cGUpKTtcbiAgICB9XG4gICAgYWJzdHJhY3QgdmlzaXROdWxsPyh0eXBlOiBOdWxsKTogYW55O1xuICAgIGFic3RyYWN0IHZpc2l0Qm9vbD8odHlwZTogQm9vbCk6IGFueTtcbiAgICBhYnN0cmFjdCB2aXNpdEludD8odHlwZTogSW50KTogYW55O1xuICAgIGFic3RyYWN0IHZpc2l0RmxvYXQ/KHR5cGU6IEZsb2F0KTogYW55O1xuICAgIGFic3RyYWN0IHZpc2l0VXRmOD8odHlwZTogVXRmOCk6IGFueTtcbiAgICBhYnN0cmFjdCB2aXNpdEJpbmFyeT8odHlwZTogQmluYXJ5KTogYW55O1xuICAgIGFic3RyYWN0IHZpc2l0Rml4ZWRTaXplQmluYXJ5Pyh0eXBlOiBGaXhlZFNpemVCaW5hcnkpOiBhbnk7XG4gICAgYWJzdHJhY3QgdmlzaXREYXRlPyh0eXBlOiBEYXRlXyk6IGFueTtcbiAgICBhYnN0cmFjdCB2aXNpdFRpbWVzdGFtcD8odHlwZTogVGltZXN0YW1wKTogYW55O1xuICAgIGFic3RyYWN0IHZpc2l0VGltZT8odHlwZTogVGltZSk6IGFueTtcbiAgICBhYnN0cmFjdCB2aXNpdERlY2ltYWw/KHR5cGU6IERlY2ltYWwpOiBhbnk7XG4gICAgYWJzdHJhY3QgdmlzaXRMaXN0Pyh0eXBlOiBMaXN0KTogYW55O1xuICAgIGFic3RyYWN0IHZpc2l0U3RydWN0Pyh0eXBlOiBTdHJ1Y3QpOiBhbnk7XG4gICAgYWJzdHJhY3QgdmlzaXRVbmlvbj8odHlwZTogVW5pb248YW55Pik6IGFueTtcbiAgICBhYnN0cmFjdCB2aXNpdERpY3Rpb25hcnk/KHR5cGU6IERpY3Rpb25hcnkpOiBhbnk7XG4gICAgYWJzdHJhY3QgdmlzaXRJbnRlcnZhbD8odHlwZTogSW50ZXJ2YWwpOiBhbnk7XG4gICAgYWJzdHJhY3QgdmlzaXRGaXhlZFNpemVMaXN0Pyh0eXBlOiBGaXhlZFNpemVMaXN0KTogYW55O1xuICAgIGFic3RyYWN0IHZpc2l0TWFwPyh0eXBlOiBNYXBfKTogYW55O1xuXG4gICAgc3RhdGljIHZpc2l0VHlwZUlubGluZTxUIGV4dGVuZHMgRGF0YVR5cGU+KHZpc2l0b3I6IFR5cGVWaXNpdG9yLCB0eXBlOiBUKTogYW55IHtcbiAgICAgICAgc3dpdGNoICh0eXBlLlRUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIFR5cGUuTnVsbDogICAgICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdE51bGwgICAgICAgICAgICAmJiB2aXNpdG9yLnZpc2l0TnVsbCh0eXBlICAgICAgICAgICAgYXMgYW55IGFzIE51bGwpO1xuICAgICAgICAgICAgY2FzZSBUeXBlLkludDogICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRJbnQgICAgICAgICAgICAgJiYgdmlzaXRvci52aXNpdEludCh0eXBlICAgICAgICAgICAgIGFzIGFueSBhcyBJbnQpO1xuICAgICAgICAgICAgY2FzZSBUeXBlLkZsb2F0OiAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRGbG9hdCAgICAgICAgICAgJiYgdmlzaXRvci52aXNpdEZsb2F0KHR5cGUgICAgICAgICAgIGFzIGFueSBhcyBGbG9hdCk7XG4gICAgICAgICAgICBjYXNlIFR5cGUuQmluYXJ5OiAgICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdEJpbmFyeSAgICAgICAgICAmJiB2aXNpdG9yLnZpc2l0QmluYXJ5KHR5cGUgICAgICAgICAgYXMgYW55IGFzIEJpbmFyeSk7XG4gICAgICAgICAgICBjYXNlIFR5cGUuVXRmODogICAgICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdFV0ZjggICAgICAgICAgICAmJiB2aXNpdG9yLnZpc2l0VXRmOCh0eXBlICAgICAgICAgICAgYXMgYW55IGFzIFV0ZjgpO1xuICAgICAgICAgICAgY2FzZSBUeXBlLkJvb2w6ICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRCb29sICAgICAgICAgICAgJiYgdmlzaXRvci52aXNpdEJvb2wodHlwZSAgICAgICAgICAgIGFzIGFueSBhcyBCb29sKTtcbiAgICAgICAgICAgIGNhc2UgVHlwZS5EZWNpbWFsOiAgICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0RGVjaW1hbCAgICAgICAgICYmIHZpc2l0b3IudmlzaXREZWNpbWFsKHR5cGUgICAgICAgICBhcyBhbnkgYXMgRGVjaW1hbCk7XG4gICAgICAgICAgICBjYXNlIFR5cGUuRGF0ZTogICAgICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdERhdGUgICAgICAgICAgICAmJiB2aXNpdG9yLnZpc2l0RGF0ZSh0eXBlICAgICAgICAgICAgYXMgYW55IGFzIERhdGVfKTtcbiAgICAgICAgICAgIGNhc2UgVHlwZS5UaW1lOiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0VGltZSAgICAgICAgICAgICYmIHZpc2l0b3IudmlzaXRUaW1lKHR5cGUgICAgICAgICAgICBhcyBhbnkgYXMgVGltZSk7XG4gICAgICAgICAgICBjYXNlIFR5cGUuVGltZXN0YW1wOiAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdFRpbWVzdGFtcCAgICAgICAmJiB2aXNpdG9yLnZpc2l0VGltZXN0YW1wKHR5cGUgICAgICAgYXMgYW55IGFzIFRpbWVzdGFtcCk7XG4gICAgICAgICAgICBjYXNlIFR5cGUuSW50ZXJ2YWw6ICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdEludGVydmFsICAgICAgICAmJiB2aXNpdG9yLnZpc2l0SW50ZXJ2YWwodHlwZSAgICAgICAgYXMgYW55IGFzIEludGVydmFsKTtcbiAgICAgICAgICAgIGNhc2UgVHlwZS5MaXN0OiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0TGlzdCAgICAgICAgICAgICYmIHZpc2l0b3IudmlzaXRMaXN0KHR5cGUgICAgICAgICAgICBhcyBhbnkgYXMgTGlzdDxUPik7XG4gICAgICAgICAgICBjYXNlIFR5cGUuU3RydWN0OiAgICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdFN0cnVjdCAgICAgICAgICAmJiB2aXNpdG9yLnZpc2l0U3RydWN0KHR5cGUgICAgICAgICAgYXMgYW55IGFzIFN0cnVjdCk7XG4gICAgICAgICAgICBjYXNlIFR5cGUuVW5pb246ICAgICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdFVuaW9uICAgICAgICAgICAmJiB2aXNpdG9yLnZpc2l0VW5pb24odHlwZSAgICAgICAgICAgYXMgYW55IGFzIFVuaW9uKTtcbiAgICAgICAgICAgIGNhc2UgVHlwZS5GaXhlZFNpemVCaW5hcnk6IHJldHVybiB2aXNpdG9yLnZpc2l0Rml4ZWRTaXplQmluYXJ5ICYmIHZpc2l0b3IudmlzaXRGaXhlZFNpemVCaW5hcnkodHlwZSBhcyBhbnkgYXMgRml4ZWRTaXplQmluYXJ5KTtcbiAgICAgICAgICAgIGNhc2UgVHlwZS5GaXhlZFNpemVMaXN0OiAgIHJldHVybiB2aXNpdG9yLnZpc2l0Rml4ZWRTaXplTGlzdCAgICYmIHZpc2l0b3IudmlzaXRGaXhlZFNpemVMaXN0KHR5cGUgICBhcyBhbnkgYXMgRml4ZWRTaXplTGlzdCk7XG4gICAgICAgICAgICBjYXNlIFR5cGUuTWFwOiAgICAgICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdE1hcCAgICAgICAgICAgICAmJiB2aXNpdG9yLnZpc2l0TWFwKHR5cGUgICAgICAgICAgICAgYXMgYW55IGFzIE1hcF8pO1xuICAgICAgICAgICAgY2FzZSBUeXBlLkRpY3Rpb25hcnk6ICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXREaWN0aW9uYXJ5ICAgICAgJiYgdmlzaXRvci52aXNpdERpY3Rpb25hcnkodHlwZSAgICAgIGFzIGFueSBhcyBEaWN0aW9uYXJ5KTtcbiAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgVmVjdG9yVmlzaXRvciB7XG4gICAgdmlzaXQodmVjdG9yOiBQYXJ0aWFsPFZpc2l0b3JOb2RlPik6IGFueSB7XG4gICAgICAgIHJldHVybiB2ZWN0b3IuYWNjZXB0VmVjdG9yVmlzaXRvciAmJiB2ZWN0b3IuYWNjZXB0VmVjdG9yVmlzaXRvcih0aGlzKSB8fCBudWxsO1xuICAgIH1cbiAgICB2aXNpdE1hbnkodmVjdG9yczogUGFydGlhbDxWaXNpdG9yTm9kZT5bXSk6IGFueVtdIHtcbiAgICAgICAgcmV0dXJuIHZlY3RvcnMubWFwKCh2ZWN0b3IpID0+IHRoaXMudmlzaXQodmVjdG9yKSk7XG4gICAgfVxuICAgIGFic3RyYWN0IHZpc2l0TnVsbD8odmVjdG9yOiBWZWN0b3I8TnVsbD4pOiBhbnk7XG4gICAgYWJzdHJhY3QgdmlzaXRCb29sPyh2ZWN0b3I6IFZlY3RvcjxCb29sPik6IGFueTtcbiAgICBhYnN0cmFjdCB2aXNpdEludD8odmVjdG9yOiBWZWN0b3I8SW50Pik6IGFueTtcbiAgICBhYnN0cmFjdCB2aXNpdEZsb2F0Pyh2ZWN0b3I6IFZlY3RvcjxGbG9hdD4pOiBhbnk7XG4gICAgYWJzdHJhY3QgdmlzaXRVdGY4Pyh2ZWN0b3I6IFZlY3RvcjxVdGY4Pik6IGFueTtcbiAgICBhYnN0cmFjdCB2aXNpdEJpbmFyeT8odmVjdG9yOiBWZWN0b3I8QmluYXJ5Pik6IGFueTtcbiAgICBhYnN0cmFjdCB2aXNpdEZpeGVkU2l6ZUJpbmFyeT8odmVjdG9yOiBWZWN0b3I8Rml4ZWRTaXplQmluYXJ5Pik6IGFueTtcbiAgICBhYnN0cmFjdCB2aXNpdERhdGU/KHZlY3RvcjogVmVjdG9yPERhdGVfPik6IGFueTtcbiAgICBhYnN0cmFjdCB2aXNpdFRpbWVzdGFtcD8odmVjdG9yOiBWZWN0b3I8VGltZXN0YW1wPik6IGFueTtcbiAgICBhYnN0cmFjdCB2aXNpdFRpbWU/KHZlY3RvcjogVmVjdG9yPFRpbWU+KTogYW55O1xuICAgIGFic3RyYWN0IHZpc2l0RGVjaW1hbD8odmVjdG9yOiBWZWN0b3I8RGVjaW1hbD4pOiBhbnk7XG4gICAgYWJzdHJhY3QgdmlzaXRMaXN0Pyh2ZWN0b3I6IFZlY3RvcjxMaXN0Pik6IGFueTtcbiAgICBhYnN0cmFjdCB2aXNpdFN0cnVjdD8odmVjdG9yOiBWZWN0b3I8U3RydWN0Pik6IGFueTtcbiAgICBhYnN0cmFjdCB2aXNpdFVuaW9uPyh2ZWN0b3I6IFZlY3RvcjxVbmlvbjxhbnk+Pik6IGFueTtcbiAgICBhYnN0cmFjdCB2aXNpdERpY3Rpb25hcnk/KHZlY3RvcjogVmVjdG9yPERpY3Rpb25hcnk+KTogYW55O1xuICAgIGFic3RyYWN0IHZpc2l0SW50ZXJ2YWw/KHZlY3RvcjogVmVjdG9yPEludGVydmFsPik6IGFueTtcbiAgICBhYnN0cmFjdCB2aXNpdEZpeGVkU2l6ZUxpc3Q/KHZlY3RvcjogVmVjdG9yPEZpeGVkU2l6ZUxpc3Q+KTogYW55O1xuICAgIGFic3RyYWN0IHZpc2l0TWFwPyh2ZWN0b3I6IFZlY3RvcjxNYXBfPik6IGFueTtcblxuICAgIHN0YXRpYyB2aXNpdFR5cGVJbmxpbmU8VCBleHRlbmRzIERhdGFUeXBlPih2aXNpdG9yOiBWZWN0b3JWaXNpdG9yLCB0eXBlOiBULCB2ZWN0b3I6IFZlY3RvcjxUPik6IGFueSB7XG4gICAgICAgIHN3aXRjaCAodHlwZS5UVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBUeXBlLk51bGw6ICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXROdWxsICAgICAgICAgICAgJiYgdmlzaXRvci52aXNpdE51bGwodmVjdG9yICAgICAgICAgICAgYXMgYW55IGFzIFZlY3RvcjxOdWxsPik7XG4gICAgICAgICAgICBjYXNlIFR5cGUuSW50OiAgICAgICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdEludCAgICAgICAgICAgICAmJiB2aXNpdG9yLnZpc2l0SW50KHZlY3RvciAgICAgICAgICAgICBhcyBhbnkgYXMgVmVjdG9yPEludD4pO1xuICAgICAgICAgICAgY2FzZSBUeXBlLkZsb2F0OiAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRGbG9hdCAgICAgICAgICAgJiYgdmlzaXRvci52aXNpdEZsb2F0KHZlY3RvciAgICAgICAgICAgYXMgYW55IGFzIFZlY3RvcjxGbG9hdD4pO1xuICAgICAgICAgICAgY2FzZSBUeXBlLkJpbmFyeTogICAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRCaW5hcnkgICAgICAgICAgJiYgdmlzaXRvci52aXNpdEJpbmFyeSh2ZWN0b3IgICAgICAgICAgYXMgYW55IGFzIFZlY3RvcjxCaW5hcnk+KTtcbiAgICAgICAgICAgIGNhc2UgVHlwZS5VdGY4OiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0VXRmOCAgICAgICAgICAgICYmIHZpc2l0b3IudmlzaXRVdGY4KHZlY3RvciAgICAgICAgICAgIGFzIGFueSBhcyBWZWN0b3I8VXRmOD4pO1xuICAgICAgICAgICAgY2FzZSBUeXBlLkJvb2w6ICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRCb29sICAgICAgICAgICAgJiYgdmlzaXRvci52aXNpdEJvb2wodmVjdG9yICAgICAgICAgICAgYXMgYW55IGFzIFZlY3RvcjxCb29sPik7XG4gICAgICAgICAgICBjYXNlIFR5cGUuRGVjaW1hbDogICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdERlY2ltYWwgICAgICAgICAmJiB2aXNpdG9yLnZpc2l0RGVjaW1hbCh2ZWN0b3IgICAgICAgICBhcyBhbnkgYXMgVmVjdG9yPERlY2ltYWw+KTtcbiAgICAgICAgICAgIGNhc2UgVHlwZS5EYXRlOiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0RGF0ZSAgICAgICAgICAgICYmIHZpc2l0b3IudmlzaXREYXRlKHZlY3RvciAgICAgICAgICAgIGFzIGFueSBhcyBWZWN0b3I8RGF0ZV8+KTtcbiAgICAgICAgICAgIGNhc2UgVHlwZS5UaW1lOiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0VGltZSAgICAgICAgICAgICYmIHZpc2l0b3IudmlzaXRUaW1lKHZlY3RvciAgICAgICAgICAgIGFzIGFueSBhcyBWZWN0b3I8VGltZT4pO1xuICAgICAgICAgICAgY2FzZSBUeXBlLlRpbWVzdGFtcDogICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRUaW1lc3RhbXAgICAgICAgJiYgdmlzaXRvci52aXNpdFRpbWVzdGFtcCh2ZWN0b3IgICAgICAgYXMgYW55IGFzIFZlY3RvcjxUaW1lc3RhbXA+KTtcbiAgICAgICAgICAgIGNhc2UgVHlwZS5JbnRlcnZhbDogICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0SW50ZXJ2YWwgICAgICAgICYmIHZpc2l0b3IudmlzaXRJbnRlcnZhbCh2ZWN0b3IgICAgICAgIGFzIGFueSBhcyBWZWN0b3I8SW50ZXJ2YWw+KTtcbiAgICAgICAgICAgIGNhc2UgVHlwZS5MaXN0OiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0TGlzdCAgICAgICAgICAgICYmIHZpc2l0b3IudmlzaXRMaXN0KHZlY3RvciAgICAgICAgICAgIGFzIGFueSBhcyBWZWN0b3I8TGlzdDxUPj4pO1xuICAgICAgICAgICAgY2FzZSBUeXBlLlN0cnVjdDogICAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRTdHJ1Y3QgICAgICAgICAgJiYgdmlzaXRvci52aXNpdFN0cnVjdCh2ZWN0b3IgICAgICAgICAgYXMgYW55IGFzIFZlY3RvcjxTdHJ1Y3Q+KTtcbiAgICAgICAgICAgIGNhc2UgVHlwZS5VbmlvbjogICAgICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0VW5pb24gICAgICAgICAgICYmIHZpc2l0b3IudmlzaXRVbmlvbih2ZWN0b3IgICAgICAgICAgIGFzIGFueSBhcyBWZWN0b3I8VW5pb24+KTtcbiAgICAgICAgICAgIGNhc2UgVHlwZS5GaXhlZFNpemVCaW5hcnk6IHJldHVybiB2aXNpdG9yLnZpc2l0Rml4ZWRTaXplQmluYXJ5ICYmIHZpc2l0b3IudmlzaXRGaXhlZFNpemVCaW5hcnkodmVjdG9yIGFzIGFueSBhcyBWZWN0b3I8Rml4ZWRTaXplQmluYXJ5Pik7XG4gICAgICAgICAgICBjYXNlIFR5cGUuRml4ZWRTaXplTGlzdDogICByZXR1cm4gdmlzaXRvci52aXNpdEZpeGVkU2l6ZUxpc3QgICAmJiB2aXNpdG9yLnZpc2l0Rml4ZWRTaXplTGlzdCh2ZWN0b3IgICBhcyBhbnkgYXMgVmVjdG9yPEZpeGVkU2l6ZUxpc3Q+KTtcbiAgICAgICAgICAgIGNhc2UgVHlwZS5NYXA6ICAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0TWFwICAgICAgICAgICAgICYmIHZpc2l0b3IudmlzaXRNYXAodmVjdG9yICAgICAgICAgICAgIGFzIGFueSBhcyBWZWN0b3I8TWFwXz4pO1xuICAgICAgICAgICAgY2FzZSBUeXBlLkRpY3Rpb25hcnk6ICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXREaWN0aW9uYXJ5ICAgICAgJiYgdmlzaXRvci52aXNpdERpY3Rpb25hcnkodmVjdG9yICAgICAgYXMgYW55IGFzIFZlY3RvcjxEaWN0aW9uYXJ5Pik7XG4gICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiJdfQ==
