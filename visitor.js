"use strict";
// Licensed to the Apache Software Foundation (ASF) under one
// or more contributor license agreements.  See the NOTICE file
// distributed with this work for additional information
// regarding copyright ownership.  The ASF licenses this file
// to you under the Apache License, Version 2.0 (the
// "License"); you may not use this file except in compliance
// with the License.  You may obtain a copy of the License at
//
//   http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing,
// software distributed under the License is distributed on an
// "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
// KIND, either express or implied.  See the License for the
// specific language governing permissions and limitations
// under the License.
Object.defineProperty(exports, "__esModule", { value: true });
const data_1 = require("./data");
const vector_1 = require("./vector");
const enum_1 = require("./enum");
const type_1 = require("./type");
class Visitor {
    visitMany(nodes, ...args) {
        return nodes.map((node, i) => this.visit(node, ...args.map((x) => x[i])));
    }
    visit(...args) {
        return this.getVisitFn(args[0], false).apply(this, args);
    }
    getVisitFn(node, throwIfNotFound = true) {
        return getVisitFn(this, node, throwIfNotFound);
    }
    visitNull(_node, ..._args) { return null; }
    visitBool(_node, ..._args) { return null; }
    visitInt(_node, ..._args) { return null; }
    visitFloat(_node, ..._args) { return null; }
    visitUtf8(_node, ..._args) { return null; }
    visitBinary(_node, ..._args) { return null; }
    visitFixedSizeBinary(_node, ..._args) { return null; }
    visitDate(_node, ..._args) { return null; }
    visitTimestamp(_node, ..._args) { return null; }
    visitTime(_node, ..._args) { return null; }
    visitDecimal(_node, ..._args) { return null; }
    visitList(_node, ..._args) { return null; }
    visitStruct(_node, ..._args) { return null; }
    visitUnion(_node, ..._args) { return null; }
    visitDictionary(_node, ..._args) { return null; }
    visitInterval(_node, ..._args) { return null; }
    visitFixedSizeList(_node, ..._args) { return null; }
    visitMap(_node, ..._args) { return null; }
}
exports.Visitor = Visitor;
/** @ignore */
function getVisitFn(visitor, node, throwIfNotFound = true) {
    let fn = null;
    let dtype = enum_1.Type.NONE;
    // tslint:disable
    if (node instanceof data_1.Data) {
        dtype = inferDType(node.type);
    }
    else if (node instanceof vector_1.Vector) {
        dtype = inferDType(node.type);
    }
    else if (node instanceof type_1.DataType) {
        dtype = inferDType(node);
    }
    else if (typeof (dtype = node) !== 'number') {
        dtype = enum_1.Type[node];
    }
    switch (dtype) {
        case enum_1.Type.Null:
            fn = visitor.visitNull;
            break;
        case enum_1.Type.Bool:
            fn = visitor.visitBool;
            break;
        case enum_1.Type.Int:
            fn = visitor.visitInt;
            break;
        case enum_1.Type.Int8:
            fn = visitor.visitInt8 || visitor.visitInt;
            break;
        case enum_1.Type.Int16:
            fn = visitor.visitInt16 || visitor.visitInt;
            break;
        case enum_1.Type.Int32:
            fn = visitor.visitInt32 || visitor.visitInt;
            break;
        case enum_1.Type.Int64:
            fn = visitor.visitInt64 || visitor.visitInt;
            break;
        case enum_1.Type.Uint8:
            fn = visitor.visitUint8 || visitor.visitInt;
            break;
        case enum_1.Type.Uint16:
            fn = visitor.visitUint16 || visitor.visitInt;
            break;
        case enum_1.Type.Uint32:
            fn = visitor.visitUint32 || visitor.visitInt;
            break;
        case enum_1.Type.Uint64:
            fn = visitor.visitUint64 || visitor.visitInt;
            break;
        case enum_1.Type.Float:
            fn = visitor.visitFloat;
            break;
        case enum_1.Type.Float16:
            fn = visitor.visitFloat16 || visitor.visitFloat;
            break;
        case enum_1.Type.Float32:
            fn = visitor.visitFloat32 || visitor.visitFloat;
            break;
        case enum_1.Type.Float64:
            fn = visitor.visitFloat64 || visitor.visitFloat;
            break;
        case enum_1.Type.Utf8:
            fn = visitor.visitUtf8;
            break;
        case enum_1.Type.Binary:
            fn = visitor.visitBinary;
            break;
        case enum_1.Type.FixedSizeBinary:
            fn = visitor.visitFixedSizeBinary;
            break;
        case enum_1.Type.Date:
            fn = visitor.visitDate;
            break;
        case enum_1.Type.DateDay:
            fn = visitor.visitDateDay || visitor.visitDate;
            break;
        case enum_1.Type.DateMillisecond:
            fn = visitor.visitDateMillisecond || visitor.visitDate;
            break;
        case enum_1.Type.Timestamp:
            fn = visitor.visitTimestamp;
            break;
        case enum_1.Type.TimestampSecond:
            fn = visitor.visitTimestampSecond || visitor.visitTimestamp;
            break;
        case enum_1.Type.TimestampMillisecond:
            fn = visitor.visitTimestampMillisecond || visitor.visitTimestamp;
            break;
        case enum_1.Type.TimestampMicrosecond:
            fn = visitor.visitTimestampMicrosecond || visitor.visitTimestamp;
            break;
        case enum_1.Type.TimestampNanosecond:
            fn = visitor.visitTimestampNanosecond || visitor.visitTimestamp;
            break;
        case enum_1.Type.Time:
            fn = visitor.visitTime;
            break;
        case enum_1.Type.TimeSecond:
            fn = visitor.visitTimeSecond || visitor.visitTime;
            break;
        case enum_1.Type.TimeMillisecond:
            fn = visitor.visitTimeMillisecond || visitor.visitTime;
            break;
        case enum_1.Type.TimeMicrosecond:
            fn = visitor.visitTimeMicrosecond || visitor.visitTime;
            break;
        case enum_1.Type.TimeNanosecond:
            fn = visitor.visitTimeNanosecond || visitor.visitTime;
            break;
        case enum_1.Type.Decimal:
            fn = visitor.visitDecimal;
            break;
        case enum_1.Type.List:
            fn = visitor.visitList;
            break;
        case enum_1.Type.Struct:
            fn = visitor.visitStruct;
            break;
        case enum_1.Type.Union:
            fn = visitor.visitUnion;
            break;
        case enum_1.Type.DenseUnion:
            fn = visitor.visitDenseUnion || visitor.visitUnion;
            break;
        case enum_1.Type.SparseUnion:
            fn = visitor.visitSparseUnion || visitor.visitUnion;
            break;
        case enum_1.Type.Dictionary:
            fn = visitor.visitDictionary;
            break;
        case enum_1.Type.Interval:
            fn = visitor.visitInterval;
            break;
        case enum_1.Type.IntervalDayTime:
            fn = visitor.visitIntervalDayTime || visitor.visitInterval;
            break;
        case enum_1.Type.IntervalYearMonth:
            fn = visitor.visitIntervalYearMonth || visitor.visitInterval;
            break;
        case enum_1.Type.FixedSizeList:
            fn = visitor.visitFixedSizeList;
            break;
        case enum_1.Type.Map:
            fn = visitor.visitMap;
            break;
    }
    if (typeof fn === 'function')
        return fn;
    if (!throwIfNotFound)
        return () => null;
    throw new Error(`Unrecognized type '${enum_1.Type[dtype]}'`);
}
/** @ignore */
function inferDType(type) {
    switch (type.typeId) {
        case enum_1.Type.Null: return enum_1.Type.Null;
        case enum_1.Type.Int:
            const { bitWidth, isSigned } = type;
            switch (bitWidth) {
                case 8: return isSigned ? enum_1.Type.Int8 : enum_1.Type.Uint8;
                case 16: return isSigned ? enum_1.Type.Int16 : enum_1.Type.Uint16;
                case 32: return isSigned ? enum_1.Type.Int32 : enum_1.Type.Uint32;
                case 64: return isSigned ? enum_1.Type.Int64 : enum_1.Type.Uint64;
            }
            return enum_1.Type.Int;
        case enum_1.Type.Float:
            switch (type.precision) {
                case enum_1.Precision.HALF: return enum_1.Type.Float16;
                case enum_1.Precision.SINGLE: return enum_1.Type.Float32;
                case enum_1.Precision.DOUBLE: return enum_1.Type.Float64;
            }
            return enum_1.Type.Float;
        case enum_1.Type.Binary: return enum_1.Type.Binary;
        case enum_1.Type.Utf8: return enum_1.Type.Utf8;
        case enum_1.Type.Bool: return enum_1.Type.Bool;
        case enum_1.Type.Decimal: return enum_1.Type.Decimal;
        case enum_1.Type.Time:
            switch (type.unit) {
                case enum_1.TimeUnit.SECOND: return enum_1.Type.TimeSecond;
                case enum_1.TimeUnit.MILLISECOND: return enum_1.Type.TimeMillisecond;
                case enum_1.TimeUnit.MICROSECOND: return enum_1.Type.TimeMicrosecond;
                case enum_1.TimeUnit.NANOSECOND: return enum_1.Type.TimeNanosecond;
            }
            return enum_1.Type.Time;
        case enum_1.Type.Timestamp:
            switch (type.unit) {
                case enum_1.TimeUnit.SECOND: return enum_1.Type.TimestampSecond;
                case enum_1.TimeUnit.MILLISECOND: return enum_1.Type.TimestampMillisecond;
                case enum_1.TimeUnit.MICROSECOND: return enum_1.Type.TimestampMicrosecond;
                case enum_1.TimeUnit.NANOSECOND: return enum_1.Type.TimestampNanosecond;
            }
            return enum_1.Type.Timestamp;
        case enum_1.Type.Date:
            switch (type.unit) {
                case enum_1.DateUnit.DAY: return enum_1.Type.DateDay;
                case enum_1.DateUnit.MILLISECOND: return enum_1.Type.DateMillisecond;
            }
            return enum_1.Type.Date;
        case enum_1.Type.Interval:
            switch (type.unit) {
                case enum_1.IntervalUnit.DAY_TIME: return enum_1.Type.IntervalDayTime;
                case enum_1.IntervalUnit.YEAR_MONTH: return enum_1.Type.IntervalYearMonth;
            }
            return enum_1.Type.Interval;
        case enum_1.Type.Map: return enum_1.Type.Map;
        case enum_1.Type.List: return enum_1.Type.List;
        case enum_1.Type.Struct: return enum_1.Type.Struct;
        case enum_1.Type.Union:
            switch (type.mode) {
                case enum_1.UnionMode.Dense: return enum_1.Type.DenseUnion;
                case enum_1.UnionMode.Sparse: return enum_1.Type.SparseUnion;
            }
            return enum_1.Type.Union;
        case enum_1.Type.FixedSizeBinary: return enum_1.Type.FixedSizeBinary;
        case enum_1.Type.FixedSizeList: return enum_1.Type.FixedSizeList;
        case enum_1.Type.Dictionary: return enum_1.Type.Dictionary;
    }
    throw new Error(`Unrecognized type '${enum_1.Type[type.typeId]}'`);
}
// Add these here so they're picked up by the externs creator
// in the build, and closure-compiler doesn't minify them away
Visitor.prototype.visitInt8 = null;
Visitor.prototype.visitInt16 = null;
Visitor.prototype.visitInt32 = null;
Visitor.prototype.visitInt64 = null;
Visitor.prototype.visitUint8 = null;
Visitor.prototype.visitUint16 = null;
Visitor.prototype.visitUint32 = null;
Visitor.prototype.visitUint64 = null;
Visitor.prototype.visitFloat16 = null;
Visitor.prototype.visitFloat32 = null;
Visitor.prototype.visitFloat64 = null;
Visitor.prototype.visitDateDay = null;
Visitor.prototype.visitDateMillisecond = null;
Visitor.prototype.visitTimestampSecond = null;
Visitor.prototype.visitTimestampMillisecond = null;
Visitor.prototype.visitTimestampMicrosecond = null;
Visitor.prototype.visitTimestampNanosecond = null;
Visitor.prototype.visitTimeSecond = null;
Visitor.prototype.visitTimeMillisecond = null;
Visitor.prototype.visitTimeMicrosecond = null;
Visitor.prototype.visitTimeNanosecond = null;
Visitor.prototype.visitDenseUnion = null;
Visitor.prototype.visitSparseUnion = null;
Visitor.prototype.visitIntervalDayTime = null;
Visitor.prototype.visitIntervalYearMonth = null;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZpc2l0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLDZEQUE2RDtBQUM3RCwrREFBK0Q7QUFDL0Qsd0RBQXdEO0FBQ3hELDZEQUE2RDtBQUM3RCxvREFBb0Q7QUFDcEQsNkRBQTZEO0FBQzdELDZEQUE2RDtBQUM3RCxFQUFFO0FBQ0YsK0NBQStDO0FBQy9DLEVBQUU7QUFDRiw2REFBNkQ7QUFDN0QsOERBQThEO0FBQzlELHlEQUF5RDtBQUN6RCw0REFBNEQ7QUFDNUQsMERBQTBEO0FBQzFELHFCQUFxQjs7QUFFckIsaUNBQThCO0FBQzlCLHFDQUFrQztBQUNsQyxpQ0FBc0Y7QUFDdEYsaUNBQXdGO0FBRXhGLE1BQXNCLE9BQU87SUFDbEIsU0FBUyxDQUFDLEtBQVksRUFBRSxHQUFHLElBQWE7UUFDM0MsT0FBTyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDOUUsQ0FBQztJQUNNLEtBQUssQ0FBQyxHQUFHLElBQVc7UUFDdkIsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzdELENBQUM7SUFDTSxVQUFVLENBQUMsSUFBUyxFQUFFLGVBQWUsR0FBRyxJQUFJO1FBQy9DLE9BQU8sVUFBVSxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsZUFBZSxDQUFDLENBQUM7SUFDbkQsQ0FBQztJQUNNLFNBQVMsQ0FBYSxLQUFVLEVBQUUsR0FBRyxLQUFZLElBQVMsT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ3hFLFNBQVMsQ0FBYSxLQUFVLEVBQUUsR0FBRyxLQUFZLElBQVMsT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ3hFLFFBQVEsQ0FBYyxLQUFVLEVBQUUsR0FBRyxLQUFZLElBQVMsT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ3hFLFVBQVUsQ0FBWSxLQUFVLEVBQUUsR0FBRyxLQUFZLElBQVMsT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ3hFLFNBQVMsQ0FBYSxLQUFVLEVBQUUsR0FBRyxLQUFZLElBQVMsT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ3hFLFdBQVcsQ0FBVyxLQUFVLEVBQUUsR0FBRyxLQUFZLElBQVMsT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ3hFLG9CQUFvQixDQUFFLEtBQVUsRUFBRSxHQUFHLEtBQVksSUFBUyxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDeEUsU0FBUyxDQUFhLEtBQVUsRUFBRSxHQUFHLEtBQVksSUFBUyxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDeEUsY0FBYyxDQUFRLEtBQVUsRUFBRSxHQUFHLEtBQVksSUFBUyxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDeEUsU0FBUyxDQUFhLEtBQVUsRUFBRSxHQUFHLEtBQVksSUFBUyxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDeEUsWUFBWSxDQUFVLEtBQVUsRUFBRSxHQUFHLEtBQVksSUFBUyxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDeEUsU0FBUyxDQUFhLEtBQVUsRUFBRSxHQUFHLEtBQVksSUFBUyxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDeEUsV0FBVyxDQUFXLEtBQVUsRUFBRSxHQUFHLEtBQVksSUFBUyxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDeEUsVUFBVSxDQUFZLEtBQVUsRUFBRSxHQUFHLEtBQVksSUFBUyxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDeEUsZUFBZSxDQUFPLEtBQVUsRUFBRSxHQUFHLEtBQVksSUFBUyxPQUFPLElBQUksQ0FBQyxDQUFD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QUFDLFNBQWlCLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQztBQUM5QyxPQUFPLENBQUMsU0FBaUIsQ0FBQyxvQkFBb0IsR0FBRyxJQUFJLENBQUM7QUFDdEQsT0FBTyxDQUFDLFNBQWlCLENBQUMsb0JBQW9CLEdBQUcsSUFBSSxDQUFDO0FBQ3RELE9BQU8sQ0FBQyxTQUFpQixDQUFDLHlCQUF5QixHQUFHLElBQUksQ0FBQztBQUMzRCxPQUFPLENBQUMsU0FBaUIsQ0FBQyx5QkFBeUIsR0FBRyxJQUFJLENBQUM7QUFDM0QsT0FBTyxDQUFDLFNBQWlCLENBQUMsd0JBQXdCLEdBQUcsSUFBSSxDQUFDO0FBQzFELE9BQU8sQ0FBQyxTQUFpQixDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUM7QUFDakQsT0FBTyxDQUFDLFNBQWlCLENBQUMsb0JBQW9CLEdBQUcsSUFBSSxDQUFDO0FBQ3RELE9BQU8sQ0FBQyxTQUFpQixDQUFDLG9CQUFvQixHQUFHLElBQUksQ0FBQztBQUN0RCxPQUFPLENBQUMsU0FBaUIsQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLENBQUM7QUFDckQsT0FBTyxDQUFDLFNBQWlCLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQztBQUNqRCxPQUFPLENBQUMsU0FBaUIsQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUM7QUFDbEQsT0FBTyxDQUFDLFNBQWlCLENBQUMsb0JBQW9CLEdBQUcsSUFBSSxDQUFDO0FBQ3RELE9BQU8sQ0FBQyxTQUFpQixDQUFDLHNCQUFzQixHQUFHLElBQUksQ0FBQyIsImZpbGUiOiJ2aXNpdG9yLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxuLy8gb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4vLyBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuLy8gcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxuLy8gdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuLy8gXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4vLyB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4vLyBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuLy8gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbi8vIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuLy8gc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuLy8gdW5kZXIgdGhlIExpY2Vuc2UuXG5cbmltcG9ydCB7IERhdGEgfSBmcm9tICcuL2RhdGEnO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSAnLi92ZWN0b3InO1xuaW1wb3J0IHsgVHlwZSwgUHJlY2lzaW9uLCBEYXRlVW5pdCwgVGltZVVuaXQsIEludGVydmFsVW5pdCwgVW5pb25Nb2RlIH0gZnJvbSAnLi9lbnVtJztcbmltcG9ydCB7IERhdGFUeXBlLCBGbG9hdCwgSW50LCBEYXRlXywgSW50ZXJ2YWwsIFRpbWUsIFRpbWVzdGFtcCwgVW5pb24sIH0gZnJvbSAnLi90eXBlJztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFZpc2l0b3Ige1xuICAgIHB1YmxpYyB2aXNpdE1hbnkobm9kZXM6IGFueVtdLCAuLi5hcmdzOiBhbnlbXVtdKSB7XG4gICAgICAgIHJldHVybiBub2Rlcy5tYXAoKG5vZGUsIGkpID0+IHRoaXMudmlzaXQobm9kZSwgLi4uYXJncy5tYXAoKHgpID0+IHhbaV0pKSk7XG4gICAgfVxuICAgIHB1YmxpYyB2aXNpdCguLi5hcmdzOiBhbnlbXSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRWaXNpdEZuKGFyZ3NbMF0sIGZhbHNlKS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9XG4gICAgcHVibGljIGdldFZpc2l0Rm4obm9kZTogYW55LCB0aHJvd0lmTm90Rm91bmQgPSB0cnVlKSB7XG4gICAgICAgIHJldHVybiBnZXRWaXNpdEZuKHRoaXMsIG5vZGUsIHRocm93SWZOb3RGb3VuZCk7XG4gICAgfVxuICAgIHB1YmxpYyB2aXNpdE51bGwgICAgICAgICAgICAoX25vZGU6IGFueSwgLi4uX2FyZ3M6IGFueVtdKTogYW55IHsgcmV0dXJuIG51bGw7IH1cbiAgICBwdWJsaWMgdmlzaXRCb29sICAgICAgICAgICAgKF9ub2RlOiBhbnksIC4uLl9hcmdzOiBhbnlbXSk6IGFueSB7IHJldHVybiBudWxsOyB9XG4gICAgcHVibGljIHZpc2l0SW50ICAgICAgICAgICAgIChfbm9kZTogYW55LCAuLi5fYXJnczogYW55W10pOiBhbnkgeyByZXR1cm4gbnVsbDsgfVxuICAgIHB1YmxpYyB2aXNpdEZsb2F0ICAgICAgICAgICAoX25vZGU6IGFueSwgLi4uX2FyZ3M6IGFueVtdKTogYW55IHsgcmV0dXJuIG51bGw7IH1cbiAgICBwdWJsaWMgdmlzaXRVdGY4ICAgICAgICAgICAgKF9ub2RlOiBhbnksIC4uLl9hcmdzOiBhbnlbXSk6IGFueSB7IHJldHVybiBudWxsOyB9XG4gICAgcHVibGljIHZpc2l0QmluYXJ5ICAgICAgICAgIChfbm9kZTogYW55LCAuLi5fYXJnczogYW55W10pOiBhbnkgeyByZXR1cm4gbnVsbDsgfVxuICAgIHB1YmxpYyB2aXNpdEZpeGVkU2l6ZUJpbmFyeSAoX25vZGU6IGFueSwgLi4uX2FyZ3M6IGFueVtdKTogYW55IHsgcmV0dXJuIG51bGw7IH1cbiAgICBwdWJsaWMgdmlzaXREYXRlICAgICAgICAgICAgKF9ub2RlOiBhbnksIC4uLl9hcmdzOiBhbnlbXSk6IGFueSB7IHJldHVybiBudWxsOyB9XG4gICAgcHVibGljIHZpc2l0VGltZXN0YW1wICAgICAgIChfbm9kZTogYW55LCAuLi5fYXJnczogYW55W10pOiBhbnkgeyByZXR1cm4gbnVsbDsgfVxuICAgIHB1YmxpYyB2aXNpdFRpbWUgICAgICAgICAgICAoX25vZGU6IGFueSwgLi4uX2FyZ3M6IGFueVtdKTogYW55IHsgcmV0dXJuIG51bGw7IH1cbiAgICBwdWJsaWMgdmlzaXREZWNpbWFsICAgICAgICAgKF9ub2RlOiBhbnksIC4uLl9hcmdzOiBhbnlbXSk6IGFueSB7IHJldHVybiBudWxsOyB9XG4gICAgcHVibGljIHZpc2l0TGlzdCAgICAgICAgICAgIChfbm9kZTogYW55LCAuLi5fYXJnczogYW55W10pOiBhbnkgeyByZXR1cm4gbnVsbDsgfVxuICAgIHB1YmxpYyB2aXNpdFN0cnVjdCAgICAgICAgICAoX25vZGU6IGFueSwgLi4uX2FyZ3M6IGFueVtdKTogYW55IHsgcmV0dXJuIG51bGw7IH1cbiAgICBwdWJsaWMgdmlzaXRVbmlvbiAgICAgICAgICAgKF9ub2RlOiBhbnksIC4uLl9hcmdzOiBhbnlbXSk6IGFueSB7IHJldHVybiBudWxsOyB9XG4gICAgcHVibGljIHZpc2l0RGljdGlvbmFyeSAgICAgIChfbm9kZTogYW55LCAuLi5fYXJnczogYW55W10pOiBhbnkgeyByZXR1cm4gbnVsbDsgfVxuICAgIHB1YmxpYyB2aXNpdEludGVydmFsICAgICAgICAoX25vZGU6IGFueSwgLi4uX2FyZ3M6IGFueVtdKTogYW55IHsgcmV0dXJuIG51bGw7IH1cbiAgICBwdWJsaWMgdmlzaXRGaXhlZFNpemVMaXN0ICAgKF9ub2RlOiBhbnksIC4uLl9hcmdzOiBhbnlbXSk6IGFueSB7IHJldHVybiBudWxsOyB9XG4gICAgcHVibGljIHZpc2l0TWFwICAgICAgICAgICAgIChfbm9kZTogYW55LCAuLi5fYXJnczogYW55W10pOiBhbnkgeyByZXR1cm4gbnVsbDsgfVxufVxuXG4vKiogQGlnbm9yZSAqL1xuZnVuY3Rpb24gZ2V0VmlzaXRGbjxUIGV4dGVuZHMgRGF0YVR5cGU+KHZpc2l0b3I6IFZpc2l0b3IsIG5vZGU6IGFueSwgdGhyb3dJZk5vdEZvdW5kID0gdHJ1ZSkge1xuICAgIGxldCBmbjogYW55ID0gbnVsbDtcbiAgICBsZXQgZHR5cGU6IFRbJ1RUeXBlJ10gPSBUeXBlLk5PTkU7XG4gICAgLy8gdHNsaW50OmRpc2FibGVcbiAgICBpZiAgICAgIChub2RlIGluc3RhbmNlb2YgRGF0YSAgICApIHsgZHR5cGUgPSBpbmZlckRUeXBlKG5vZGUudHlwZSBhcyBUKTsgfVxuICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBWZWN0b3IgICkgeyBkdHlwZSA9IGluZmVyRFR5cGUobm9kZS50eXBlIGFzIFQpOyB9XG4gICAgZWxzZSBpZiAobm9kZSBpbnN0YW5jZW9mIERhdGFUeXBlKSB7IGR0eXBlID0gaW5mZXJEVHlwZShub2RlICAgICAgYXMgVCk7IH1cbiAgICBlbHNlIGlmICh0eXBlb2YgKGR0eXBlID0gbm9kZSkgIT09ICdudW1iZXInKSB7IGR0eXBlID0gVHlwZVtub2RlXSBhcyBhbnkgYXMgVFsnVFR5cGUnXTsgfVxuXG4gICAgc3dpdGNoIChkdHlwZSkge1xuICAgICAgICBjYXNlIFR5cGUuTnVsbDogICAgICAgICAgICAgICAgIGZuID0gdmlzaXRvci52aXNpdE51bGw7IGJyZWFrO1xuICAgICAgICBjYXNlIFR5cGUuQm9vbDogICAgICAgICAgICAgICAgIGZuID0gdmlzaXRvci52aXNpdEJvb2w7IGJyZWFrO1xuICAgICAgICBjYXNlIFR5cGUuSW50OiAgICAgICAgICAgICAgICAgIGZuID0gdmlzaXRvci52aXNpdEludDsgYnJlYWs7XG4gICAgICAgIGNhc2UgVHlwZS5JbnQ4OiAgICAgICAgICAgICAgICAgZm4gPSB2aXNpdG9yLnZpc2l0SW50OCB8fCB2aXNpdG9yLnZpc2l0SW50OyBicmVhaztcbiAgICAgICAgY2FzZSBUeXBlLkludDE2OiAgICAgICAgICAgICAgICBmbiA9IHZpc2l0b3IudmlzaXRJbnQxNiB8fCB2aXNpdG9yLnZpc2l0SW50OyBicmVhaztcbiAgICAgICAgY2FzZSBUeXBlLkludDMyOiAgICAgICAgICAgICAgICBmbiA9IHZpc2l0b3IudmlzaXRJbnQzMiB8fCB2aXNpdG9yLnZpc2l0SW50OyBicmVhaztcbiAgICAgICAgY2FzZSBUeXBlLkludDY0OiAgICAgICAgICAgICAgICBmbiA9IHZpc2l0b3IudmlzaXRJbnQ2NCB8fCB2aXNpdG9yLnZpc2l0SW50OyBicmVhaztcbiAgICAgICAgY2FzZSBUeXBlLlVpbnQ4OiAgICAgICAgICAgICAgICBmbiA9IHZpc2l0b3IudmlzaXRVaW50OCB8fCB2aXNpdG9yLnZpc2l0SW50OyBicmVhaztcbiAgICAgICAgY2FzZSBUeXBlLlVpbnQxNjogICAgICAgICAgICAgICBmbiA9IHZpc2l0b3IudmlzaXRVaW50MTYgfHwgdmlzaXRvci52aXNpdEludDsgYnJlYWs7XG4gICAgICAgIGNhc2UgVHlwZS5VaW50MzI6ICAgICAgICAgICAgICAgZm4gPSB2aXNpdG9yLnZpc2l0VWludDMyIHx8IHZpc2l0b3IudmlzaXRJbnQ7IGJyZWFrO1xuICAgICAgICBjYXNlIFR5cGUuVWludDY0OiAgICAgICAgICAgICAgIGZuID0gdmlzaXRvci52aXNpdFVpbnQ2NCB8fCB2aXNpdG9yLnZpc2l0SW50OyBicmVhaztcbiAgICAgICAgY2FzZSBUeXBlLkZsb2F0OiAgICAgICAgICAgICAgICBmbiA9IHZpc2l0b3IudmlzaXRGbG9hdDsgYnJlYWs7XG4gICAgICAgIGNhc2UgVHlwZS5GbG9hdDE2OiAgICAgICAgICAgICAgZm4gPSB2aXNpdG9yLnZpc2l0RmxvYXQxNiB8fCB2aXNpdG9yLnZpc2l0RmxvYXQ7IGJyZWFrO1xuICAgICAgICBjYXNlIFR5cGUuRmxvYXQzMjogICAgICAgICAgICAgIGZuID0gdmlzaXRvci52aXNpdEZsb2F0MzIgfHwgdmlzaXRvci52aXNpdEZsb2F0OyBicmVhaztcbiAgICAgICAgY2FzZSBUeXBlLkZsb2F0NjQ6ICAgICAgICAgICAgICBmbiA9IHZpc2l0b3IudmlzaXRGbG9hdDY0IHx8IHZpc2l0b3IudmlzaXRGbG9hdDsgYnJlYWs7XG4gICAgICAgIGNhc2UgVHlwZS5VdGY4OiAgICAgICAgICAgICAgICAgZm4gPSB2aXNpdG9yLnZpc2l0VXRmODsgYnJlYWs7XG4gICAgICAgIGNhc2UgVHlwZS5CaW5hcnk6ICAgICAgICAgICAgICAgZm4gPSB2aXNpdG9yLnZpc2l0QmluYXJ5OyBicmVhaztcbiAgICAgICAgY2FzZSBUeXBlLkZpeGVkU2l6ZUJpbmFyeTogICAgICBmbiA9IHZpc2l0b3IudmlzaXRGaXhlZFNpemVCaW5hcnk7IGJyZWFrO1xuICAgICAgICBjYXNlIFR5cGUuRGF0ZTogICAgICAgICAgICAgICAgIGZuID0gdmlzaXRvci52aXNpdERhdGU7IGJyZWFrO1xuICAgICAgICBjYXNlIFR5cGUuRGF0ZURheTogICAgICAgICAgICAgIGZuID0gdmlzaXRvci52aXNpdERhdGVEYXkgfHwgdmlzaXRvci52aXNpdERhdGU7IGJyZWFrO1xuICAgICAgICBjYXNlIFR5cGUuRGF0ZU1pbGxpc2Vjb25kOiAgICAgIGZuID0gdmlzaXRvci52aXNpdERhdGVNaWxsaXNlY29uZCB8fCB2aXNpdG9yLnZpc2l0RGF0ZTsgYnJlYWs7XG4gICAgICAgIGNhc2UgVHlwZS5UaW1lc3RhbXA6ICAgICAgICAgICAgZm4gPSB2aXNpdG9yLnZpc2l0VGltZXN0YW1wOyBicmVhaztcbiAgICAgICAgY2FzZSBUeXBlLlRpbWVzdGFtcFNlY29uZDogICAgICBmbiA9IHZpc2l0b3IudmlzaXRUaW1lc3RhbXBTZWNvbmQgfHwgdmlzaXRvci52aXNpdFRpbWVzdGFtcDsgYnJlYWs7XG4gICAgICAgIGNhc2UgVHlwZS5UaW1lc3RhbXBNaWxsaXNlY29uZDogZm4gPSB2aXNpdG9yLnZpc2l0VGltZXN0YW1wTWlsbGlzZWNvbmQgfHwgdmlzaXRvci52aXNpdFRpbWVzdGFtcDsgYnJlYWs7XG4gICAgICAgIGNhc2UgVHlwZS5UaW1lc3RhbXBNaWNyb3NlY29uZDogZm4gPSB2aXNpdG9yLnZpc2l0VGltZXN0YW1wTWljcm9zZWNvbmQgfHwgdmlzaXRvci52aXNpdFRpbWVzdGFtcDsgYnJlYWs7XG4gICAgICAgIGNhc2UgVHlwZS5UaW1lc3RhbXBOYW5vc2Vjb25kOiAgZm4gPSB2aXNpdG9yLnZpc2l0VGltZXN0YW1wTmFub3NlY29uZCB8fCB2aXNpdG9yLnZpc2l0VGltZXN0YW1wOyBicmVhaztcbiAgICAgICAgY2FzZSBUeXBlLlRpbWU6ICAgICAgICAgICAgICAgICBmbiA9IHZpc2l0b3IudmlzaXRUaW1lOyBicmVhaztcbiAgICAgICAgY2FzZSBUeXBlLlRpbWVTZWNvbmQ6ICAgICAgICAgICBmbiA9IHZpc2l0b3IudmlzaXRUaW1lU2Vjb25kIHx8IHZpc2l0b3IudmlzaXRUaW1lOyBicmVhaztcbiAgICAgICAgY2FzZSBUeXBlLlRpbWVNaWxsaXNlY29uZDogICAgICBmbiA9IHZpc2l0b3IudmlzaXRUaW1lTWlsbGlzZWNvbmQgfHwgdmlzaXRvci52aXNpdFRpbWU7IGJyZWFrO1xuICAgICAgICBjYXNlIFR5cGUuVGltZU1pY3Jvc2Vjb25kOiAgICAgIGZuID0gdmlzaXRvci52aXNpdFRpbWVNaWNyb3NlY29uZCB8fCB2aXNpdG9yLnZpc2l0VGltZTsgYnJlYWs7XG4gICAgICAgIGNhc2UgVHlwZS5UaW1lTmFub3NlY29uZDogICAgICAgZm4gPSB2aXNpdG9yLnZpc2l0VGltZU5hbm9zZWNvbmQgfHwgdmlzaXRvci52aXNpdFRpbWU7IGJyZWFrO1xuICAgICAgICBjYXNlIFR5cGUuRGVjaW1hbDogICAgICAgICAgICAgIGZuID0gdmlzaXRvci52aXNpdERlY2ltYWw7IGJyZWFrO1xuICAgICAgICBjYXNlIFR5cGUuTGlzdDogICAgICAgICAgICAgICAgIGZuID0gdmlzaXRvci52aXNpdExpc3Q7IGJyZWFrO1xuICAgICAgICBjYXNlIFR5cGUuU3RydWN0OiAgICAgICAgICAgICAgIGZuID0gdmlzaXRvci52aXNpdFN0cnVjdDsgYnJlYWs7XG4gICAgICAgIGNhc2UgVHlwZS5VbmlvbjogICAgICAgICAgICAgICAgZm4gPSB2aXNpdG9yLnZpc2l0VW5pb247IGJyZWFrO1xuICAgICAgICBjYXNlIFR5cGUuRGVuc2VVbmlvbjogICAgICAgICAgIGZuID0gdmlzaXRvci52aXNpdERlbnNlVW5pb24gfHwgdmlzaXRvci52aXNpdFVuaW9uOyBicmVhaztcbiAgICAgICAgY2FzZSBUeXBlLlNwYXJzZVVuaW9uOiAgICAgICAgICBmbiA9IHZpc2l0b3IudmlzaXRTcGFyc2VVbmlvbiB8fCB2aXNpdG9yLnZpc2l0VW5pb247IGJyZWFrO1xuICAgICAgICBjYXNlIFR5cGUuRGljdGlvbmFyeTogICAgICAgICAgIGZuID0gdmlzaXRvci52aXNpdERpY3Rpb25hcnk7IGJyZWFrO1xuICAgICAgICBjYXNlIFR5cGUuSW50ZXJ2YWw6ICAgICAgICAgICAgIGZuID0gdmlzaXRvci52aXNpdEludGVydmFsOyBicmVhaztcbiAgICAgICAgY2FzZSBUeXBlLkludGVydmFsRGF5VGltZTogICAgICBmbiA9IHZpc2l0b3IudmlzaXRJbnRlcnZhbERheVRpbWUgfHwgdmlzaXRvci52aXNpdEludGVydmFsOyBicmVhaztcbiAgICAgICAgY2FzZSBUeXBlLkludGVydmFsWWVhck1vbnRoOiAgICBmbiA9IHZpc2l0b3IudmlzaXRJbnRlcnZhbFllYXJNb250aCB8fCB2aXNpdG9yLnZpc2l0SW50ZXJ2YWw7IGJyZWFrO1xuICAgICAgICBjYXNlIFR5cGUuRml4ZWRTaXplTGlzdDogICAgICAgIGZuID0gdmlzaXRvci52aXNpdEZpeGVkU2l6ZUxpc3Q7IGJyZWFrO1xuICAgICAgICBjYXNlIFR5cGUuTWFwOiAgICAgICAgICAgICAgICAgIGZuID0gdmlzaXRvci52aXNpdE1hcDsgYnJlYWs7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpIHJldHVybiBmbjtcbiAgICBpZiAoIXRocm93SWZOb3RGb3VuZCkgcmV0dXJuICgpID0+IG51bGw7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBVbnJlY29nbml6ZWQgdHlwZSAnJHtUeXBlW2R0eXBlXX0nYCk7XG59XG5cbi8qKiBAaWdub3JlICovXG5mdW5jdGlvbiBpbmZlckRUeXBlPFQgZXh0ZW5kcyBEYXRhVHlwZT4odHlwZTogVCk6IFR5cGUge1xuICAgIHN3aXRjaCAodHlwZS50eXBlSWQpIHtcbiAgICAgICAgY2FzZSBUeXBlLk51bGw6IHJldHVybiBUeXBlLk51bGw7XG4gICAgICAgIGNhc2UgVHlwZS5JbnQ6XG4gICAgICAgICAgICBjb25zdCB7IGJpdFdpZHRoLCBpc1NpZ25lZCB9ID0gKHR5cGUgYXMgYW55IGFzIEludCk7XG4gICAgICAgICAgICBzd2l0Y2ggKGJpdFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAgODogcmV0dXJuIGlzU2lnbmVkID8gVHlwZS5JbnQ4ICA6IFR5cGUuVWludDggO1xuICAgICAgICAgICAgICAgIGNhc2UgMTY6IHJldHVybiBpc1NpZ25lZCA/IFR5cGUuSW50MTYgOiBUeXBlLlVpbnQxNjtcbiAgICAgICAgICAgICAgICBjYXNlIDMyOiByZXR1cm4gaXNTaWduZWQgPyBUeXBlLkludDMyIDogVHlwZS5VaW50MzI7XG4gICAgICAgICAgICAgICAgY2FzZSA2NDogcmV0dXJuIGlzU2lnbmVkID8gVHlwZS5JbnQ2NCA6IFR5cGUuVWludDY0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFR5cGUuSW50O1xuICAgICAgICBjYXNlIFR5cGUuRmxvYXQ6XG4gICAgICAgICAgICBzd2l0Y2goKHR5cGUgYXMgYW55IGFzIEZsb2F0KS5wcmVjaXNpb24pIHtcbiAgICAgICAgICAgICAgICBjYXNlIFByZWNpc2lvbi5IQUxGOiByZXR1cm4gVHlwZS5GbG9hdDE2O1xuICAgICAgICAgICAgICAgIGNhc2UgUHJlY2lzaW9uLlNJTkdMRTogcmV0dXJuIFR5cGUuRmxvYXQzMjtcbiAgICAgICAgICAgICAgICBjYXNlIFByZWNpc2lvbi5ET1VCTEU6IHJldHVybiBUeXBlLkZsb2F0NjQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gVHlwZS5GbG9hdDtcbiAgICAgICAgY2FzZSBUeXBlLkJpbmFyeTogcmV0dXJuIFR5cGUuQmluYXJ5O1xuICAgICAgICBjYXNlIFR5cGUuVXRmODogcmV0dXJuIFR5cGUuVXRmODtcbiAgICAgICAgY2FzZSBUeXBlLkJvb2w6IHJldHVybiBUeXBlLkJvb2w7XG4gICAgICAgIGNhc2UgVHlwZS5EZWNpbWFsOiByZXR1cm4gVHlwZS5EZWNpbWFsO1xuICAgICAgICBjYXNlIFR5cGUuVGltZTpcbiAgICAgICAgICAgIHN3aXRjaCAoKHR5cGUgYXMgYW55IGFzIFRpbWUpLnVuaXQpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFRpbWVVbml0LlNFQ09ORDogcmV0dXJuIFR5cGUuVGltZVNlY29uZDtcbiAgICAgICAgICAgICAgICBjYXNlIFRpbWVVbml0Lk1JTExJU0VDT05EOiByZXR1cm4gVHlwZS5UaW1lTWlsbGlzZWNvbmQ7XG4gICAgICAgICAgICAgICAgY2FzZSBUaW1lVW5pdC5NSUNST1NFQ09ORDogcmV0dXJuIFR5cGUuVGltZU1pY3Jvc2Vjb25kO1xuICAgICAgICAgICAgICAgIGNhc2UgVGltZVVuaXQuTkFOT1NFQ09ORDogcmV0dXJuIFR5cGUuVGltZU5hbm9zZWNvbmQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gVHlwZS5UaW1lO1xuICAgICAgICBjYXNlIFR5cGUuVGltZXN0YW1wOlxuICAgICAgICAgICAgc3dpdGNoICgodHlwZSBhcyBhbnkgYXMgVGltZXN0YW1wKS51bml0KSB7XG4gICAgICAgICAgICAgICAgY2FzZSBUaW1lVW5pdC5TRUNPTkQ6IHJldHVybiBUeXBlLlRpbWVzdGFtcFNlY29uZDtcbiAgICAgICAgICAgICAgICBjYXNlIFRpbWVVbml0Lk1JTExJU0VDT05EOiByZXR1cm4gVHlwZS5UaW1lc3RhbXBNaWxsaXNlY29uZDtcbiAgICAgICAgICAgICAgICBjYXNlIFRpbWVVbml0Lk1JQ1JPU0VDT05EOiByZXR1cm4gVHlwZS5UaW1lc3RhbXBNaWNyb3NlY29uZDtcbiAgICAgICAgICAgICAgICBjYXNlIFRpbWVVbml0Lk5BTk9TRUNPTkQ6IHJldHVybiBUeXBlLlRpbWVzdGFtcE5hbm9zZWNvbmQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gVHlwZS5UaW1lc3RhbXA7XG4gICAgICAgIGNhc2UgVHlwZS5EYXRlOlxuICAgICAgICAgICAgc3dpdGNoICgodHlwZSBhcyBhbnkgYXMgRGF0ZV8pLnVuaXQpIHtcbiAgICAgICAgICAgICAgICBjYXNlIERhdGVVbml0LkRBWTogcmV0dXJuIFR5cGUuRGF0ZURheTtcbiAgICAgICAgICAgICAgICBjYXNlIERhdGVVbml0Lk1JTExJU0VDT05EOiByZXR1cm4gVHlwZS5EYXRlTWlsbGlzZWNvbmQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gVHlwZS5EYXRlO1xuICAgICAgICBjYXNlIFR5cGUuSW50ZXJ2YWw6XG4gICAgICAgICAgICBzd2l0Y2ggKCh0eXBlIGFzIGFueSBhcyBJbnRlcnZhbCkudW5pdCkge1xuICAgICAgICAgICAgICAgIGNhc2UgSW50ZXJ2YWxVbml0LkRBWV9USU1FOiByZXR1cm4gVHlwZS5JbnRlcnZhbERheVRpbWU7XG4gICAgICAgICAgICAgICAgY2FzZSBJbnRlcnZhbFVuaXQuWUVBUl9NT05USDogcmV0dXJuIFR5cGUuSW50ZXJ2YWxZZWFyTW9udGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gVHlwZS5JbnRlcnZhbDtcbiAgICAgICAgY2FzZSBUeXBlLk1hcDogcmV0dXJuIFR5cGUuTWFwO1xuICAgICAgICBjYXNlIFR5cGUuTGlzdDogcmV0dXJuIFR5cGUuTGlzdDtcbiAgICAgICAgY2FzZSBUeXBlLlN0cnVjdDogcmV0dXJuIFR5cGUuU3RydWN0O1xuICAgICAgICBjYXNlIFR5cGUuVW5pb246XG4gICAgICAgICAgICBzd2l0Y2ggKCh0eXBlIGFzIGFueSBhcyBVbmlvbikubW9kZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgVW5pb25Nb2RlLkRlbnNlOiByZXR1cm4gVHlwZS5EZW5zZVVuaW9uO1xuICAgICAgICAgICAgICAgIGNhc2UgVW5pb25Nb2RlLlNwYXJzZTogcmV0dXJuIFR5cGUuU3BhcnNlVW5pb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gVHlwZS5VbmlvbjtcbiAgICAgICAgY2FzZSBUeXBlLkZpeGVkU2l6ZUJpbmFyeTogcmV0dXJuIFR5cGUuRml4ZWRTaXplQmluYXJ5O1xuICAgICAgICBjYXNlIFR5cGUuRml4ZWRTaXplTGlzdDogcmV0dXJuIFR5cGUuRml4ZWRTaXplTGlzdDtcbiAgICAgICAgY2FzZSBUeXBlLkRpY3Rpb25hcnk6IHJldHVybiBUeXBlLkRpY3Rpb25hcnk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgVW5yZWNvZ25pemVkIHR5cGUgJyR7VHlwZVt0eXBlLnR5cGVJZF19J2ApO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZpc2l0b3Ige1xuICAgIHZpc2l0TnVsbCAgICAgICAgICAgICAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0Qm9vbCAgICAgICAgICAgICAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0SW50ICAgICAgICAgICAgICAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0SW50OD8gICAgICAgICAgICAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0SW50MTY/ICAgICAgICAgICAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0SW50MzI/ICAgICAgICAgICAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0SW50NjQ/ICAgICAgICAgICAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0VWludDg/ICAgICAgICAgICAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0VWludDE2PyAgICAgICAgICAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0VWludDMyPyAgICAgICAgICAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0VWludDY0PyAgICAgICAgICAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0RmxvYXQgICAgICAgICAgICAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0RmxvYXQxNj8gICAgICAgICAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0RmxvYXQzMj8gICAgICAgICAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0RmxvYXQ2ND8gICAgICAgICAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0VXRmOCAgICAgICAgICAgICAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0QmluYXJ5ICAgICAgICAgICAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0Rml4ZWRTaXplQmluYXJ5ICAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0RGF0ZSAgICAgICAgICAgICAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0RGF0ZURheT8gICAgICAgICAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0RGF0ZU1pbGxpc2Vjb25kPyAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0VGltZXN0YW1wICAgICAgICAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0VGltZXN0YW1wU2Vjb25kPyAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0VGltZXN0YW1wTWlsbGlzZWNvbmQ/IChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0VGltZXN0YW1wTWljcm9zZWNvbmQ/IChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0VGltZXN0YW1wTmFub3NlY29uZD8gIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0VGltZSAgICAgICAgICAgICAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0VGltZVNlY29uZD8gICAgICAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0VGltZU1pbGxpc2Vjb25kPyAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0VGltZU1pY3Jvc2Vjb25kPyAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0VGltZU5hbm9zZWNvbmQ/ICAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0RGVjaW1hbCAgICAgICAgICAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0TGlzdCAgICAgICAgICAgICAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0U3RydWN0ICAgICAgICAgICAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0VW5pb24gICAgICAgICAgICAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0RGVuc2VVbmlvbj8gICAgICAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0U3BhcnNlVW5pb24/ICAgICAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0RGljdGlvbmFyeSAgICAgICAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0SW50ZXJ2YWwgICAgICAgICAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0SW50ZXJ2YWxEYXlUaW1lPyAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0SW50ZXJ2YWxZZWFyTW9udGg/ICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0Rml4ZWRTaXplTGlzdCAgICAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICAgIHZpc2l0TWFwICAgICAgICAgICAgICAgICAgIChub2RlOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogYW55O1xufVxuXG4vLyBBZGQgdGhlc2UgaGVyZSBzbyB0aGV5J3JlIHBpY2tlZCB1cCBieSB0aGUgZXh0ZXJucyBjcmVhdG9yXG4vLyBpbiB0aGUgYnVpbGQsIGFuZCBjbG9zdXJlLWNvbXBpbGVyIGRvZXNuJ3QgbWluaWZ5IHRoZW0gYXdheVxuKFZpc2l0b3IucHJvdG90eXBlIGFzIGFueSkudmlzaXRJbnQ4ID0gbnVsbDtcbihWaXNpdG9yLnByb3RvdHlwZSBhcyBhbnkpLnZpc2l0SW50MTYgPSBudWxsO1xuKFZpc2l0b3IucHJvdG90eXBlIGFzIGFueSkudmlzaXRJbnQzMiA9IG51bGw7XG4oVmlzaXRvci5wcm90b3R5cGUgYXMgYW55KS52aXNpdEludDY0ID0gbnVsbDtcbihWaXNpdG9yLnByb3RvdHlwZSBhcyBhbnkpLnZpc2l0VWludDggPSBudWxsO1xuKFZpc2l0b3IucHJvdG90eXBlIGFzIGFueSkudmlzaXRVaW50MTYgPSBudWxsO1xuKFZpc2l0b3IucHJvdG90eXBlIGFzIGFueSkudmlzaXRVaW50MzIgPSBudWxsO1xuKFZpc2l0b3IucHJvdG90eXBlIGFzIGFueSkudmlzaXRVaW50NjQgPSBudWxsO1xuKFZpc2l0b3IucHJvdG90eXBlIGFzIGFueSkudmlzaXRGbG9hdDE2ID0gbnVsbDtcbihWaXNpdG9yLnByb3RvdHlwZSBhcyBhbnkpLnZpc2l0RmxvYXQzMiA9IG51bGw7XG4oVmlzaXRvci5wcm90b3R5cGUgYXMgYW55KS52aXNpdEZsb2F0NjQgPSBudWxsO1xuKFZpc2l0b3IucHJvdG90eXBlIGFzIGFueSkudmlzaXREYXRlRGF5ID0gbnVsbDtcbihWaXNpdG9yLnByb3RvdHlwZSBhcyBhbnkpLnZpc2l0RGF0ZU1pbGxpc2Vjb25kID0gbnVsbDtcbihWaXNpdG9yLnByb3RvdHlwZSBhcyBhbnkpLnZpc2l0VGltZXN0YW1wU2Vjb25kID0gbnVsbDtcbihWaXNpdG9yLnByb3RvdHlwZSBhcyBhbnkpLnZpc2l0VGltZXN0YW1wTWlsbGlzZWNvbmQgPSBudWxsO1xuKFZpc2l0b3IucHJvdG90eXBlIGFzIGFueSkudmlzaXRUaW1lc3RhbXBNaWNyb3NlY29uZCA9IG51bGw7XG4oVmlzaXRvci5wcm90b3R5cGUgYXMgYW55KS52aXNpdFRpbWVzdGFtcE5hbm9zZWNvbmQgPSBudWxsO1xuKFZpc2l0b3IucHJvdG90eXBlIGFzIGFueSkudmlzaXRUaW1lU2Vjb25kID0gbnVsbDtcbihWaXNpdG9yLnByb3RvdHlwZSBhcyBhbnkpLnZpc2l0VGltZU1pbGxpc2Vjb25kID0gbnVsbDtcbihWaXNpdG9yLnByb3RvdHlwZSBhcyBhbnkpLnZpc2l0VGltZU1pY3Jvc2Vjb25kID0gbnVsbDtcbihWaXNpdG9yLnByb3RvdHlwZSBhcyBhbnkpLnZpc2l0VGltZU5hbm9zZWNvbmQgPSBudWxsO1xuKFZpc2l0b3IucHJvdG90eXBlIGFzIGFueSkudmlzaXREZW5zZVVuaW9uID0gbnVsbDtcbihWaXNpdG9yLnByb3RvdHlwZSBhcyBhbnkpLnZpc2l0U3BhcnNlVW5pb24gPSBudWxsO1xuKFZpc2l0b3IucHJvdG90eXBlIGFzIGFueSkudmlzaXRJbnRlcnZhbERheVRpbWUgPSBudWxsO1xuKFZpc2l0b3IucHJvdG90eXBlIGFzIGFueSkudmlzaXRJbnRlcnZhbFllYXJNb250aCA9IG51bGw7XG4iXX0=
