"use strict";
// Licensed to the Apache Software Foundation (ASF) under one
// or more contributor license agreements.  See the NOTICE file
// distributed with this work for additional information
// regarding copyright ownership.  The ASF licenses this file
// to you under the Apache License, Version 2.0 (the
// "License"); you may not use this file except in compliance
// with the License.  You may obtain a copy of the License at
//
//   http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing,
// software distributed under the License is distributed on an
// "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
// KIND, either express or implied.  See the License for the
// specific language governing permissions and limitations
// under the License.
Object.defineProperty(exports, "__esModule", { value: true });
const type_1 = require("./type");
class TypeVisitor {
    visit(node) {
        return node.acceptTypeVisitor(this);
    }
    visitMany(nodes) {
        return nodes.map((node) => this.visit(node));
    }
    static visitTypeInline(visitor, type) {
        switch (type.TType) {
            case type_1.Type.Null: return visitor.visitNull(type);
            case type_1.Type.Int: return visitor.visitInt(type);
            case type_1.Type.Float: return visitor.visitFloat(type);
            case type_1.Type.Binary: return visitor.visitBinary(type);
            case type_1.Type.Utf8: return visitor.visitUtf8(type);
            case type_1.Type.Bool: return visitor.visitBool(type);
            case type_1.Type.Decimal: return visitor.visitDecimal(type);
            case type_1.Type.Date: return visitor.visitDate(type);
            case type_1.Type.Time: return visitor.visitTime(type);
            case type_1.Type.Timestamp: return visitor.visitTimestamp(type);
            case type_1.Type.Interval: return visitor.visitInterval(type);
            case type_1.Type.List: return visitor.visitList(type);
            case type_1.Type.Struct: return visitor.visitStruct(type);
            case type_1.Type.Union: return visitor.visitUnion(type);
            case type_1.Type.FixedSizeBinary: return visitor.visitFixedSizeBinary(type);
            case type_1.Type.FixedSizeList: return visitor.visitFixedSizeList(type);
            case type_1.Type.Map: return visitor.visitMap(type);
            case type_1.Type.Dictionary: return visitor.visitDictionary(type);
            default: return null;
        }
    }
}
exports.TypeVisitor = TypeVisitor;
class VectorVisitor {
    visit(node) {
        return node.acceptVectorVisitor(this);
    }
    visitMany(nodes) {
        return nodes.map((node) => this.visit(node));
    }
    static visitTypeInline(visitor, type, vector) {
        switch (type.TType) {
            case type_1.Type.Null: return visitor.visitNullVector(vector);
            case type_1.Type.Int: return visitor.visitIntVector(vector);
            case type_1.Type.Float: return visitor.visitFloatVector(vector);
            case type_1.Type.Binary: return visitor.visitBinaryVector(vector);
            case type_1.Type.Utf8: return visitor.visitUtf8Vector(vector);
            case type_1.Type.Bool: return visitor.visitBoolVector(vector);
            case type_1.Type.Decimal: return visitor.visitDecimalVector(vector);
            case type_1.Type.Date: return visitor.visitDateVector(vector);
            case type_1.Type.Time: return visitor.visitTimeVector(vector);
            case type_1.Type.Timestamp: return visitor.visitTimestampVector(vector);
            case type_1.Type.Interval: return visitor.visitIntervalVector(vector);
            case type_1.Type.List: return visitor.visitListVector(vector);
            case type_1.Type.Struct: return visitor.visitStructVector(vector);
            case type_1.Type.Union: return visitor.visitUnionVector(vector);
            case type_1.Type.FixedSizeBinary: return visitor.visitFixedSizeBinaryVector(vector);
            case type_1.Type.FixedSizeList: return visitor.visitFixedSizeListVector(vector);
            case type_1.Type.Map: return visitor.visitMapVector(vector);
            case type_1.Type.Dictionary: return visitor.visitDictionaryVector(vector);
            default: return null;
        }
    }
}
exports.VectorVisitor = VectorVisitor;
// import { Footer, Block } from './ipc/message';
// import { Field, FieldNode, Buffer } from './ipc/message';
// import { Message, Schema, RecordBatch, DictionaryBatch } from './ipc/message';
// export abstract class MessageVisitor {
//     visit(node: VisitorNode): any {
//         return node.acceptMessageVisitor(this);
//     }
//     visitMany(nodes: VisitorNode[]): any[] {
//         return nodes.map((node) => this.visit(node));
//     }
//     abstract visitFooter(node: Footer): any;
//     abstract visitBlock(node: Block): any;
//     abstract visitMessage(node: Message): any;
//     abstract visitSchema(node: Schema): any;
//     abstract visitField<T extends DataType>(node: Field<T>): any;
//     abstract visitBuffer(node: Buffer): any;
//     abstract visitFieldNode(node: FieldNode): any;
//     abstract visitDataType<T extends Type>(node: DataType<T>): any;
//     abstract visitDictionary(node: Dictionary): any;
//     abstract visitRecordBatch(node: RecordBatch): any;
//     abstract visitDictionaryBatch(node: DictionaryBatch): any;
// }

//# sourceMappingURL=data:application/json;charset=utf8;base64,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Q0FBQyx3QkFBd0IsQ0FBQyxNQUF3QyxDQUFDLENBQUM7WUFDN0csS0FBSyxXQUFJLENBQUMsR0FBRyxFQUFjLE1BQU0sQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLE1BQXlDLENBQUMsQ0FBQztZQUNwRyxLQUFLLFdBQUksQ0FBQyxVQUFVLEVBQU8sTUFBTSxDQUFDLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxNQUF3QyxDQUFDLENBQUM7WUFDMUcsU0FBUyxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ3pCLENBQUM7SUFDTCxDQUFDO0NBQ0o7QUFqREQsc0NBaURDO0FBRUQsaURBQWlEO0FBQ2pELDREQUE0RDtBQUM1RCxpRkFBaUY7QUFFakYseUNBQXlDO0FBQ3pDLHNDQUFzQztBQUN0QyxrREFBa0Q7QUFDbEQsUUFBUTtBQUNSLCtDQUErQztBQUMvQyx3REFBd0Q7QUFDeEQsUUFBUTtBQUNSLCtDQUErQztBQUMvQyw2Q0FBNkM7QUFDN0MsaURBQWlEO0FBQ2pELCtDQUErQztBQUMvQyxvRUFBb0U7QUFDcEUsK0NBQStDO0FBQy9DLHFEQUFxRDtBQUNyRCxzRUFBc0U7QUFDdEUsdURBQXVEO0FBQ3ZELHlEQUF5RDtBQUN6RCxpRUFBaUU7QUFDakUsSUFBSSIsImZpbGUiOiJ2aXNpdG9yLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxuLy8gb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4vLyBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuLy8gcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxuLy8gdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuLy8gXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4vLyB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4vLyBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuLy8gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbi8vIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuLy8gc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuLy8gdW5kZXIgdGhlIExpY2Vuc2UuXG5cbmltcG9ydCB7IFZlY3RvciB9IGZyb20gJy4vdmVjdG9yJztcbmltcG9ydCB7IFR5cGUsIERhdGFUeXBlLCBEaWN0aW9uYXJ5IH0gZnJvbSAnLi90eXBlJztcbmltcG9ydCB7IFV0ZjgsIEJpbmFyeSwgRGVjaW1hbCwgRml4ZWRTaXplQmluYXJ5IH0gZnJvbSAnLi90eXBlJztcbmltcG9ydCB7IExpc3QsIEZpeGVkU2l6ZUxpc3QsIFVuaW9uLCBNYXBfLCBTdHJ1Y3QgfSBmcm9tICcuL3R5cGUnO1xuaW1wb3J0IHsgQm9vbCwgTnVsbCwgSW50LCBGbG9hdCwgRGF0ZV8sIFRpbWUsIEludGVydmFsLCBUaW1lc3RhbXAgfSBmcm9tICcuL3R5cGUnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFZpc2l0b3JOb2RlIHtcbiAgICBhY2NlcHRUeXBlVmlzaXRvcih2aXNpdG9yOiBUeXBlVmlzaXRvcik6IGFueTtcbiAgICBhY2NlcHRWZWN0b3JWaXNpdG9yKHZpc2l0b3I6IFZlY3RvclZpc2l0b3IpOiBhbnk7XG4gICAgLy8gYWNjZXB0TWVzc2FnZVZpc2l0b3IodmlzaXRvcjogTWVzc2FnZVZpc2l0b3IpOiBhbnk7XG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBUeXBlVmlzaXRvciB7XG4gICAgdmlzaXQobm9kZTogUGFydGlhbDxWaXNpdG9yTm9kZT4pOiBhbnkge1xuICAgICAgICByZXR1cm4gbm9kZS5hY2NlcHRUeXBlVmlzaXRvciEodGhpcyk7XG4gICAgfVxuICAgIHZpc2l0TWFueShub2RlczogUGFydGlhbDxWaXNpdG9yTm9kZT5bXSk6IGFueVtdIHtcbiAgICAgICAgcmV0dXJuIG5vZGVzLm1hcCgobm9kZSkgPT4gdGhpcy52aXNpdChub2RlKSk7XG4gICAgfVxuICAgIGFic3RyYWN0IHZpc2l0TnVsbChub2RlOiBOdWxsKTogYW55O1xuICAgIGFic3RyYWN0IHZpc2l0Qm9vbChub2RlOiBCb29sKTogYW55O1xuICAgIGFic3RyYWN0IHZpc2l0SW50KG5vZGU6IEludCk6IGFueTtcbiAgICBhYnN0cmFjdCB2aXNpdEZsb2F0KG5vZGU6IEZsb2F0KTogYW55O1xuICAgIGFic3RyYWN0IHZpc2l0VXRmOChub2RlOiBVdGY4KTogYW55O1xuICAgIGFic3RyYWN0IHZpc2l0QmluYXJ5KG5vZGU6IEJpbmFyeSk6IGFueTtcbiAgICBhYnN0cmFjdCB2aXNpdEZpeGVkU2l6ZUJpbmFyeShub2RlOiBGaXhlZFNpemVCaW5hcnkpOiBhbnk7XG4gICAgYWJzdHJhY3QgdmlzaXREYXRlKG5vZGU6IERhdGVfKTogYW55O1xuICAgIGFic3RyYWN0IHZpc2l0VGltZXN0YW1wKG5vZGU6IFRpbWVzdGFtcCk6IGFueTtcbiAgICBhYnN0cmFjdCB2aXNpdFRpbWUobm9kZTogVGltZSk6IGFueTtcbiAgICBhYnN0cmFjdCB2aXNpdERlY2ltYWwobm9kZTogRGVjaW1hbCk6IGFueTtcbiAgICBhYnN0cmFjdCB2aXNpdExpc3Qobm9kZTogTGlzdCk6IGFueTtcbiAgICBhYnN0cmFjdCB2aXNpdFN0cnVjdChub2RlOiBTdHJ1Y3QpOiBhbnk7XG4gICAgYWJzdHJhY3QgdmlzaXRVbmlvbihub2RlOiBVbmlvbjxhbnk+KTogYW55O1xuICAgIGFic3RyYWN0IHZpc2l0RGljdGlvbmFyeShub2RlOiBEaWN0aW9uYXJ5KTogYW55O1xuICAgIGFic3RyYWN0IHZpc2l0SW50ZXJ2YWwobm9kZTogSW50ZXJ2YWwpOiBhbnk7XG4gICAgYWJzdHJhY3QgdmlzaXRGaXhlZFNpemVMaXN0KG5vZGU6IEZpeGVkU2l6ZUxpc3QpOiBhbnk7XG4gICAgYWJzdHJhY3QgdmlzaXRNYXAobm9kZTogTWFwXyk6IGFueTtcblxuICAgIHN0YXRpYyB2aXNpdFR5cGVJbmxpbmU8VCBleHRlbmRzIERhdGFUeXBlPih2aXNpdG9yOiBUeXBlVmlzaXRvciwgdHlwZTogVCk6IGFueSB7XG4gICAgICAgIHN3aXRjaCAodHlwZS5UVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBUeXBlLk51bGw6ICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXROdWxsKHR5cGUgICAgICAgICAgICBhcyBhbnkgYXMgTnVsbCk7XG4gICAgICAgICAgICBjYXNlIFR5cGUuSW50OiAgICAgICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdEludCh0eXBlICAgICAgICAgICAgIGFzIGFueSBhcyBJbnQpO1xuICAgICAgICAgICAgY2FzZSBUeXBlLkZsb2F0OiAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRGbG9hdCh0eXBlICAgICAgICAgICBhcyBhbnkgYXMgRmxvYXQpO1xuICAgICAgICAgICAgY2FzZSBUeXBlLkJpbmFyeTogICAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRCaW5hcnkodHlwZSAgICAgICAgICBhcyBhbnkgYXMgQmluYXJ5KTtcbiAgICAgICAgICAgIGNhc2UgVHlwZS5VdGY4OiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0VXRmOCh0eXBlICAgICAgICAgICAgYXMgYW55IGFzIFV0ZjgpO1xuICAgICAgICAgICAgY2FzZSBUeXBlLkJvb2w6ICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRCb29sKHR5cGUgICAgICAgICAgICBhcyBhbnkgYXMgQm9vbCk7XG4gICAgICAgICAgICBjYXNlIFR5cGUuRGVjaW1hbDogICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdERlY2ltYWwodHlwZSAgICAgICAgIGFzIGFueSBhcyBEZWNpbWFsKTtcbiAgICAgICAgICAgIGNhc2UgVHlwZS5EYXRlOiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0RGF0ZSh0eXBlICAgICAgICAgICAgYXMgYW55IGFzIERhdGVfKTtcbiAgICAgICAgICAgIGNhc2UgVHlwZS5UaW1lOiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0VGltZSh0eXBlICAgICAgICAgICAgYXMgYW55IGFzIFRpbWUpO1xuICAgICAgICAgICAgY2FzZSBUeXBlLlRpbWVzdGFtcDogICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRUaW1lc3RhbXAodHlwZSAgICAgICBhcyBhbnkgYXMgVGltZXN0YW1wKTtcbiAgICAgICAgICAgIGNhc2UgVHlwZS5JbnRlcnZhbDogICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0SW50ZXJ2YWwodHlwZSAgICAgICAgYXMgYW55IGFzIEludGVydmFsKTtcbiAgICAgICAgICAgIGNhc2UgVHlwZS5MaXN0OiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0TGlzdCh0eXBlICAgICAgICAgICAgYXMgYW55IGFzIExpc3Q8VD4pO1xuICAgICAgICAgICAgY2FzZSBUeXBlLlN0cnVjdDogICAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRTdHJ1Y3QodHlwZSAgICAgICAgICBhcyBhbnkgYXMgU3RydWN0KTtcbiAgICAgICAgICAgIGNhc2UgVHlwZS5VbmlvbjogICAgICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0VW5pb24odHlwZSAgICAgICAgICAgYXMgYW55IGFzIFVuaW9uKTtcbiAgICAgICAgICAgIGNhc2UgVHlwZS5GaXhlZFNpemVCaW5hcnk6IHJldHVybiB2aXNpdG9yLnZpc2l0Rml4ZWRTaXplQmluYXJ5KHR5cGUgYXMgYW55IGFzIEZpeGVkU2l6ZUJpbmFyeSk7XG4gICAgICAgICAgICBjYXNlIFR5cGUuRml4ZWRTaXplTGlzdDogICByZXR1cm4gdmlzaXRvci52aXNpdEZpeGVkU2l6ZUxpc3QodHlwZSAgIGFzIGFueSBhcyBGaXhlZFNpemVMaXN0KTtcbiAgICAgICAgICAgIGNhc2UgVHlwZS5NYXA6ICAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0TWFwKHR5cGUgICAgICAgICAgICAgYXMgYW55IGFzIE1hcF8pO1xuICAgICAgICAgICAgY2FzZSBUeXBlLkRpY3Rpb25hcnk6ICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXREaWN0aW9uYXJ5KHR5cGUgICAgICBhcyBhbnkgYXMgRGljdGlvbmFyeSk7XG4gICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFZlY3RvclZpc2l0b3Ige1xuICAgIHZpc2l0KG5vZGU6IFBhcnRpYWw8VmlzaXRvck5vZGU+KTogYW55IHtcbiAgICAgICAgcmV0dXJuIG5vZGUuYWNjZXB0VmVjdG9yVmlzaXRvciEodGhpcyk7XG4gICAgfVxuICAgIHZpc2l0TWFueShub2RlczogUGFydGlhbDxWaXNpdG9yTm9kZT5bXSk6IGFueVtdIHtcbiAgICAgICAgcmV0dXJuIG5vZGVzLm1hcCgobm9kZSkgPT4gdGhpcy52aXNpdChub2RlKSk7XG4gICAgfVxuICAgIGFic3RyYWN0IHZpc2l0TnVsbFZlY3Rvcihub2RlOiBWZWN0b3I8TnVsbD4pOiBhbnk7XG4gICAgYWJzdHJhY3QgdmlzaXRCb29sVmVjdG9yKG5vZGU6IFZlY3RvcjxCb29sPik6IGFueTtcbiAgICBhYnN0cmFjdCB2aXNpdEludFZlY3Rvcihub2RlOiBWZWN0b3I8SW50Pik6IGFueTtcbiAgICBhYnN0cmFjdCB2aXNpdEZsb2F0VmVjdG9yKG5vZGU6IFZlY3RvcjxGbG9hdD4pOiBhbnk7XG4gICAgYWJzdHJhY3QgdmlzaXRVdGY4VmVjdG9yKG5vZGU6IFZlY3RvcjxVdGY4Pik6IGFueTtcbiAgICBhYnN0cmFjdCB2aXNpdEJpbmFyeVZlY3Rvcihub2RlOiBWZWN0b3I8QmluYXJ5Pik6IGFueTtcbiAgICBhYnN0cmFjdCB2aXNpdEZpeGVkU2l6ZUJpbmFyeVZlY3Rvcihub2RlOiBWZWN0b3I8Rml4ZWRTaXplQmluYXJ5Pik6IGFueTtcbiAgICBhYnN0cmFjdCB2aXNpdERhdGVWZWN0b3Iobm9kZTogVmVjdG9yPERhdGVfPik6IGFueTtcbiAgICBhYnN0cmFjdCB2aXNpdFRpbWVzdGFtcFZlY3Rvcihub2RlOiBWZWN0b3I8VGltZXN0YW1wPik6IGFueTtcbiAgICBhYnN0cmFjdCB2aXNpdFRpbWVWZWN0b3Iobm9kZTogVmVjdG9yPFRpbWU+KTogYW55O1xuICAgIGFic3RyYWN0IHZpc2l0RGVjaW1hbFZlY3Rvcihub2RlOiBWZWN0b3I8RGVjaW1hbD4pOiBhbnk7XG4gICAgYWJzdHJhY3QgdmlzaXRMaXN0VmVjdG9yKG5vZGU6IFZlY3RvcjxMaXN0Pik6IGFueTtcbiAgICBhYnN0cmFjdCB2aXNpdFN0cnVjdFZlY3Rvcihub2RlOiBWZWN0b3I8U3RydWN0Pik6IGFueTtcbiAgICBhYnN0cmFjdCB2aXNpdFVuaW9uVmVjdG9yKG5vZGU6IFZlY3RvcjxVbmlvbjxhbnk+Pik6IGFueTtcbiAgICBhYnN0cmFjdCB2aXNpdERpY3Rpb25hcnlWZWN0b3Iobm9kZTogVmVjdG9yPERpY3Rpb25hcnk+KTogYW55O1xuICAgIGFic3RyYWN0IHZpc2l0SW50ZXJ2YWxWZWN0b3Iobm9kZTogVmVjdG9yPEludGVydmFsPik6IGFueTtcbiAgICBhYnN0cmFjdCB2aXNpdEZpeGVkU2l6ZUxpc3RWZWN0b3Iobm9kZTogVmVjdG9yPEZpeGVkU2l6ZUxpc3Q+KTogYW55O1xuICAgIGFic3RyYWN0IHZpc2l0TWFwVmVjdG9yKG5vZGU6IFZlY3RvcjxNYXBfPik6IGFueTtcblxuICAgIHN0YXRpYyB2aXNpdFR5cGVJbmxpbmU8VCBleHRlbmRzIERhdGFUeXBlPih2aXNpdG9yOiBWZWN0b3JWaXNpdG9yLCB0eXBlOiBULCB2ZWN0b3I6IFZlY3RvcjxUPik6IGFueSB7XG4gICAgICAgIHN3aXRjaCAodHlwZS5UVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBUeXBlLk51bGw6ICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXROdWxsVmVjdG9yKHZlY3RvciAgICAgICAgICAgIGFzIGFueSBhcyBWZWN0b3I8TnVsbD4pO1xuICAgICAgICAgICAgY2FzZSBUeXBlLkludDogICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRJbnRWZWN0b3IodmVjdG9yICAgICAgICAgICAgIGFzIGFueSBhcyBWZWN0b3I8SW50Pik7XG4gICAgICAgICAgICBjYXNlIFR5cGUuRmxvYXQ6ICAgICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdEZsb2F0VmVjdG9yKHZlY3RvciAgICAgICAgICAgYXMgYW55IGFzIFZlY3RvcjxGbG9hdD4pO1xuICAgICAgICAgICAgY2FzZSBUeXBlLkJpbmFyeTogICAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRCaW5hcnlWZWN0b3IodmVjdG9yICAgICAgICAgIGFzIGFueSBhcyBWZWN0b3I8QmluYXJ5Pik7XG4gICAgICAgICAgICBjYXNlIFR5cGUuVXRmODogICAgICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdFV0ZjhWZWN0b3IodmVjdG9yICAgICAgICAgICAgYXMgYW55IGFzIFZlY3RvcjxVdGY4Pik7XG4gICAgICAgICAgICBjYXNlIFR5cGUuQm9vbDogICAgICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdEJvb2xWZWN0b3IodmVjdG9yICAgICAgICAgICAgYXMgYW55IGFzIFZlY3RvcjxCb29sPik7XG4gICAgICAgICAgICBjYXNlIFR5cGUuRGVjaW1hbDogICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdERlY2ltYWxWZWN0b3IodmVjdG9yICAgICAgICAgYXMgYW55IGFzIFZlY3RvcjxEZWNpbWFsPik7XG4gICAgICAgICAgICBjYXNlIFR5cGUuRGF0ZTogICAgICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdERhdGVWZWN0b3IodmVjdG9yICAgICAgICAgICAgYXMgYW55IGFzIFZlY3RvcjxEYXRlXz4pO1xuICAgICAgICAgICAgY2FzZSBUeXBlLlRpbWU6ICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRUaW1lVmVjdG9yKHZlY3RvciAgICAgICAgICAgIGFzIGFueSBhcyBWZWN0b3I8VGltZT4pO1xuICAgICAgICAgICAgY2FzZSBUeXBlLlRpbWVzdGFtcDogICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRUaW1lc3RhbXBWZWN0b3IodmVjdG9yICAgICAgIGFzIGFueSBhcyBWZWN0b3I8VGltZXN0YW1wPik7XG4gICAgICAgICAgICBjYXNlIFR5cGUuSW50ZXJ2YWw6ICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdEludGVydmFsVmVjdG9yKHZlY3RvciAgICAgICAgYXMgYW55IGFzIFZlY3RvcjxJbnRlcnZhbD4pO1xuICAgICAgICAgICAgY2FzZSBUeXBlLkxpc3Q6ICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRMaXN0VmVjdG9yKHZlY3RvciAgICAgICAgICAgIGFzIGFueSBhcyBWZWN0b3I8TGlzdDxUPj4pO1xuICAgICAgICAgICAgY2FzZSBUeXBlLlN0cnVjdDogICAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRTdHJ1Y3RWZWN0b3IodmVjdG9yICAgICAgICAgIGFzIGFueSBhcyBWZWN0b3I8U3RydWN0Pik7XG4gICAgICAgICAgICBjYXNlIFR5cGUuVW5pb246ICAgICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdFVuaW9uVmVjdG9yKHZlY3RvciAgICAgICAgICAgYXMgYW55IGFzIFZlY3RvcjxVbmlvbj4pO1xuICAgICAgICAgICAgY2FzZSBUeXBlLkZpeGVkU2l6ZUJpbmFyeTogcmV0dXJuIHZpc2l0b3IudmlzaXRGaXhlZFNpemVCaW5hcnlWZWN0b3IodmVjdG9yIGFzIGFueSBhcyBWZWN0b3I8Rml4ZWRTaXplQmluYXJ5Pik7XG4gICAgICAgICAgICBjYXNlIFR5cGUuRml4ZWRTaXplTGlzdDogICByZXR1cm4gdmlzaXRvci52aXNpdEZpeGVkU2l6ZUxpc3RWZWN0b3IodmVjdG9yICAgYXMgYW55IGFzIFZlY3RvcjxGaXhlZFNpemVMaXN0Pik7XG4gICAgICAgICAgICBjYXNlIFR5cGUuTWFwOiAgICAgICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdE1hcFZlY3Rvcih2ZWN0b3IgICAgICAgICAgICAgYXMgYW55IGFzIFZlY3RvcjxNYXBfPik7XG4gICAgICAgICAgICBjYXNlIFR5cGUuRGljdGlvbmFyeTogICAgICByZXR1cm4gdmlzaXRvci52aXNpdERpY3Rpb25hcnlWZWN0b3IodmVjdG9yICAgICAgYXMgYW55IGFzIFZlY3RvcjxEaWN0aW9uYXJ5Pik7XG4gICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gaW1wb3J0IHsgRm9vdGVyLCBCbG9jayB9IGZyb20gJy4vaXBjL21lc3NhZ2UnO1xuLy8gaW1wb3J0IHsgRmllbGQsIEZpZWxkTm9kZSwgQnVmZmVyIH0gZnJvbSAnLi9pcGMvbWVzc2FnZSc7XG4vLyBpbXBvcnQgeyBNZXNzYWdlLCBTY2hlbWEsIFJlY29yZEJhdGNoLCBEaWN0aW9uYXJ5QmF0Y2ggfSBmcm9tICcuL2lwYy9tZXNzYWdlJztcblxuLy8gZXhwb3J0IGFic3RyYWN0IGNsYXNzIE1lc3NhZ2VWaXNpdG9yIHtcbi8vICAgICB2aXNpdChub2RlOiBWaXNpdG9yTm9kZSk6IGFueSB7XG4vLyAgICAgICAgIHJldHVybiBub2RlLmFjY2VwdE1lc3NhZ2VWaXNpdG9yKHRoaXMpO1xuLy8gICAgIH1cbi8vICAgICB2aXNpdE1hbnkobm9kZXM6IFZpc2l0b3JOb2RlW10pOiBhbnlbXSB7XG4vLyAgICAgICAgIHJldHVybiBub2Rlcy5tYXAoKG5vZGUpID0+IHRoaXMudmlzaXQobm9kZSkpO1xuLy8gICAgIH1cbi8vICAgICBhYnN0cmFjdCB2aXNpdEZvb3Rlcihub2RlOiBGb290ZXIpOiBhbnk7XG4vLyAgICAgYWJzdHJhY3QgdmlzaXRCbG9jayhub2RlOiBCbG9jayk6IGFueTtcbi8vICAgICBhYnN0cmFjdCB2aXNpdE1lc3NhZ2Uobm9kZTogTWVzc2FnZSk6IGFueTtcbi8vICAgICBhYnN0cmFjdCB2aXNpdFNjaGVtYShub2RlOiBTY2hlbWEpOiBhbnk7XG4vLyAgICAgYWJzdHJhY3QgdmlzaXRGaWVsZDxUIGV4dGVuZHMgRGF0YVR5cGU+KG5vZGU6IEZpZWxkPFQ+KTogYW55O1xuLy8gICAgIGFic3RyYWN0IHZpc2l0QnVmZmVyKG5vZGU6IEJ1ZmZlcik6IGFueTtcbi8vICAgICBhYnN0cmFjdCB2aXNpdEZpZWxkTm9kZShub2RlOiBGaWVsZE5vZGUpOiBhbnk7XG4vLyAgICAgYWJzdHJhY3QgdmlzaXREYXRhVHlwZTxUIGV4dGVuZHMgVHlwZT4obm9kZTogRGF0YVR5cGU8VD4pOiBhbnk7XG4vLyAgICAgYWJzdHJhY3QgdmlzaXREaWN0aW9uYXJ5KG5vZGU6IERpY3Rpb25hcnkpOiBhbnk7XG4vLyAgICAgYWJzdHJhY3QgdmlzaXRSZWNvcmRCYXRjaChub2RlOiBSZWNvcmRCYXRjaCk6IGFueTtcbi8vICAgICBhYnN0cmFjdCB2aXNpdERpY3Rpb25hcnlCYXRjaChub2RlOiBEaWN0aW9uYXJ5QmF0Y2gpOiBhbnk7XG4vLyB9XG4iXX0=
