// Licensed to the Apache Software Foundation (ASF) under one
// or more contributor license agreements.  See the NOTICE file
// distributed with this work for additional information
// regarding copyright ownership.  The ASF licenses this file
// to you under the Apache License, Version 2.0 (the
// "License"); you may not use this file except in compliance
// with the License.  You may obtain a copy of the License at
//
//   http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing,
// software distributed under the License is distributed on an
// "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
// KIND, either express or implied.  See the License for the
// specific language governing permissions and limitations
// under the License.
import { Type, Precision, UnionMode, DateUnit, TimeUnit, IntervalUnit } from './enum';
export class DataType {
    constructor(_TType = Type.NONE, _children) {
        this._TType = _TType;
        this._children = _children;
    }
    /** @nocollapse */ static isNull(x) { return x && x.TType === Type.Null; }
    /** @nocollapse */ static isInt(x) { return x && x.TType === Type.Int; }
    /** @nocollapse */ static isFloat(x) { return x && x.TType === Type.Float; }
    /** @nocollapse */ static isBinary(x) { return x && x.TType === Type.Binary; }
    /** @nocollapse */ static isUtf8(x) { return x && x.TType === Type.Utf8; }
    /** @nocollapse */ static isBool(x) { return x && x.TType === Type.Bool; }
    /** @nocollapse */ static isDecimal(x) { return x && x.TType === Type.Decimal; }
    /** @nocollapse */ static isDate(x) { return x && x.TType === Type.Date; }
    /** @nocollapse */ static isTime(x) { return x && x.TType === Type.Time; }
    /** @nocollapse */ static isTimestamp(x) { return x && x.TType === Type.Timestamp; }
    /** @nocollapse */ static isInterval(x) { return x && x.TType === Type.Interval; }
    /** @nocollapse */ static isList(x) { return x && x.TType === Type.List; }
    /** @nocollapse */ static isStruct(x) { return x && x.TType === Type.Struct; }
    /** @nocollapse */ static isUnion(x) { return x && x.TType === Type.Union; }
    /** @nocollapse */ static isFixedSizeBinary(x) { return x && x.TType === Type.FixedSizeBinary; }
    /** @nocollapse */ static isFixedSizeList(x) { return x && x.TType === Type.FixedSizeList; }
    /** @nocollapse */ static isMap(x) { return x && x.TType === Type.Map; }
    /** @nocollapse */ static isDictionary(x) { return x && x.TType === Type.Dictionary; }
    get TType() { return this._TType; }
    get children() { return this._children; }
}
DataType[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Array;
    return proto[Symbol.toStringTag] = 'DataType';
})(DataType.prototype);
export class Null extends DataType {
    constructor() {
        super(Type.Null);
    }
    toString() { return `Null`; }
}
Null[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Null';
})(Null.prototype);
class Int_ extends DataType {
    constructor(_isSigned, _bitWidth) {
        super(Type.Int);
        this._isSigned = _isSigned;
        this._bitWidth = _bitWidth;
    }
    get isSigned() { return this._isSigned; }
    get bitWidth() { return this._bitWidth; }
    get ArrayType() {
        switch (this._bitWidth) {
            case 8: return (this._isSigned ? Int8Array : Uint8Array);
            case 16: return (this._isSigned ? Int16Array : Uint16Array);
            case 32: return (this._isSigned ? Int32Array : Uint32Array);
            case 64: return (this._isSigned ? Int32Array : Uint32Array);
        }
        throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`);
    }
    toString() { return `${this._isSigned ? `I` : `Ui`}nt${this._bitWidth}`; }
}
Int_[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Int';
})(Int_.prototype);
export { Int_ as Int };
export class Int8 extends Int_ {
    constructor() { super(true, 8); }
}
export class Int16 extends Int_ {
    constructor() { super(true, 16); }
}
export class Int32 extends Int_ {
    constructor() { super(true, 32); }
}
export class Int64 extends Int_ {
    constructor() { super(true, 64); }
}
export class Uint8 extends Int_ {
    constructor() { super(false, 8); }
}
export class Uint16 extends Int_ {
    constructor() { super(false, 16); }
}
export class Uint32 extends Int_ {
    constructor() { super(false, 32); }
}
export class Uint64 extends Int_ {
    constructor() { super(false, 64); }
}
export class Float extends DataType {
    constructor(_precision) {
        super(Type.Float);
        this._precision = _precision;
    }
    get precision() { return this._precision; }
    // @ts-ignore
    get ArrayType() {
        switch (this.precision) {
            case Precision.HALF: return Uint16Array;
            case Precision.SINGLE: return Float32Array;
            case Precision.DOUBLE: return Float64Array;
        }
        throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`);
    }
    toString() { return `Float${(this.precision << 5) || 16}`; }
}
Float[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Float';
})(Float.prototype);
export class Float16 extends Float {
    constructor() { super(Precision.HALF); }
}
export class Float32 extends Float {
    constructor() { super(Precision.SINGLE); }
}
export class Float64 extends Float {
    constructor() { super(Precision.DOUBLE); }
}
export class Binary extends DataType {
    constructor() {
        super(Type.Binary);
    }
    toString() { return `Binary`; }
}
Binary[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'Binary';
})(Binary.prototype);
export class Utf8 extends DataType {
    constructor() {
        super(Type.Utf8);
    }
    toString() { return `Utf8`; }
}
Utf8[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'Utf8';
})(Utf8.prototype);
export class Bool extends DataType {
    constructor() {
        super(Type.Bool);
    }
    toString() { return `Bool`; }
}
Bool[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'Bool';
})(Bool.prototype);
export class Decimal extends DataType {
    constructor(_scale, _precision) {
        super(Type.Decimal);
        this._scale = _scale;
        this._precision = _precision;
    }
    get scale() { return this._scale; }
    get precision() { return this._precision; }
    toString() { return `Decimal[${this._precision}e${this._scale > 0 ? `+` : ``}${this._scale}]`; }
}
Decimal[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint32Array;
    return proto[Symbol.toStringTag] = 'Decimal';
})(Decimal.prototype);
export class Date_ extends DataType {
    constructor(_unit) {
        super(Type.Date);
        this._unit = _unit;
    }
    get unit() { return this._unit; }
    toString() { return `Date${(this._unit + 1) * 32}<${DateUnit[this._unit]}>`; }
}
Date_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int32Array;
    return proto[Symbol.toStringTag] = 'Date';
})(Date_.prototype);
export class DateDay extends Date_ {
    constructor() { super(DateUnit.DAY); }
}
export class DateMillisecond extends Date_ {
    constructor() { super(DateUnit.MILLISECOND); }
}
class Time_ extends DataType {
    constructor(_unit, _bitWidth) {
        super(Type.Time);
        this._unit = _unit;
        this._bitWidth = _bitWidth;
    }
    get unit() { return this._unit; }
    get bitWidth() { return this._bitWidth; }
    toString() { return `Time${this._bitWidth}<${TimeUnit[this._unit]}>`; }
}
Time_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint32Array;
    return proto[Symbol.toStringTag] = 'Time';
})(Time_.prototype);
export { Time_ as Time };
export class TimeSecond extends Time_ {
    constructor(bitWidth) { super(TimeUnit.SECOND, bitWidth); }
}
export class TimeMillisecond extends Time_ {
    constructor(bitWidth) { super(TimeUnit.MILLISECOND, bitWidth); }
}
export class TimeMicrosecond extends Time_ {
    constructor(bitWidth) { super(TimeUnit.MICROSECOND, bitWidth); }
}
export class TimeNanosecond extends Time_ {
    constructor(bitWidth) { super(TimeUnit.NANOSECOND, bitWidth); }
}
class Timestamp_ extends DataType {
    constructor(_unit, _timezone) {
        super(Type.Timestamp);
        this._unit = _unit;
        this._timezone = _timezone;
    }
    get unit() { return this._unit; }
    get timezone() { return this._timezone; }
    toString() { return `Timestamp<${TimeUnit[this._unit]}${this._timezone ? `, ${this._timezone}` : ``}>`; }
}
Timestamp_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int32Array;
    return proto[Symbol.toStringTag] = 'Timestamp';
})(Timestamp_.prototype);
export { Timestamp_ as Timestamp };
export class TimestampSecond extends Timestamp_ {
    constructor(timezone) { super(TimeUnit.SECOND, timezone); }
}
export class TimestampMillisecond extends Timestamp_ {
    constructor(timezone) { super(TimeUnit.MILLISECOND, timezone); }
}
export class TimestampMicrosecond extends Timestamp_ {
    constructor(timezone) { super(TimeUnit.MICROSECOND, timezone); }
}
export class TimestampNanosecond extends Timestamp_ {
    constructor(timezone) { super(TimeUnit.NANOSECOND, timezone); }
}
class Interval_ extends DataType {
    constructor(_unit) {
        super(Type.Interval);
        this._unit = _unit;
    }
    get unit() { return this._unit; }
    toString() { return `Interval<${IntervalUnit[this._unit]}>`; }
}
Interval_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int32Array;
    return proto[Symbol.toStringTag] = 'Interval';
})(Interval_.prototype);
export { Interval_ as Interval };
export class IntervalDayTime extends Interval_ {
    constructor() { super(IntervalUnit.DAY_TIME); }
}
export class IntervalYearMonth extends Interval_ {
    constructor() { super(IntervalUnit.YEAR_MONTH); }
}
export class List extends DataType {
    constructor(_children) {
        super(Type.List, _children);
        this._children = _children;
    }
    toString() { return `List<${this.valueType}>`; }
    get children() { return this._children; }
    get valueType() { return this._children[0].type; }
    get valueField() { return this._children[0]; }
    get ArrayType() { return this.valueType.ArrayType; }
}
List[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'List';
})(List.prototype);
export class Struct extends DataType {
    constructor(_children) {
        super(Type.Struct, _children);
        this._children = _children;
    }
    get children() { return this._children; }
    toString() { return `Struct<${this._children.map((f) => f.type).join(`, `)}>`; }
}
Struct[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Struct';
})(Struct.prototype);
class Union_ extends DataType {
    constructor(_mode, _typeIds, _children) {
        super(Type.Union, _children);
        this._mode = _mode;
        this._typeIds = _typeIds;
        this._children = _children;
        this._typeIdToChildIndex = (_typeIds || []).reduce((typeIdToChildIndex, typeId, idx) => {
            return (typeIdToChildIndex[typeId] = idx) && typeIdToChildIndex || typeIdToChildIndex;
        }, Object.create(null));
    }
    get mode() { return this._mode; }
    get typeIds() { return this._typeIds; }
    get children() { return this._children; }
    get typeIdToChildIndex() { return this._typeIdToChildIndex; }
    toString() {
        return `${this[Symbol.toStringTag]}<${this._children.map((x) => `${x.type}`).join(` | `)}>`;
    }
}
Union_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int8Array;
    return proto[Symbol.toStringTag] = 'Union';
})(Union_.prototype);
export { Union_ as Union };
export class DenseUnion extends Union_ {
    constructor(typeIds, children) {
        super(UnionMode.Dense, typeIds, children);
    }
}
export class SparseUnion extends Union_ {
    constructor(typeIds, children) {
        super(UnionMode.Sparse, typeIds, children);
    }
}
export class FixedSizeBinary extends DataType {
    constructor(_byteWidth) {
        super(Type.FixedSizeBinary);
        this._byteWidth = _byteWidth;
    }
    get byteWidth() { return this._byteWidth; }
    toString() { return `FixedSizeBinary[${this.byteWidth}]`; }
}
FixedSizeBinary[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'FixedSizeBinary';
})(FixedSizeBinary.prototype);
export class FixedSizeList extends DataType {
    constructor(_listSize, _children) {
        super(Type.FixedSizeList, _children);
        this._listSize = _listSize;
        this._children = _children;
    }
    get listSize() { return this._listSize; }
    get children() { return this._children; }
    get valueType() { return this.children[0].type; }
    get valueField() { return this.children[0]; }
    get ArrayType() { return this.valueType.ArrayType; }
    toString() { return `FixedSizeList[${this._listSize}]<${this.valueType}>`; }
}
FixedSizeList[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'FixedSizeList';
})(FixedSizeList.prototype);
export class Map_ extends DataType {
    constructor(_children, _keysSorted = false) {
        super(Type.Map, _children);
        this._children = _children;
        this._keysSorted = _keysSorted;
    }
    get children() { return this._children; }
    get keysSorted() { return this._keysSorted; }
    toString() { return `Map<${this.children.join(`, `)}>`; }
}
Map_[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Map_';
})(Map_.prototype);
const getId = ((atomicDictionaryId) => () => ++atomicDictionaryId)(-1);
export class Dictionary extends DataType {
    constructor(dictionary, indices, id, isOrdered, dictionaryVector) {
        super(Type.Dictionary);
        this._indices = indices;
        this._dictionary = dictionary;
        this._isOrdered = isOrdered || false;
        this.dictionaryVector = dictionaryVector;
        this._id = id == null ? getId() : typeof id === 'number' ? id : id.low;
    }
    get id() { return this._id; }
    get indices() { return this._indices; }
    get dictionary() { return this._dictionary; }
    get isOrdered() { return this._isOrdered; }
    set children(_) { }
    get children() { return this.dictionary.children; }
    get valueType() { return this.dictionary; }
    get ArrayType() { return this.dictionary.ArrayType; }
    toString() { return `Dictionary<${this.indices}, ${this.dictionary}>`; }
}
Dictionary[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Dictionary';
})(Dictionary.prototype);

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInR5cGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsNkRBQTZEO0FBQzdELCtEQUErRDtBQUMvRCx3REFBd0Q7QUFDeEQsNkRBQTZEO0FBQzdELG9EQUFvRDtBQUNwRCw2REFBNkQ7QUFDN0QsNkRBQTZEO0FBQzdELEVBQUU7QUFDRiwrQ0FBK0M7QUFDL0MsRUFBRTtBQUNGLDZEQUE2RDtBQUM3RCw4REFBOEQ7QUFDOUQseURBQXlEO0FBQ3pELDREQUE0RDtBQUM1RCwwREFBMEQ7QUFDMUQscUJBQXFCO0FBU3JCLE9BQU8sRUFDSCxJQUFJLEVBQ0osU0FBUyxFQUFFLFNBQVMsRUFDcEIsUUFBUSxFQUFFLFFBQVEsRUFBRSxZQUFZLEVBQ25DLE1BQU0sUUFBUSxDQUFDO0FBbUJoQixNQUFNLE9BQU8sUUFBUTtJQTJCakIsWUFBc0IsU0FBc0IsSUFBSSxDQUFDLElBQUksRUFDL0IsU0FBK0M7UUFEL0MsV0FBTSxHQUFOLE1BQU0sQ0FBeUI7UUFDL0IsY0FBUyxHQUFULFNBQVMsQ0FBc0M7SUFDdEQsQ0FBQztJQXhCaEIsa0JBQWtCLENBQUMsTUFBTSxDQUFZLE1BQU0sQ0FBRSxDQUFNLElBQTBCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFZLENBQUM7SUFDNUgsa0JBQWtCLENBQUMsTUFBTSxDQUFhLEtBQUssQ0FBRSxDQUFNLElBQTJCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFhLENBQUM7SUFDN0gsa0JBQWtCLENBQUMsTUFBTSxDQUFXLE9BQU8sQ0FBRSxDQUFNLElBQTBCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLEtBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFXLENBQUM7SUFDNUgsa0JBQWtCLENBQUMsTUFBTSxDQUFVLFFBQVEsQ0FBRSxDQUFNLElBQTBCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLEtBQUssSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFVLENBQUM7SUFDNUgsa0JBQWtCLENBQUMsTUFBTSxDQUFZLE1BQU0sQ0FBRSxDQUFNLElBQTBCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFZLENBQUM7SUFDNUgsa0JBQWtCLENBQUMsTUFBTSxDQUFZLE1BQU0sQ0FBRSxDQUFNLElBQTBCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFZLENBQUM7SUFDNUgsa0JBQWtCLENBQUMsTUFBTSxDQUFTLFNBQVMsQ0FBRSxDQUFNLElBQTBCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLEtBQUssSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFTLENBQUM7SUFDNUgsa0JBQWtCLENBQUMsTUFBTSxDQUFZLE1BQU0sQ0FBRSxDQUFNLElBQTBCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFZLENBQUM7SUFDNUgsa0JBQWtCLENBQUMsTUFBTSxDQUFZLE1BQU0sQ0FBRSxDQUFNLElBQTJCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFZLENBQUM7SUFDN0gsa0JBQWtCLENBQUMsTUFBTSxDQUFPLFdBQVcsQ0FBRSxDQUFNLElBQTJCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLEtBQUssSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFPLENBQUM7SUFDN0gsa0JBQWtCLENBQUMsTUFBTSxDQUFRLFVBQVUsQ0FBRSxDQUFNLElBQTJCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLEtBQUssSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFRLENBQUM7SUFDN0gsa0JBQWtCLENBQUMsTUFBTSxDQUFZLE1BQU0sQ0FBRSxDQUFNLElBQTBCLE9BQU8sQ0FBQyxJ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QUMsQ0FBQztJQUM5QyxJQUFXLFVBQVUsS0FBSyxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO0lBQ3BELElBQVcsU0FBUyxLQUFLLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7SUFDbEQsSUFBVyxRQUFRLENBQUMsQ0FBZ0IsSUFBRyxDQUFDO0lBQ3hDLElBQVcsUUFBUSxLQUFLLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0lBQzFELElBQVcsU0FBUyxLQUFRLE9BQU8sSUFBSSxDQUFDLFVBQWUsQ0FBQyxDQUFDLENBQUM7SUFDMUQsSUFBVyxTQUFTLEtBQXFCLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO0lBQ3JFLFFBQVEsS0FBSyxPQUFPLGNBQWMsSUFBSSxDQUFDLE9BQU8sS0FBSyxJQUFJLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQyxDQUFDOztBQUM5RCxXQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBaUIsRUFBRSxFQUFFO0lBQzNELE9BQU8sS0FBSyxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsR0FBRyxZQUFZLENBQUM7QUFDcEQsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDIiwiZmlsZSI6InR5cGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4vLyBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbi8vIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4vLyByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4vLyB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4vLyBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Vcbi8vIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbi8vIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4vLyBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuLy8gS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4vLyBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4vLyB1bmRlciB0aGUgTGljZW5zZS5cblxuaW1wb3J0IHsgRmllbGQgfSBmcm9tICcuL3NjaGVtYSc7XG5pbXBvcnQgeyBWZWN0b3IgfSBmcm9tICcuL3ZlY3Rvcic7XG5pbXBvcnQgeyBmbGF0YnVmZmVycyB9IGZyb20gJ2ZsYXRidWZmZXJzJztcbmltcG9ydCB7IFZlY3RvciBhcyBWVHlwZSB9IGZyb20gJy4vaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBBcnJheUJ1ZmZlclZpZXdDb25zdHJ1Y3RvciB9IGZyb20gJy4vaW50ZXJmYWNlcyc7XG5cbmltcG9ydCBMb25nID0gZmxhdGJ1ZmZlcnMuTG9uZztcbmltcG9ydCB7XG4gICAgVHlwZSwgQXJyb3dUeXBlLFxuICAgIFByZWNpc2lvbiwgVW5pb25Nb2RlLFxuICAgIERhdGVVbml0LCBUaW1lVW5pdCwgSW50ZXJ2YWxVbml0XG59IGZyb20gJy4vZW51bSc7XG5cbmV4cG9ydCB0eXBlIFRpbWVCaXRXaWR0aCA9IDMyIHwgNjQ7XG5leHBvcnQgdHlwZSBJbnRCaXRXaWR0aCA9IDggfCAxNiB8IDMyIHwgNjQ7XG5leHBvcnQgdHlwZSBJc1NpZ25lZCA9IHsgJ3RydWUnOiB0cnVlOyAnZmFsc2UnOiBmYWxzZSB9O1xuXG5leHBvcnQgdHlwZSBSb3dMaWtlPFQgZXh0ZW5kcyB7IFtrZXk6IHN0cmluZ106IERhdGFUeXBlOyB9PiA9XG4gICAgICB7IHJlYWRvbmx5IGxlbmd0aDogbnVtYmVyIH1cbiAgICAmICggSXRlcmFibGU8VFtrZXlvZiBUXVsnVFZhbHVlJ10+IClcbiAgICAmIHsgW1AgaW4ga2V5b2YgVF06IFRbUF1bJ1RWYWx1ZSddIH1cbiAgICAmIHsgZ2V0PEsgZXh0ZW5kcyBrZXlvZiBUPihrZXk6IEspOiBUW0tdWydUVmFsdWUnXTsgfVxuICAgIDtcblxuZXhwb3J0IGludGVyZmFjZSBEYXRhVHlwZTxUVHlwZSBleHRlbmRzIFR5cGUgPSBUeXBlPiB7XG4gICAgcmVhZG9ubHkgVEFycmF5OiBhbnk7XG4gICAgcmVhZG9ubHkgVFZhbHVlOiBhbnk7XG4gICAgcmVhZG9ubHkgQXJyYXlUeXBlOiBhbnk7XG59XG5cbmV4cG9ydCBjbGFzcyBEYXRhVHlwZTxUVHlwZSBleHRlbmRzIFR5cGUgPSBUeXBlLCBUQ2hpbGRyZW4gZXh0ZW5kcyB7IFtrZXk6IHN0cmluZ106IERhdGFUeXBlIH0gPSBhbnk+IHtcblxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBwdWJsaWMgW1N5bWJvbC50b1N0cmluZ1RhZ106IHN0cmluZztcblxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgICAgICBpc051bGwgKHg6IGFueSk6IHggaXMgTnVsbCAgICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5OdWxsOyAgICAgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICAgICAgIGlzSW50ICh4OiBhbnkpOiB4IGlzIEludF8gICAgICAgICAgICAgeyByZXR1cm4geCAmJiB4LlRUeXBlID09PSBUeXBlLkludDsgICAgICAgICAgICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgICAgIGlzRmxvYXQgKHg6IGFueSk6IHggaXMgRmxvYXQgICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5GbG9hdDsgICAgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICAgIGlzQmluYXJ5ICh4OiBhbnkpOiB4IGlzIEJpbmFyeSAgICAgICAgICB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuQmluYXJ5OyAgICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICAgICAgIGlzVXRmOCAoeDogYW55KTogeCBpcyBVdGY4ICAgICAgICAgICAgeyByZXR1cm4geCAmJiB4LlRUeXBlID09PSBUeXBlLlV0Zjg7ICAgICAgICAgICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgICAgICBpc0Jvb2wgKHg6IGFueSk6IHggaXMgQm9vbCAgICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5Cb29sOyAgICAgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICAgaXNEZWNpbWFsICh4OiBhbnkpOiB4IGlzIERlY2ltYWwgICAgICAgICB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuRGVjaW1hbDsgICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICAgICAgIGlzRGF0ZSAoeDogYW55KTogeCBpcyBEYXRlXyAgICAgICAgICAgeyByZXR1cm4geCAmJiB4LlRUeXBlID09PSBUeXBlLkRhdGU7ICAgICAgICAgICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgICAgICBpc1RpbWUgKHg6IGFueSk6IHggaXMgVGltZV8gICAgICAgICAgICB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuVGltZTsgICAgICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICBpc1RpbWVzdGFtcCAoeDogYW55KTogeCBpcyBUaW1lc3RhbXBfICAgICAgIHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5UaW1lc3RhbXA7ICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICBpc0ludGVydmFsICh4OiBhbnkpOiB4IGlzIEludGVydmFsXyAgICAgICAgeyByZXR1cm4geCAmJiB4LlRUeXBlID09PSBUeXBlLkludGVydmFsOyAgICAgICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgICAgICBpc0xpc3QgKHg6IGFueSk6IHggaXMgTGlzdCAgICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5MaXN0OyAgICAgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICAgIGlzU3RydWN0ICh4OiBhbnkpOiB4IGlzIFN0cnVjdCAgICAgICAgICB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuU3RydWN0OyAgICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICAgICAgaXNVbmlvbiAoeDogYW55KTogeCBpcyBVbmlvbl8gICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5VbmlvbjsgICAgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljIGlzRml4ZWRTaXplQmluYXJ5ICh4OiBhbnkpOiB4IGlzIEZpeGVkU2l6ZUJpbmFyeSB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuRml4ZWRTaXplQmluYXJ5OyB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgIGlzRml4ZWRTaXplTGlzdCAoeDogYW55KTogeCBpcyBGaXhlZFNpemVMaXN0ICAgeyByZXR1cm4geCAmJiB4LlRUeXBlID09PSBUeXBlLkZpeGVkU2l6ZUxpc3Q7ICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgICAgICAgaXNNYXAgKHg6IGFueSk6IHggaXMgTWFwXyAgICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5NYXA7ICAgICAgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgaXNEaWN0aW9uYXJ5ICh4OiBhbnkpOiB4IGlzIERpY3Rpb25hcnkgICAgICB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuRGljdGlvbmFyeTsgICAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IFRUeXBlKCkgeyByZXR1cm4gdGhpcy5fVFR5cGU7IH1cbiAgICBwdWJsaWMgZ2V0IGNoaWxkcmVuKCkgeyByZXR1cm4gdGhpcy5fY2hpbGRyZW47IH1cblxuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfVFR5cGU6IFRUeXBlID0gPGFueT4gVHlwZS5OT05FLFxuICAgICAgICAgICAgICAgIHByb3RlY3RlZCBfY2hpbGRyZW4/OiBGaWVsZDxUQ2hpbGRyZW5ba2V5b2YgVENoaWxkcmVuXT5bXVxuICAgICAgICAgICAgICAgICkge31cblxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBEYXRhVHlwZSkgPT4ge1xuICAgICAgICAoPGFueT4gcHJvdG8pLkFycmF5VHlwZSA9IEFycmF5O1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdEYXRhVHlwZSc7XG4gICAgfSkoRGF0YVR5cGUucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBOdWxsIGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5OdWxsPiB7IFRBcnJheTogdm9pZDsgVFZhbHVlOiBudWxsOyB9XG5leHBvcnQgY2xhc3MgTnVsbCBleHRlbmRzIERhdGFUeXBlPFR5cGUuTnVsbD4ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihUeXBlLk51bGwpO1xuICAgIH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgTnVsbGA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogTnVsbCkgPT4ge1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdOdWxsJztcbiAgICB9KShOdWxsLnByb3RvdHlwZSk7XG59XG5cbnR5cGUgSW50cyA9IFR5cGUuSW50IHwgVHlwZS5JbnQ4IHwgVHlwZS5JbnQxNiB8IFR5cGUuSW50MzIgfCBUeXBlLkludDY0IHwgVHlwZS5VaW50OCB8IFR5cGUuVWludDE2IHwgVHlwZS5VaW50MzIgfCBUeXBlLlVpbnQ2NDtcbnR5cGUgSVR5cGUgPSB7XG4gICAgW1R5cGUuSW50ICAgXTogeyBiaXRXaWR0aDogSW50Qml0V2lkdGg7IGlzU2lnbmVkOiB0cnVlIHwgZmFsc2U7IFRBcnJheTogSW50QXJyYXk7ICAgIFRWYWx1ZTogbnVtYmVyIHwgSW50MzJBcnJheSB8IFVpbnQzMkFycmF5OyB9O1xuICAgIFtUeXBlLkludDggIF06IHsgYml0V2lkdGg6ICAgICAgICAgICA4OyBpc1NpZ25lZDogdHJ1ZTsgICAgICAgICBUQXJyYXk6IEludDhBcnJheTsgICBUVmFsdWU6IG51bWJlcjsgICAgICAgICAgICB9O1xuICAgIFtUeXBlLkludDE2IF06IHsgYml0V2lkdGg6ICAgICAgICAgIDE2OyBpc1NpZ25lZDogdHJ1ZTsgICAgICAgICBUQXJyYXk6IEludDE2QXJyYXk7ICBUVmFsdWU6IG51bWJlcjsgICAgICAgICAgICB9O1xuICAgIFtUeXBlLkludDMyIF06IHsgYml0V2lkdGg6ICAgICAgICAgIDMyOyBpc1NpZ25lZDogdHJ1ZTsgICAgICAgICBUQXJyYXk6IEludDMyQXJyYXk7ICBUVmFsdWU6IG51bWJlcjsgICAgICAgICAgICB9O1xuICAgIFtUeXBlLkludDY0IF06IHsgYml0V2lkdGg6ICAgICAgICAgIDY0OyBpc1NpZ25lZDogdHJ1ZTsgICAgICAgICBUQXJyYXk6IEludDMyQXJyYXk7ICBUVmFsdWU6IEludDMyQXJyYXk7ICAgICAgICB9O1xuICAgIFtUeXBlLlVpbnQ4IF06IHsgYml0V2lkdGg6ICAgICAgICAgICA4OyBpc1NpZ25lZDogZmFsc2U7ICAgICAgICBUQXJyYXk6IFVpbnQ4QXJyYXk7ICBUVmFsdWU6IG51bWJlcjsgICAgICAgICAgICB9O1xuICAgIFtUeXBlLlVpbnQxNl06IHsgYml0V2lkdGg6ICAgICAgICAgIDE2OyBpc1NpZ25lZDogZmFsc2U7ICAgICAgICBUQXJyYXk6IFVpbnQxNkFycmF5OyBUVmFsdWU6IG51bWJlcjsgICAgICAgICAgICB9O1xuICAgIFtUeXBlLlVpbnQzMl06IHsgYml0V2lkdGg6ICAgICAgICAgIDMyOyBpc1NpZ25lZDogZmFsc2U7ICAgICAgICBUQXJyYXk6IFVpbnQzMkFycmF5OyBUVmFsdWU6IG51bWJlcjsgICAgICAgICAgICB9O1xuICAgIFtUeXBlLlVpbnQ2NF06IHsgYml0V2lkdGg6ICAgICAgICAgIDY0OyBpc1NpZ25lZDogZmFsc2U7ICAgICAgICBUQXJyYXk6IFVpbnQzMkFycmF5OyBUVmFsdWU6IFVpbnQzMkFycmF5OyAgICAgICB9O1xufTtcblxuaW50ZXJmYWNlIEludF88VCBleHRlbmRzIEludHMgPSBJbnRzPiBleHRlbmRzIERhdGFUeXBlPFQ+IHsgVEFycmF5OiBJVHlwZVtUXVsnVEFycmF5J107IFRWYWx1ZTogSVR5cGVbVF1bJ1RWYWx1ZSddOyB9XG5jbGFzcyBJbnRfPFQgZXh0ZW5kcyBJbnRzID0gSW50cz4gZXh0ZW5kcyBEYXRhVHlwZTxUPiB7XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIF9pc1NpZ25lZDogSVR5cGVbVF1bJ2lzU2lnbmVkJ10sXG4gICAgICAgICAgICAgICAgcHJvdGVjdGVkIF9iaXRXaWR0aDogSVR5cGVbVF1bJ2JpdFdpZHRoJ10pIHtcbiAgICAgICAgc3VwZXIoVHlwZS5JbnQgYXMgVCk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgaXNTaWduZWQoKSB7IHJldHVybiB0aGlzLl9pc1NpZ25lZDsgfVxuICAgIHB1YmxpYyBnZXQgYml0V2lkdGgoKSB7IHJldHVybiB0aGlzLl9iaXRXaWR0aDsgfVxuICAgIHB1YmxpYyBnZXQgQXJyYXlUeXBlKCk6IEFycmF5QnVmZmVyVmlld0NvbnN0cnVjdG9yPElUeXBlW1RdWydUQXJyYXknXT4ge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuX2JpdFdpZHRoKSB7XG4gICAgICAgICAgICBjYXNlICA4OiByZXR1cm4gKHRoaXMuX2lzU2lnbmVkID8gIEludDhBcnJheSA6ICBVaW50OEFycmF5KSBhcyBhbnk7XG4gICAgICAgICAgICBjYXNlIDE2OiByZXR1cm4gKHRoaXMuX2lzU2lnbmVkID8gSW50MTZBcnJheSA6IFVpbnQxNkFycmF5KSBhcyBhbnk7XG4gICAgICAgICAgICBjYXNlIDMyOiByZXR1cm4gKHRoaXMuX2lzU2lnbmVkID8gSW50MzJBcnJheSA6IFVpbnQzMkFycmF5KSBhcyBhbnk7XG4gICAgICAgICAgICBjYXNlIDY0OiByZXR1cm4gKHRoaXMuX2lzU2lnbmVkID8gSW50MzJBcnJheSA6IFVpbnQzMkFycmF5KSBhcyBhbnk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnJlY29nbml6ZWQgJHt0aGlzW1N5bWJvbC50b1N0cmluZ1RhZ119IHR5cGVgKTtcbiAgICB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYCR7dGhpcy5faXNTaWduZWQgPyBgSWAgOiBgVWlgfW50JHt0aGlzLl9iaXRXaWR0aH1gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IEludF8pID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnSW50JztcbiAgICB9KShJbnRfLnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCB7IEludF8gYXMgSW50IH07XG5cbmV4cG9ydCBjbGFzcyBJbnQ4IGV4dGVuZHMgSW50XzxUeXBlLkludDg+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKHRydWUsIDgpOyB9IH1cbmV4cG9ydCBjbGFzcyBJbnQxNiBleHRlbmRzIEludF88VHlwZS5JbnQxNj4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIodHJ1ZSwgMTYpOyB9IH1cbmV4cG9ydCBjbGFzcyBJbnQzMiBleHRlbmRzIEludF88VHlwZS5JbnQzMj4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIodHJ1ZSwgMzIpOyB9IH1cbmV4cG9ydCBjbGFzcyBJbnQ2NCBleHRlbmRzIEludF88VHlwZS5JbnQ2ND4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIodHJ1ZSwgNjQpOyB9IH1cbmV4cG9ydCBjbGFzcyBVaW50OCBleHRlbmRzIEludF88VHlwZS5VaW50OD4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoZmFsc2UsIDgpOyB9IH1cbmV4cG9ydCBjbGFzcyBVaW50MTYgZXh0ZW5kcyBJbnRfPFR5cGUuVWludDE2PiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihmYWxzZSwgMTYpOyB9IH1cbmV4cG9ydCBjbGFzcyBVaW50MzIgZXh0ZW5kcyBJbnRfPFR5cGUuVWludDMyPiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihmYWxzZSwgMzIpOyB9IH1cbmV4cG9ydCBjbGFzcyBVaW50NjQgZXh0ZW5kcyBJbnRfPFR5cGUuVWludDY0PiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihmYWxzZSwgNjQpOyB9IH1cblxudHlwZSBGbG9hdHMgPSBUeXBlLkZsb2F0IHwgVHlwZS5GbG9hdDE2IHwgVHlwZS5GbG9hdDMyIHwgVHlwZS5GbG9hdDY0O1xudHlwZSBGVHlwZSA9IHtcbiAgICBbVHlwZS5GbG9hdCAgXTogeyBwcmVjaXNpb246IFByZWNpc2lvbjsgICAgICAgIFRBcnJheTogRmxvYXRBcnJheTsgICAgVFZhbHVlOiBudW1iZXI7IH07XG4gICAgW1R5cGUuRmxvYXQxNl06IHsgcHJlY2lzaW9uOiBQcmVjaXNpb24uSEFMRjsgICBUQXJyYXk6IFVpbnQxNkFycmF5OyAgIFRWYWx1ZTogbnVtYmVyOyB9O1xuICAgIFtUeXBlLkZsb2F0MzJdOiB7IHByZWNpc2lvbjogUHJlY2lzaW9uLlNJTkdMRTsgVEFycmF5OiBGbG9hdDMyQXJyYXk7ICBUVmFsdWU6IG51bWJlcjsgfTtcbiAgICBbVHlwZS5GbG9hdDY0XTogeyBwcmVjaXNpb246IFByZWNpc2lvbi5ET1VCTEU7IFRBcnJheTogRmxvYXQzMkFycmF5OyAgVFZhbHVlOiBudW1iZXI7IH07XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIEZsb2F0PFQgZXh0ZW5kcyBGbG9hdHMgPSBGbG9hdHM+IGV4dGVuZHMgRGF0YVR5cGU8VD4geyBUQXJyYXk6IEZUeXBlW1RdWydUQXJyYXknXTsgVFZhbHVlOiBudW1iZXI7IH1cbmV4cG9ydCBjbGFzcyBGbG9hdDxUIGV4dGVuZHMgRmxvYXRzID0gRmxvYXRzPiBleHRlbmRzIERhdGFUeXBlPFQ+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX3ByZWNpc2lvbjogUHJlY2lzaW9uKSB7XG4gICAgICAgIHN1cGVyKFR5cGUuRmxvYXQgYXMgVCk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgcHJlY2lzaW9uKCkgeyByZXR1cm4gdGhpcy5fcHJlY2lzaW9uOyB9XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHB1YmxpYyBnZXQgQXJyYXlUeXBlKCk6IEFycmF5QnVmZmVyVmlld0NvbnN0cnVjdG9yPEZUeXBlW1RdWydUQXJyYXknXT4ge1xuICAgICAgICBzd2l0Y2ggKHRoaXMucHJlY2lzaW9uKSB7XG4gICAgICAgICAgICBjYXNlIFByZWNpc2lvbi5IQUxGOiByZXR1cm4gVWludDE2QXJyYXkgYXMgYW55O1xuICAgICAgICAgICAgY2FzZSBQcmVjaXNpb24uU0lOR0xFOiByZXR1cm4gRmxvYXQzMkFycmF5IGFzIGFueTtcbiAgICAgICAgICAgIGNhc2UgUHJlY2lzaW9uLkRPVUJMRTogcmV0dXJuIEZsb2F0NjRBcnJheSBhcyBhbnk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnJlY29nbml6ZWQgJHt0aGlzW1N5bWJvbC50b1N0cmluZ1RhZ119IHR5cGVgKTtcbiAgICB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYEZsb2F0JHsodGhpcy5wcmVjaXNpb24gPDwgNSkgfHwgMTZ9YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBGbG9hdCkgPT4ge1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdGbG9hdCc7XG4gICAgfSkoRmxvYXQucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGNsYXNzIEZsb2F0MTYgZXh0ZW5kcyBGbG9hdDxUeXBlLkZsb2F0MTY+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKFByZWNpc2lvbi5IQUxGKTsgfSB9XG5leHBvcnQgY2xhc3MgRmxvYXQzMiBleHRlbmRzIEZsb2F0PFR5cGUuRmxvYXQzMj4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoUHJlY2lzaW9uLlNJTkdMRSk7IH0gfVxuZXhwb3J0IGNsYXNzIEZsb2F0NjQgZXh0ZW5kcyBGbG9hdDxUeXBlLkZsb2F0NjQ+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKFByZWNpc2lvbi5ET1VCTEUpOyB9IH1cblxuZXhwb3J0IGludGVyZmFjZSBCaW5hcnkgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkJpbmFyeT4geyBUQXJyYXk6IFVpbnQ4QXJyYXk7IFRWYWx1ZTogVWludDhBcnJheTsgfVxuZXhwb3J0IGNsYXNzIEJpbmFyeSBleHRlbmRzIERhdGFUeXBlPFR5cGUuQmluYXJ5PiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKFR5cGUuQmluYXJ5KTtcbiAgICB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYEJpbmFyeWA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogQmluYXJ5KSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gVWludDhBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnQmluYXJ5JztcbiAgICB9KShCaW5hcnkucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVdGY4IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5VdGY4PiB7IFRBcnJheTogVWludDhBcnJheTsgVFZhbHVlOiBzdHJpbmc7IEFycmF5VHlwZTogdHlwZW9mIFVpbnQ4QXJyYXk7IH1cbmV4cG9ydCBjbGFzcyBVdGY4IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5VdGY4PiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKFR5cGUuVXRmOCk7XG4gICAgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBVdGY4YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBVdGY4KSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gVWludDhBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnVXRmOCc7XG4gICAgfSkoVXRmOC5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJvb2wgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkJvb2w+IHsgVEFycmF5OiBVaW50OEFycmF5OyBUVmFsdWU6IGJvb2xlYW47IEFycmF5VHlwZTogdHlwZW9mIFVpbnQ4QXJyYXk7IH1cbmV4cG9ydCBjbGFzcyBCb29sIGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5Cb29sPiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKFR5cGUuQm9vbCk7XG4gICAgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBCb29sYDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBCb29sKSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gVWludDhBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnQm9vbCc7XG4gICAgfSkoQm9vbC5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERlY2ltYWwgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkRlY2ltYWw+IHsgVEFycmF5OiBVaW50MzJBcnJheTsgVFZhbHVlOiBVaW50MzJBcnJheTsgQXJyYXlUeXBlOiB0eXBlb2YgVWludDMyQXJyYXk7IH1cbmV4cG9ydCBjbGFzcyBEZWNpbWFsIGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5EZWNpbWFsPiB7XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIF9zY2FsZTogbnVtYmVyLFxuICAgICAgICAgICAgICAgIHByb3RlY3RlZCBfcHJlY2lzaW9uOiBudW1iZXIpIHtcbiAgICAgICAgc3VwZXIoVHlwZS5EZWNpbWFsKTtcbiAgICB9XG4gICAgcHVibGljIGdldCBzY2FsZSgpIHsgcmV0dXJuIHRoaXMuX3NjYWxlOyB9XG4gICAgcHVibGljIGdldCBwcmVjaXNpb24oKSB7IHJldHVybiB0aGlzLl9wcmVjaXNpb247IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgRGVjaW1hbFske3RoaXMuX3ByZWNpc2lvbn1lJHt0aGlzLl9zY2FsZSA+IDAgPyBgK2AgOiBgYH0ke3RoaXMuX3NjYWxlfV1gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IERlY2ltYWwpID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBVaW50MzJBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnRGVjaW1hbCc7XG4gICAgfSkoRGVjaW1hbC5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgdHlwZSBEYXRlcyA9IFR5cGUuRGF0ZSB8IFR5cGUuRGF0ZURheSB8IFR5cGUuRGF0ZU1pbGxpc2Vjb25kO1xuLyogdHNsaW50OmRpc2FibGU6Y2xhc3MtbmFtZSAqL1xuZXhwb3J0IGludGVyZmFjZSBEYXRlXzxUIGV4dGVuZHMgRGF0ZXMgPSBEYXRlcz4gZXh0ZW5kcyBEYXRhVHlwZTxUPiB7IFRBcnJheTogSW50MzJBcnJheTsgVFZhbHVlOiBEYXRlOyBBcnJheVR5cGU6IHR5cGVvZiBJbnQzMkFycmF5OyB9XG5leHBvcnQgY2xhc3MgRGF0ZV88VCBleHRlbmRzIERhdGVzID0gRGF0ZXM+IGV4dGVuZHMgRGF0YVR5cGU8VD4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfdW5pdDogRGF0ZVVuaXQpIHtcbiAgICAgICAgc3VwZXIoVHlwZS5EYXRlIGFzIFQpO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHVuaXQoKSB7IHJldHVybiB0aGlzLl91bml0OyB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYERhdGUkeyh0aGlzLl91bml0ICsgMSkgKiAzMn08JHtEYXRlVW5pdFt0aGlzLl91bml0XX0+YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBEYXRlXykgPT4ge1xuICAgICAgICAoPGFueT4gcHJvdG8pLkFycmF5VHlwZSA9IEludDMyQXJyYXk7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ0RhdGUnO1xuICAgIH0pKERhdGVfLnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCBjbGFzcyBEYXRlRGF5IGV4dGVuZHMgRGF0ZV88VHlwZS5EYXRlRGF5PiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihEYXRlVW5pdC5EQVkpOyB9IH1cbmV4cG9ydCBjbGFzcyBEYXRlTWlsbGlzZWNvbmQgZXh0ZW5kcyBEYXRlXzxUeXBlLkRhdGVNaWxsaXNlY29uZD4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoRGF0ZVVuaXQuTUlMTElTRUNPTkQpOyB9IH1cblxudHlwZSBUaW1lcyA9IFR5cGUuVGltZSB8IFR5cGUuVGltZVNlY29uZCB8IFR5cGUuVGltZU1pbGxpc2Vjb25kIHwgVHlwZS5UaW1lTWljcm9zZWNvbmQgfCBUeXBlLlRpbWVOYW5vc2Vjb25kO1xudHlwZSBUaW1lc1R5cGUgPSB7XG4gICAgW1R5cGUuVGltZSAgICAgICAgICAgXTogeyB1bml0OiBUaW1lVW5pdDsgICAgICAgICAgICAgVFZhbHVlOiBudW1iZXIgfCBVaW50MzJBcnJheSB9O1xuICAgIFtUeXBlLlRpbWVTZWNvbmQgICAgIF06IHsgdW5pdDogVGltZVVuaXQuU0VDT05EOyAgICAgIFRWYWx1ZTogbnVtYmVyOyAgICAgICAgICAgICAgfTtcbiAgICBbVHlwZS5UaW1lTWlsbGlzZWNvbmRdOiB7IHVuaXQ6IFRpbWVVbml0Lk1JTExJU0VDT05EOyBUVmFsdWU6IG51bWJlcjsgICAgICAgICAgICAgIH07XG4gICAgW1R5cGUuVGltZU1pY3Jvc2Vjb25kXTogeyB1bml0OiBUaW1lVW5pdC5NSUNST1NFQ09ORDsgVFZhbHVlOiBVaW50MzJBcnJheTsgICAgICAgICB9O1xuICAgIFtUeXBlLlRpbWVOYW5vc2Vjb25kIF06IHsgdW5pdDogVGltZVVuaXQuTkFOT1NFQ09ORDsgIFRWYWx1ZTogVWludDMyQXJyYXk7ICAgICAgICAgfTtcbn07XG5cbmludGVyZmFjZSBUaW1lXzxUIGV4dGVuZHMgVGltZXMgPSBUaW1lcz4gZXh0ZW5kcyBEYXRhVHlwZTxUPiB7IFRBcnJheTogVWludDMyQXJyYXk7IFRWYWx1ZTogVGltZXNUeXBlW1RdWydUVmFsdWUnXTsgQXJyYXlUeXBlOiB0eXBlb2YgVWludDMyQXJyYXk7IH1cbmNsYXNzIFRpbWVfPFQgZXh0ZW5kcyBUaW1lcyA9IFRpbWVzPiBleHRlbmRzIERhdGFUeXBlPFQ+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX3VuaXQ6IFRpbWVzVHlwZVtUXVsndW5pdCddLFxuICAgICAgICAgICAgICAgIHByb3RlY3RlZCBfYml0V2lkdGg6IFRpbWVCaXRXaWR0aCkge1xuICAgICAgICBzdXBlcihUeXBlLlRpbWUgYXMgVCk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgdW5pdCgpIHsgcmV0dXJuIHRoaXMuX3VuaXQ7IH1cbiAgICBwdWJsaWMgZ2V0IGJpdFdpZHRoKCkgeyByZXR1cm4gdGhpcy5fYml0V2lkdGg7IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgVGltZSR7dGhpcy5fYml0V2lkdGh9PCR7VGltZVVuaXRbdGhpcy5fdW5pdF19PmA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogVGltZV8pID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBVaW50MzJBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnVGltZSc7XG4gICAgfSkoVGltZV8ucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IHsgVGltZV8gYXMgVGltZSB9O1xuXG5leHBvcnQgY2xhc3MgVGltZVNlY29uZCBleHRlbmRzIFRpbWVfPFR5cGUuVGltZVNlY29uZD4geyBjb25zdHJ1Y3RvcihiaXRXaWR0aDogVGltZUJpdFdpZHRoKSB7IHN1cGVyKFRpbWVVbml0LlNFQ09ORCwgYml0V2lkdGgpOyB9IH1cbmV4cG9ydCBjbGFzcyBUaW1lTWlsbGlzZWNvbmQgZXh0ZW5kcyBUaW1lXzxUeXBlLlRpbWVNaWxsaXNlY29uZD4geyBjb25zdHJ1Y3RvcihiaXRXaWR0aDogVGltZUJpdFdpZHRoKSB7IHN1cGVyKFRpbWVVbml0Lk1JTExJU0VDT05ELCBiaXRXaWR0aCk7IH0gfVxuZXhwb3J0IGNsYXNzIFRpbWVNaWNyb3NlY29uZCBleHRlbmRzIFRpbWVfPFR5cGUuVGltZU1pY3Jvc2Vjb25kPiB7IGNvbnN0cnVjdG9yKGJpdFdpZHRoOiBUaW1lQml0V2lkdGgpIHsgc3VwZXIoVGltZVVuaXQuTUlDUk9TRUNPTkQsIGJpdFdpZHRoKTsgfSB9XG5leHBvcnQgY2xhc3MgVGltZU5hbm9zZWNvbmQgZXh0ZW5kcyBUaW1lXzxUeXBlLlRpbWVOYW5vc2Vjb25kPiB7IGNvbnN0cnVjdG9yKGJpdFdpZHRoOiBUaW1lQml0V2lkdGgpIHsgc3VwZXIoVGltZVVuaXQuTkFOT1NFQ09ORCwgYml0V2lkdGgpOyB9IH1cblxudHlwZSBUaW1lc3RhbXBzID0gVHlwZS5UaW1lc3RhbXAgfCBUeXBlLlRpbWVzdGFtcFNlY29uZCB8IFR5cGUuVGltZXN0YW1wTWlsbGlzZWNvbmQgfCBUeXBlLlRpbWVzdGFtcE1pY3Jvc2Vjb25kIHwgVHlwZS5UaW1lc3RhbXBOYW5vc2Vjb25kO1xuaW50ZXJmYWNlIFRpbWVzdGFtcF88VCBleHRlbmRzIFRpbWVzdGFtcHMgPSBUaW1lc3RhbXBzPiBleHRlbmRzIERhdGFUeXBlPFQ+IHsgVEFycmF5OiBJbnQzMkFycmF5OyBUVmFsdWU6IG51bWJlcjsgQXJyYXlUeXBlOiB0eXBlb2YgSW50MzJBcnJheTsgfVxuY2xhc3MgVGltZXN0YW1wXzxUIGV4dGVuZHMgVGltZXN0YW1wcyA9IFRpbWVzdGFtcHM+IGV4dGVuZHMgRGF0YVR5cGU8VD4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfdW5pdDogVGltZVVuaXQsIHByb3RlY3RlZCBfdGltZXpvbmU/OiBzdHJpbmcgfCBudWxsKSB7XG4gICAgICAgIHN1cGVyKFR5cGUuVGltZXN0YW1wIGFzIFQpO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHVuaXQoKSB7IHJldHVybiB0aGlzLl91bml0OyB9XG4gICAgcHVibGljIGdldCB0aW1lem9uZSgpIHsgcmV0dXJuIHRoaXMuX3RpbWV6b25lOyB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYFRpbWVzdGFtcDwke1RpbWVVbml0W3RoaXMuX3VuaXRdfSR7dGhpcy5fdGltZXpvbmUgPyBgLCAke3RoaXMuX3RpbWV6b25lfWAgOiBgYH0+YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBUaW1lc3RhbXBfKSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gSW50MzJBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnVGltZXN0YW1wJztcbiAgICB9KShUaW1lc3RhbXBfLnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCB7IFRpbWVzdGFtcF8gYXMgVGltZXN0YW1wIH07XG5cbmV4cG9ydCBjbGFzcyBUaW1lc3RhbXBTZWNvbmQgZXh0ZW5kcyBUaW1lc3RhbXBfPFR5cGUuVGltZXN0YW1wU2Vjb25kPiB7IGNvbnN0cnVjdG9yKHRpbWV6b25lPzogc3RyaW5nIHwgbnVsbCkgeyBzdXBlcihUaW1lVW5pdC5TRUNPTkQsIHRpbWV6b25lKTsgfSB9XG5leHBvcnQgY2xhc3MgVGltZXN0YW1wTWlsbGlzZWNvbmQgZXh0ZW5kcyBUaW1lc3RhbXBfPFR5cGUuVGltZXN0YW1wTWlsbGlzZWNvbmQ+IHsgY29uc3RydWN0b3IodGltZXpvbmU/OiBzdHJpbmcgfCBudWxsKSB7IHN1cGVyKFRpbWVVbml0Lk1JTExJU0VDT05ELCB0aW1lem9uZSk7IH0gfVxuZXhwb3J0IGNsYXNzIFRpbWVzdGFtcE1pY3Jvc2Vjb25kIGV4dGVuZHMgVGltZXN0YW1wXzxUeXBlLlRpbWVzdGFtcE1pY3Jvc2Vjb25kPiB7IGNvbnN0cnVjdG9yKHRpbWV6b25lPzogc3RyaW5nIHwgbnVsbCkgeyBzdXBlcihUaW1lVW5pdC5NSUNST1NFQ09ORCwgdGltZXpvbmUpOyB9IH1cbmV4cG9ydCBjbGFzcyBUaW1lc3RhbXBOYW5vc2Vjb25kIGV4dGVuZHMgVGltZXN0YW1wXzxUeXBlLlRpbWVzdGFtcE5hbm9zZWNvbmQ+IHsgY29uc3RydWN0b3IodGltZXpvbmU/OiBzdHJpbmcgfCBudWxsKSB7IHN1cGVyKFRpbWVVbml0Lk5BTk9TRUNPTkQsIHRpbWV6b25lKTsgfSB9XG5cbnR5cGUgSW50ZXJ2YWxzID0gVHlwZS5JbnRlcnZhbCB8IFR5cGUuSW50ZXJ2YWxEYXlUaW1lIHwgVHlwZS5JbnRlcnZhbFllYXJNb250aDtcbmludGVyZmFjZSBJbnRlcnZhbF88VCBleHRlbmRzIEludGVydmFscyA9IEludGVydmFscz4gZXh0ZW5kcyBEYXRhVHlwZTxUPiB7IFRBcnJheTogSW50MzJBcnJheTsgVFZhbHVlOiBJbnQzMkFycmF5OyBBcnJheVR5cGU6IHR5cGVvZiBJbnQzMkFycmF5OyB9XG5jbGFzcyBJbnRlcnZhbF88VCBleHRlbmRzIEludGVydmFscyA9IEludGVydmFscz4gZXh0ZW5kcyBEYXRhVHlwZTxUPiB7XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIF91bml0OiBJbnRlcnZhbFVuaXQpIHtcbiAgICAgICAgc3VwZXIoVHlwZS5JbnRlcnZhbCBhcyBUKTtcbiAgICB9XG4gICAgcHVibGljIGdldCB1bml0KCkgeyByZXR1cm4gdGhpcy5fdW5pdDsgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBJbnRlcnZhbDwke0ludGVydmFsVW5pdFt0aGlzLl91bml0XX0+YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBJbnRlcnZhbF8pID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBJbnQzMkFycmF5O1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdJbnRlcnZhbCc7XG4gICAgfSkoSW50ZXJ2YWxfLnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCB7IEludGVydmFsXyBhcyBJbnRlcnZhbCB9O1xuXG5leHBvcnQgY2xhc3MgSW50ZXJ2YWxEYXlUaW1lIGV4dGVuZHMgSW50ZXJ2YWxfPFR5cGUuSW50ZXJ2YWxEYXlUaW1lPiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihJbnRlcnZhbFVuaXQuREFZX1RJTUUpOyB9IH1cbmV4cG9ydCBjbGFzcyBJbnRlcnZhbFllYXJNb250aCBleHRlbmRzIEludGVydmFsXzxUeXBlLkludGVydmFsWWVhck1vbnRoPiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihJbnRlcnZhbFVuaXQuWUVBUl9NT05USCk7IH0gfVxuXG5leHBvcnQgaW50ZXJmYWNlIExpc3Q8VCBleHRlbmRzIERhdGFUeXBlID0gYW55PiBleHRlbmRzIERhdGFUeXBlPFR5cGUuTGlzdD4gIHsgVEFycmF5OiBJdGVyYWJsZUFycmF5TGlrZTxUPjsgVFZhbHVlOiBWVHlwZTxUPjsgfVxuZXhwb3J0IGNsYXNzIExpc3Q8VCBleHRlbmRzIERhdGFUeXBlID0gYW55PiBleHRlbmRzIERhdGFUeXBlPFR5cGUuTGlzdCwgeyBbMF06IFQgfT4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfY2hpbGRyZW46IEZpZWxkPFQ+W10pIHtcbiAgICAgICAgc3VwZXIoVHlwZS5MaXN0LCBfY2hpbGRyZW4pO1xuICAgIH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgTGlzdDwke3RoaXMudmFsdWVUeXBlfT5gOyB9XG4gICAgcHVibGljIGdldCBjaGlsZHJlbigpIHsgcmV0dXJuIHRoaXMuX2NoaWxkcmVuOyB9XG4gICAgcHVibGljIGdldCB2YWx1ZVR5cGUoKTogVCB7IHJldHVybiB0aGlzLl9jaGlsZHJlblswXS50eXBlIGFzIFQ7IH1cbiAgICBwdWJsaWMgZ2V0IHZhbHVlRmllbGQoKTogRmllbGQ8VD4geyByZXR1cm4gdGhpcy5fY2hpbGRyZW5bMF0gYXMgRmllbGQ8VD47IH1cbiAgICBwdWJsaWMgZ2V0IEFycmF5VHlwZSgpOiBUWydBcnJheVR5cGUnXSB7IHJldHVybiB0aGlzLnZhbHVlVHlwZS5BcnJheVR5cGU7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogTGlzdCkgPT4ge1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdMaXN0JztcbiAgICB9KShMaXN0LnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RydWN0PFQgZXh0ZW5kcyB7IFtrZXk6IHN0cmluZ106IERhdGFUeXBlOyB9ID0gYW55PiBleHRlbmRzIERhdGFUeXBlPFR5cGUuU3RydWN0PiB7IFRBcnJheTogSXRlcmFibGVBcnJheUxpa2U8Um93TGlrZTxUPj47IFRWYWx1ZTogUm93TGlrZTxUPjsgZGF0YVR5cGVzOiBUOyB9XG5leHBvcnQgY2xhc3MgU3RydWN0PFQgZXh0ZW5kcyB7IFtrZXk6IHN0cmluZ106IERhdGFUeXBlOyB9ID0gYW55PiBleHRlbmRzIERhdGFUeXBlPFR5cGUuU3RydWN0LCBUPiB7XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIF9jaGlsZHJlbjogRmllbGQ8VFtrZXlvZiBUXT5bXSkge1xuICAgICAgICBzdXBlcihUeXBlLlN0cnVjdCwgX2NoaWxkcmVuKTtcbiAgICB9XG4gICAgcHVibGljIGdldCBjaGlsZHJlbigpIHsgcmV0dXJuIHRoaXMuX2NoaWxkcmVuOyB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYFN0cnVjdDwke3RoaXMuX2NoaWxkcmVuLm1hcCgoZikgPT4gZi50eXBlKS5qb2luKGAsIGApfT5gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IFN0cnVjdCkgPT4ge1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdTdHJ1Y3QnO1xuICAgIH0pKFN0cnVjdC5wcm90b3R5cGUpO1xufVxuXG50eXBlIFVuaW9ucyA9IFR5cGUuVW5pb24gfCBUeXBlLkRlbnNlVW5pb24gfCBUeXBlLlNwYXJzZVVuaW9uO1xuaW50ZXJmYWNlIFVuaW9uXzxUIGV4dGVuZHMgVW5pb25zID0gVW5pb25zPiBleHRlbmRzIERhdGFUeXBlPFQ+IHsgVEFycmF5OiBJbnQ4QXJyYXk7IFRWYWx1ZTogYW55W107IH1cbmNsYXNzIFVuaW9uXzxUIGV4dGVuZHMgVW5pb25zID0gVW5pb25zPiBleHRlbmRzIERhdGFUeXBlPFQ+IHtcbiAgICBwcm90ZWN0ZWQgX3R5cGVJZFRvQ2hpbGRJbmRleDogUmVjb3JkPFR5cGUsIG51bWJlcj47XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIF9tb2RlOiBVbmlvbk1vZGUsXG4gICAgICAgICAgICAgICAgcHJvdGVjdGVkIF90eXBlSWRzOiBBcnJvd1R5cGVbXSxcbiAgICAgICAgICAgICAgICBwcm90ZWN0ZWQgX2NoaWxkcmVuOiBGaWVsZDxhbnk+W10pIHtcbiAgICAgICAgc3VwZXIoVHlwZS5VbmlvbiBhcyBULCBfY2hpbGRyZW4pO1xuICAgICAgICB0aGlzLl90eXBlSWRUb0NoaWxkSW5kZXggPSAoX3R5cGVJZHMgfHwgW10pLnJlZHVjZSgodHlwZUlkVG9DaGlsZEluZGV4LCB0eXBlSWQsIGlkeCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICh0eXBlSWRUb0NoaWxkSW5kZXhbdHlwZUlkXSA9IGlkeCkgJiYgdHlwZUlkVG9DaGlsZEluZGV4IHx8IHR5cGVJZFRvQ2hpbGRJbmRleDtcbiAgICAgICAgfSwgT2JqZWN0LmNyZWF0ZShudWxsKSBhcyBSZWNvcmQ8VHlwZSwgbnVtYmVyPik7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgbW9kZSgpIHsgcmV0dXJuIHRoaXMuX21vZGU7IH1cbiAgICBwdWJsaWMgZ2V0IHR5cGVJZHMoKSB7IHJldHVybiB0aGlzLl90eXBlSWRzOyB9XG4gICAgcHVibGljIGdldCBjaGlsZHJlbigpIHsgcmV0dXJuIHRoaXMuX2NoaWxkcmVuOyB9XG4gICAgcHVibGljIGdldCB0eXBlSWRUb0NoaWxkSW5kZXgoKSB7IHJldHVybiB0aGlzLl90eXBlSWRUb0NoaWxkSW5kZXg7IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgJHt0aGlzW1N5bWJvbC50b1N0cmluZ1RhZ119PCR7XG4gICAgICAgIHRoaXMuX2NoaWxkcmVuLm1hcCgoeCkgPT4gYCR7eC50eXBlfWApLmpvaW4oYCB8IGApXG4gICAgfT5gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IFVuaW9uXykgPT4ge1xuICAgICAgICAoPGFueT4gcHJvdG8pLkFycmF5VHlwZSA9IEludDhBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnVW5pb24nO1xuICAgIH0pKFVuaW9uXy5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgeyBVbmlvbl8gYXMgVW5pb24gfTtcblxuZXhwb3J0IGNsYXNzIERlbnNlVW5pb24gZXh0ZW5kcyBVbmlvbl88VHlwZS5EZW5zZVVuaW9uPiB7XG4gICAgY29uc3RydWN0b3IodHlwZUlkczogQXJyb3dUeXBlW10sIGNoaWxkcmVuOiBGaWVsZFtdKSB7XG4gICAgICAgIHN1cGVyKFVuaW9uTW9kZS5EZW5zZSwgdHlwZUlkcywgY2hpbGRyZW4pO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNwYXJzZVVuaW9uIGV4dGVuZHMgVW5pb25fPFR5cGUuU3BhcnNlVW5pb24+IHtcbiAgICBjb25zdHJ1Y3Rvcih0eXBlSWRzOiBBcnJvd1R5cGVbXSwgY2hpbGRyZW46IEZpZWxkW10pIHtcbiAgICAgICAgc3VwZXIoVW5pb25Nb2RlLlNwYXJzZSwgdHlwZUlkcywgY2hpbGRyZW4pO1xuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBGaXhlZFNpemVCaW5hcnkgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkZpeGVkU2l6ZUJpbmFyeT4geyBUQXJyYXk6IFVpbnQ4QXJyYXk7IFRWYWx1ZTogVWludDhBcnJheTsgQXJyYXlUeXBlOiB0eXBlb2YgVWludDhBcnJheTsgfVxuZXhwb3J0IGNsYXNzIEZpeGVkU2l6ZUJpbmFyeSBleHRlbmRzIERhdGFUeXBlPFR5cGUuRml4ZWRTaXplQmluYXJ5PiB7XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIF9ieXRlV2lkdGg6IG51bWJlcikge1xuICAgICAgICBzdXBlcihUeXBlLkZpeGVkU2l6ZUJpbmFyeSk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgYnl0ZVdpZHRoKCkgeyByZXR1cm4gdGhpcy5fYnl0ZVdpZHRoOyB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYEZpeGVkU2l6ZUJpbmFyeVske3RoaXMuYnl0ZVdpZHRofV1gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IEZpeGVkU2l6ZUJpbmFyeSkgPT4ge1xuICAgICAgICAoPGFueT4gcHJvdG8pLkFycmF5VHlwZSA9IFVpbnQ4QXJyYXk7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ0ZpeGVkU2l6ZUJpbmFyeSc7XG4gICAgfSkoRml4ZWRTaXplQmluYXJ5LnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRml4ZWRTaXplTGlzdDxUIGV4dGVuZHMgRGF0YVR5cGUgPSBhbnk+IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5GaXhlZFNpemVMaXN0PiB7IFRBcnJheTogSXRlcmFibGVBcnJheUxpa2U8VFsnVEFycmF5J10+OyBUVmFsdWU6IFZUeXBlPFQ+OyB9XG5leHBvcnQgY2xhc3MgRml4ZWRTaXplTGlzdDxUIGV4dGVuZHMgRGF0YVR5cGUgPSBhbnk+IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5GaXhlZFNpemVMaXN0LCB7IFswXTogVCB9PiB7XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIF9saXN0U2l6ZTogbnVtYmVyLFxuICAgICAgICAgICAgICAgIHByb3RlY3RlZCBfY2hpbGRyZW46IEZpZWxkPFQ+W10pIHtcbiAgICAgICAgc3VwZXIoVHlwZS5GaXhlZFNpemVMaXN0LCBfY2hpbGRyZW4pO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IGxpc3RTaXplKCkgeyByZXR1cm4gdGhpcy5fbGlzdFNpemU7IH1cbiAgICBwdWJsaWMgZ2V0IGNoaWxkcmVuKCkgeyByZXR1cm4gdGhpcy5fY2hpbGRyZW47IH1cbiAgICBwdWJsaWMgZ2V0IHZhbHVlVHlwZSgpOiBUIHsgcmV0dXJuIHRoaXMuY2hpbGRyZW5bMF0udHlwZSBhcyBUOyB9XG4gICAgcHVibGljIGdldCB2YWx1ZUZpZWxkKCk6IEZpZWxkPFQ+IHsgcmV0dXJuIHRoaXMuY2hpbGRyZW5bMF0gYXMgRmllbGQ8VD47IH1cbiAgICBwdWJsaWMgZ2V0IEFycmF5VHlwZSgpOiBUWydBcnJheVR5cGUnXSB7IHJldHVybiB0aGlzLnZhbHVlVHlwZS5BcnJheVR5cGU7IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgRml4ZWRTaXplTGlzdFske3RoaXMuX2xpc3RTaXplfV08JHt0aGlzLnZhbHVlVHlwZX0+YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBGaXhlZFNpemVMaXN0KSA9PiB7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ0ZpeGVkU2l6ZUxpc3QnO1xuICAgIH0pKEZpeGVkU2l6ZUxpc3QucHJvdG90eXBlKTtcbn1cblxuLyogdHNsaW50OmRpc2FibGU6Y2xhc3MtbmFtZSAqL1xuZXhwb3J0IGludGVyZmFjZSBNYXBfPFQgZXh0ZW5kcyB7IFtrZXk6IHN0cmluZ106IERhdGFUeXBlOyB9ID0gYW55PiBleHRlbmRzIERhdGFUeXBlPFR5cGUuTWFwPiB7IFRBcnJheTogVWludDhBcnJheTsgVFZhbHVlOiBSb3dMaWtlPFQ+OyBkYXRhVHlwZXM6IFQ7IH1cbmV4cG9ydCBjbGFzcyBNYXBfPFQgZXh0ZW5kcyB7IFtrZXk6IHN0cmluZ106IERhdGFUeXBlOyB9ID0gYW55PiBleHRlbmRzIERhdGFUeXBlPFR5cGUuTWFwLCBUPiB7XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIF9jaGlsZHJlbjogRmllbGQ8VFtrZXlvZiBUXT5bXSxcbiAgICAgICAgICAgICAgICBwcm90ZWN0ZWQgX2tleXNTb3J0ZWQ6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgICBzdXBlcihUeXBlLk1hcCwgX2NoaWxkcmVuKTtcbiAgICB9XG4gICAgcHVibGljIGdldCBjaGlsZHJlbigpIHsgcmV0dXJuIHRoaXMuX2NoaWxkcmVuOyB9XG4gICAgcHVibGljIGdldCBrZXlzU29ydGVkKCkgeyByZXR1cm4gdGhpcy5fa2V5c1NvcnRlZDsgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBNYXA8JHt0aGlzLmNoaWxkcmVuLmpvaW4oYCwgYCl9PmA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogTWFwXykgPT4ge1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdNYXBfJztcbiAgICB9KShNYXBfLnByb3RvdHlwZSk7XG59XG5cbmNvbnN0IGdldElkID0gKChhdG9taWNEaWN0aW9uYXJ5SWQpID0+ICgpID0+ICsrYXRvbWljRGljdGlvbmFyeUlkKSgtMSk7XG5cbmV4cG9ydCB0eXBlIFRLZXlzID0gSW50OCB8IEludDE2IHwgSW50MzIgfCBVaW50OCB8IFVpbnQxNiB8IFVpbnQzMjtcblxuZXhwb3J0IGludGVyZmFjZSBEaWN0aW9uYXJ5PFQgZXh0ZW5kcyBEYXRhVHlwZSA9IGFueSwgVEtleSBleHRlbmRzIFRLZXlzID0gVEtleXM+IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5EaWN0aW9uYXJ5PiB7IFRBcnJheTogVEtleVsnVEFycmF5J107IFRWYWx1ZTogVFsnVFZhbHVlJ107IH1cbmV4cG9ydCBjbGFzcyBEaWN0aW9uYXJ5PFQgZXh0ZW5kcyBEYXRhVHlwZSA9IGFueSwgVEtleSBleHRlbmRzIFRLZXlzID0gVEtleXM+IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5EaWN0aW9uYXJ5PiB7XG4gICAgcHJvdGVjdGVkIF9pZDogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfaW5kaWNlczogVEtleTtcbiAgICBwcm90ZWN0ZWQgX2RpY3Rpb25hcnk6IFQ7XG4gICAgcHJvdGVjdGVkIF9pc09yZGVyZWQ6IGJvb2xlYW47XG4gICAgLy8gQHRzLWlnbm9yZTtcbiAgICBwdWJsaWMgZGljdGlvbmFyeVZlY3RvcjogVmVjdG9yPFQ+O1xuICAgIGNvbnN0cnVjdG9yKGRpY3Rpb25hcnk6IFQsIGluZGljZXM6IFRLZXksIGlkPzogTG9uZyB8IG51bWJlciB8IG51bGwsIGlzT3JkZXJlZD86IGJvb2xlYW4gfCBudWxsLCBkaWN0aW9uYXJ5VmVjdG9yPzogVmVjdG9yPFQ+KSB7XG4gICAgICAgIHN1cGVyKFR5cGUuRGljdGlvbmFyeSk7XG4gICAgICAgIHRoaXMuX2luZGljZXMgPSBpbmRpY2VzO1xuICAgICAgICB0aGlzLl9kaWN0aW9uYXJ5ID0gZGljdGlvbmFyeTtcbiAgICAgICAgdGhpcy5faXNPcmRlcmVkID0gaXNPcmRlcmVkIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLmRpY3Rpb25hcnlWZWN0b3IgPSBkaWN0aW9uYXJ5VmVjdG9yITtcbiAgICAgICAgdGhpcy5faWQgPSBpZCA9PSBudWxsID8gZ2V0SWQoKSA6IHR5cGVvZiBpZCA9PT0gJ251bWJlcicgPyBpZCA6IGlkLmxvdztcbiAgICB9XG4gICAgcHVibGljIGdldCBpZCgpIHsgcmV0dXJuIHRoaXMuX2lkOyB9XG4gICAgcHVibGljIGdldCBpbmRpY2VzKCkgeyByZXR1cm4gdGhpcy5faW5kaWNlczsgfVxuICAgIHB1YmxpYyBnZXQgZGljdGlvbmFyeSgpIHsgcmV0dXJuIHRoaXMuX2RpY3Rpb25hcnk7IH1cbiAgICBwdWJsaWMgZ2V0IGlzT3JkZXJlZCgpIHsgcmV0dXJuIHRoaXMuX2lzT3JkZXJlZDsgfVxuICAgIHB1YmxpYyBzZXQgY2hpbGRyZW4oXzogVFsnY2hpbGRyZW4nXSkge31cbiAgICBwdWJsaWMgZ2V0IGNoaWxkcmVuKCkgeyByZXR1cm4gdGhpcy5kaWN0aW9uYXJ5LmNoaWxkcmVuOyB9XG4gICAgcHVibGljIGdldCB2YWx1ZVR5cGUoKTogVCB7IHJldHVybiB0aGlzLmRpY3Rpb25hcnkgYXMgVDsgfVxuICAgIHB1YmxpYyBnZXQgQXJyYXlUeXBlKCk6IFRbJ0FycmF5VHlwZSddIHsgcmV0dXJuIHRoaXMuZGljdGlvbmFyeS5BcnJheVR5cGU7IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgRGljdGlvbmFyeTwke3RoaXMuaW5kaWNlc30sICR7dGhpcy5kaWN0aW9uYXJ5fT5gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IERpY3Rpb25hcnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnRGljdGlvbmFyeSc7XG4gICAgfSkoRGljdGlvbmFyeS5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEl0ZXJhYmxlQXJyYXlMaWtlPFQgPSBhbnk+IGV4dGVuZHMgQXJyYXlMaWtlPFQ+LCBJdGVyYWJsZTxUPiB7fVxuZXhwb3J0IHR5cGUgRmxvYXRBcnJheSA9IFVpbnQxNkFycmF5IHwgRmxvYXQzMkFycmF5IHwgRmxvYXQ2NEFycmF5O1xuZXhwb3J0IHR5cGUgSW50QXJyYXkgPSBJbnQ4QXJyYXkgfCBJbnQxNkFycmF5IHwgSW50MzJBcnJheSB8IFVpbnQ4QXJyYXkgfCBVaW50MTZBcnJheSB8IFVpbnQzMkFycmF5O1xuIl19
