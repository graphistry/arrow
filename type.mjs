// Licensed to the Apache Software Foundation (ASF) under one
// or more contributor license agreements.  See the NOTICE file
// distributed with this work for additional information
// regarding copyright ownership.  The ASF licenses this file
// to you under the Apache License, Version 2.0 (the
// "License"); you may not use this file except in compliance
// with the License.  You may obtain a copy of the License at
//
//   http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing,
// software distributed under the License is distributed on an
// "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
// KIND, either express or implied.  See the License for the
// specific language governing permissions and limitations
// under the License.
import { Type, Precision, UnionMode, DateUnit, TimeUnit, IntervalUnit } from './enum';
export class DataType {
    constructor(_children) {
        this._children = _children;
    }
    /** @nocollapse */ static isNull(x) { return x && x.typeId === Type.Null; }
    /** @nocollapse */ static isInt(x) { return x && x.typeId === Type.Int; }
    /** @nocollapse */ static isFloat(x) { return x && x.typeId === Type.Float; }
    /** @nocollapse */ static isBinary(x) { return x && x.typeId === Type.Binary; }
    /** @nocollapse */ static isUtf8(x) { return x && x.typeId === Type.Utf8; }
    /** @nocollapse */ static isBool(x) { return x && x.typeId === Type.Bool; }
    /** @nocollapse */ static isDecimal(x) { return x && x.typeId === Type.Decimal; }
    /** @nocollapse */ static isDate(x) { return x && x.typeId === Type.Date; }
    /** @nocollapse */ static isTime(x) { return x && x.typeId === Type.Time; }
    /** @nocollapse */ static isTimestamp(x) { return x && x.typeId === Type.Timestamp; }
    /** @nocollapse */ static isInterval(x) { return x && x.typeId === Type.Interval; }
    /** @nocollapse */ static isList(x) { return x && x.typeId === Type.List; }
    /** @nocollapse */ static isStruct(x) { return x && x.typeId === Type.Struct; }
    /** @nocollapse */ static isUnion(x) { return x && x.typeId === Type.Union; }
    /** @nocollapse */ static isFixedSizeBinary(x) { return x && x.typeId === Type.FixedSizeBinary; }
    /** @nocollapse */ static isFixedSizeList(x) { return x && x.typeId === Type.FixedSizeList; }
    /** @nocollapse */ static isMap(x) { return x && x.typeId === Type.Map; }
    /** @nocollapse */ static isDictionary(x) { return x && x.typeId === Type.Dictionary; }
    get children() { return this._children; }
    get typeId() { return Type.NONE; }
}
DataType[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Array;
    return proto[Symbol.toStringTag] = 'DataType';
})(DataType.prototype);
export class Null extends DataType {
    toString() { return `Null`; }
    get typeId() { return Type.Null; }
}
Null[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Null';
})(Null.prototype);
class Int_ extends DataType {
    constructor(_isSigned, _bitWidth) {
        super();
        this._isSigned = _isSigned;
        this._bitWidth = _bitWidth;
    }
    get typeId() { return Type.Int; }
    get isSigned() { return this._isSigned; }
    get bitWidth() { return this._bitWidth; }
    get ArrayType() {
        switch (this._bitWidth) {
            case 8: return (this._isSigned ? Int8Array : Uint8Array);
            case 16: return (this._isSigned ? Int16Array : Uint16Array);
            case 32: return (this._isSigned ? Int32Array : Uint32Array);
            case 64: return (this._isSigned ? Int32Array : Uint32Array);
        }
        throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`);
    }
    toString() { return `${this._isSigned ? `I` : `Ui`}nt${this._bitWidth}`; }
}
Int_[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Int';
})(Int_.prototype);
export { Int_ as Int };
export class Int8 extends Int_ {
    constructor() { super(true, 8); }
}
export class Int16 extends Int_ {
    constructor() { super(true, 16); }
}
export class Int32 extends Int_ {
    constructor() { super(true, 32); }
}
export class Int64 extends Int_ {
    constructor() { super(true, 64); }
}
export class Uint8 extends Int_ {
    constructor() { super(false, 8); }
}
export class Uint16 extends Int_ {
    constructor() { super(false, 16); }
}
export class Uint32 extends Int_ {
    constructor() { super(false, 32); }
}
export class Uint64 extends Int_ {
    constructor() { super(false, 64); }
}
export class Float extends DataType {
    constructor(_precision) {
        super();
        this._precision = _precision;
    }
    get typeId() { return Type.Float; }
    get precision() { return this._precision; }
    // @ts-ignore
    get ArrayType() {
        switch (this.precision) {
            case Precision.HALF: return Uint16Array;
            case Precision.SINGLE: return Float32Array;
            case Precision.DOUBLE: return Float64Array;
        }
        throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`);
    }
    toString() { return `Float${(this.precision << 5) || 16}`; }
}
Float[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Float';
})(Float.prototype);
export class Float16 extends Float {
    constructor() { super(Precision.HALF); }
}
export class Float32 extends Float {
    constructor() { super(Precision.SINGLE); }
}
export class Float64 extends Float {
    constructor() { super(Precision.DOUBLE); }
}
export class Binary extends DataType {
    constructor() {
        super();
    }
    get typeId() { return Type.Binary; }
    toString() { return `Binary`; }
}
Binary[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'Binary';
})(Binary.prototype);
export class Utf8 extends DataType {
    constructor() {
        super();
    }
    get typeId() { return Type.Utf8; }
    toString() { return `Utf8`; }
}
Utf8[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'Utf8';
})(Utf8.prototype);
export class Bool extends DataType {
    constructor() {
        super();
    }
    get typeId() { return Type.Bool; }
    toString() { return `Bool`; }
}
Bool[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'Bool';
})(Bool.prototype);
export class Decimal extends DataType {
    constructor(_scale, _precision) {
        super();
        this._scale = _scale;
        this._precision = _precision;
    }
    get typeId() { return Type.Decimal; }
    get scale() { return this._scale; }
    get precision() { return this._precision; }
    toString() { return `Decimal[${this._precision}e${this._scale > 0 ? `+` : ``}${this._scale}]`; }
}
Decimal[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint32Array;
    return proto[Symbol.toStringTag] = 'Decimal';
})(Decimal.prototype);
export class Date_ extends DataType {
    constructor(_unit) {
        super();
        this._unit = _unit;
    }
    get typeId() { return Type.Date; }
    get unit() { return this._unit; }
    toString() { return `Date${(this._unit + 1) * 32}<${DateUnit[this._unit]}>`; }
}
Date_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int32Array;
    return proto[Symbol.toStringTag] = 'Date';
})(Date_.prototype);
export class DateDay extends Date_ {
    constructor() { super(DateUnit.DAY); }
}
export class DateMillisecond extends Date_ {
    constructor() { super(DateUnit.MILLISECOND); }
}
class Time_ extends DataType {
    constructor(_unit, _bitWidth) {
        super();
        this._unit = _unit;
        this._bitWidth = _bitWidth;
    }
    get typeId() { return Type.Time; }
    get unit() { return this._unit; }
    get bitWidth() { return this._bitWidth; }
    toString() { return `Time${this._bitWidth}<${TimeUnit[this._unit]}>`; }
}
Time_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint32Array;
    return proto[Symbol.toStringTag] = 'Time';
})(Time_.prototype);
export { Time_ as Time };
export class TimeSecond extends Time_ {
    constructor() { super(TimeUnit.SECOND, 32); }
}
export class TimeMillisecond extends Time_ {
    constructor() { super(TimeUnit.MILLISECOND, 32); }
}
export class TimeMicrosecond extends Time_ {
    constructor() { super(TimeUnit.MICROSECOND, 64); }
}
export class TimeNanosecond extends Time_ {
    constructor() { super(TimeUnit.NANOSECOND, 64); }
}
class Timestamp_ extends DataType {
    constructor(_unit, _timezone) {
        super();
        this._unit = _unit;
        this._timezone = _timezone;
    }
    get typeId() { return Type.Timestamp; }
    get unit() { return this._unit; }
    get timezone() { return this._timezone; }
    toString() { return `Timestamp<${TimeUnit[this._unit]}${this._timezone ? `, ${this._timezone}` : ``}>`; }
}
Timestamp_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int32Array;
    return proto[Symbol.toStringTag] = 'Timestamp';
})(Timestamp_.prototype);
export { Timestamp_ as Timestamp };
export class TimestampSecond extends Timestamp_ {
    constructor(timezone) { super(TimeUnit.SECOND, timezone); }
}
export class TimestampMillisecond extends Timestamp_ {
    constructor(timezone) { super(TimeUnit.MILLISECOND, timezone); }
}
export class TimestampMicrosecond extends Timestamp_ {
    constructor(timezone) { super(TimeUnit.MICROSECOND, timezone); }
}
export class TimestampNanosecond extends Timestamp_ {
    constructor(timezone) { super(TimeUnit.NANOSECOND, timezone); }
}
class Interval_ extends DataType {
    constructor(_unit) {
        super();
        this._unit = _unit;
    }
    get typeId() { return Type.Interval; }
    get unit() { return this._unit; }
    toString() { return `Interval<${IntervalUnit[this._unit]}>`; }
}
Interval_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int32Array;
    return proto[Symbol.toStringTag] = 'Interval';
})(Interval_.prototype);
export { Interval_ as Interval };
export class IntervalDayTime extends Interval_ {
    constructor() { super(IntervalUnit.DAY_TIME); }
}
export class IntervalYearMonth extends Interval_ {
    constructor() { super(IntervalUnit.YEAR_MONTH); }
}
export class List extends DataType {
    constructor(child) {
        super([child]);
    }
    get typeId() { return Type.List; }
    toString() { return `List<${this.valueType}>`; }
    get children() { return this._children; }
    get valueType() { return this._children[0].type; }
    get valueField() { return this._children[0]; }
    get ArrayType() { return this.valueType.ArrayType; }
}
List[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'List';
})(List.prototype);
export class Struct extends DataType {
    constructor(_children) {
        super(_children);
        this._children = _children;
    }
    get typeId() { return Type.Struct; }
    get children() { return this._children; }
    toString() { return `Struct<${this._children.map((f) => f.type).join(`, `)}>`; }
}
Struct[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Struct';
})(Struct.prototype);
class Union_ extends DataType {
    constructor(_mode, _typeIds, _children) {
        super(_children);
        this._mode = _mode;
        this._children = _children;
        this._typeIds = _typeIds = Int32Array.from(_typeIds);
        this._typeIdToChildIndex = _typeIds.reduce((typeIdToChildIndex, typeId, idx) => {
            return (typeIdToChildIndex[typeId] = idx) && typeIdToChildIndex || typeIdToChildIndex;
        }, Object.create(null));
    }
    get typeId() { return Type.Union; }
    get mode() { return this._mode; }
    get typeIds() { return this._typeIds; }
    get children() { return this._children; }
    get typeIdToChildIndex() { return this._typeIdToChildIndex; }
    toString() {
        return `${this[Symbol.toStringTag]}<${this._children.map((x) => `${x.type}`).join(` | `)}>`;
    }
}
Union_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int32Array;
    return proto[Symbol.toStringTag] = 'Union';
})(Union_.prototype);
export { Union_ as Union };
export class DenseUnion extends Union_ {
    constructor(typeIds, children) {
        super(UnionMode.Dense, typeIds, children);
    }
}
export class SparseUnion extends Union_ {
    constructor(typeIds, children) {
        super(UnionMode.Sparse, typeIds, children);
    }
}
export class FixedSizeBinary extends DataType {
    constructor(_byteWidth) {
        super();
        this._byteWidth = _byteWidth;
    }
    get typeId() { return Type.FixedSizeBinary; }
    get byteWidth() { return this._byteWidth; }
    toString() { return `FixedSizeBinary[${this.byteWidth}]`; }
}
FixedSizeBinary[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'FixedSizeBinary';
})(FixedSizeBinary.prototype);
export class FixedSizeList extends DataType {
    constructor(_listSize, child) {
        super([child]);
        this._listSize = _listSize;
    }
    get typeId() { return Type.FixedSizeList; }
    get listSize() { return this._listSize; }
    get children() { return this._children; }
    get valueType() { return this.children[0].type; }
    get valueField() { return this.children[0]; }
    get ArrayType() { return this.valueType.ArrayType; }
    toString() { return `FixedSizeList[${this._listSize}]<${this.valueType}>`; }
}
FixedSizeList[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'FixedSizeList';
})(FixedSizeList.prototype);
export class Map_ extends DataType {
    constructor(_children, _keysSorted = false) {
        super(_children);
        this._children = _children;
        this._keysSorted = _keysSorted;
    }
    get typeId() { return Type.Map; }
    get children() { return this._children; }
    get keysSorted() { return this._keysSorted; }
    toString() { return `Map<${this.children.join(`, `)}>`; }
}
Map_[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Map_';
})(Map_.prototype);
const getId = ((atomicDictionaryId) => () => ++atomicDictionaryId)(-1);
export class Dictionary extends DataType {
    constructor(dictionary, indices, id, isOrdered, dictionaryVector) {
        super();
        this._indices = indices;
        this._dictionary = dictionary;
        this._isOrdered = isOrdered || false;
        this._dictionaryVector = dictionaryVector;
        this._id = id == null ? getId() : typeof id === 'number' ? id : id.low;
    }
    set dictionaryVector(v) { this._dictionaryVector = v; }
    get dictionaryVector() { return this._dictionaryVector; }
    get typeId() { return Type.Dictionary; }
    get id() { return this._id; }
    get indices() { return this._indices; }
    get dictionary() { return this._dictionary; }
    get isOrdered() { return this._isOrdered; }
    set children(_) { }
    get children() { return this.dictionary.children; }
    get valueType() { return this.dictionary; }
    get ArrayType() { return this.dictionary.ArrayType; }
    toString() { return `Dictionary<${this.indices}, ${this.dictionary}>`; }
}
Dictionary[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Dictionary';
})(Dictionary.prototype);

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInR5cGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsNkRBQTZEO0FBQzdELCtEQUErRDtBQUMvRCx3REFBd0Q7QUFDeEQsNkRBQTZEO0FBQzdELG9EQUFvRDtBQUNwRCw2REFBNkQ7QUFDN0QsNkRBQTZEO0FBQzdELEVBQUU7QUFDRiwrQ0FBK0M7QUFDL0MsRUFBRTtBQUNGLDZEQUE2RDtBQUM3RCw4REFBOEQ7QUFDOUQseURBQXlEO0FBQ3pELDREQUE0RDtBQUM1RCwwREFBMEQ7QUFDMUQscUJBQXFCO0FBV3JCLE9BQU8sRUFDSCxJQUFJLEVBQ0osU0FBUyxFQUFFLFNBQVMsRUFDcEIsUUFBUSxFQUFFLFFBQVEsRUFBRSxZQUFZLEVBQ25DLE1BQU0sUUFBUSxDQUFDO0FBb0JoQixNQUFNLE9BQU8sUUFBUTtJQTJCakIsWUFBc0IsU0FBK0M7UUFBL0MsY0FBUyxHQUFULFNBQVMsQ0FBc0M7SUFBRyxDQUFDO0lBdEJ6RSxrQkFBa0IsQ0FBQyxNQUFNLENBQVksTUFBTSxDQUFFLENBQU0sSUFBMEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQVksQ0FBQztJQUM3SCxrQkFBa0IsQ0FBQyxNQUFNLENBQWEsS0FBSyxDQUFFLENBQU0sSUFBMEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQWEsQ0FBQztJQUM3SCxrQkFBa0IsQ0FBQyxNQUFNLENBQVcsT0FBTyxDQUFFLENBQU0sSUFBMEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQVcsQ0FBQztJQUM3SCxrQkFBa0IsQ0FBQyxNQUFNLENBQVUsUUFBUSxDQUFFLENBQU0sSUFBMEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQVUsQ0FBQztJQUM3SCxrQkFBa0IsQ0FBQyxNQUFNLENBQVksTUFBTSxDQUFFLENBQU0sSUFBMEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQVksQ0FBQztJQUM3SCxrQkFBa0IsQ0FBQyxNQUFNLENBQVksTUFBTSxDQUFFLENBQU0sSUFBMEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQVksQ0FBQztJQUM3SCxrQkFBa0IsQ0FBQyxNQUFNLENBQVMsU0FBUyxDQUFFLENBQU0sSUFBMEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQVMsQ0FBQztJQUM3SCxrQkFBa0IsQ0FBQyxNQUFNLENBQVksTUFBTSxDQUFFLENBQU0sSUFBMEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQVksQ0FBQztJQUM3SCxrQkFBa0IsQ0FBQyxNQUFNLENBQVksTUFBTSxDQUFFLENBQU0sSUFBMEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQVksQ0FBQztJQUM3SCxrQkFBa0IsQ0FBQyxNQUFNLENBQU8sV0FBVyxDQUFFLENBQU0sSUFBMEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQU8sQ0FBQztJQUM3SCxrQkFBa0IsQ0FBQyxNQUFNLENBQVEsVUFBVSxDQUFFLENBQU0sSUFBMEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQVEsQ0FBQztJQUM3SCxrQkFBa0IsQ0FBQyxNQUFNLENBQVksTUFBTSxDQUFFLENBQU0sSUFBMEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQVksQ0FBQztJ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USxPQUFPLElBQUksQ0FBQyxVQUFlLENBQUMsQ0FBQyxDQUFDO0lBQzFELElBQVcsU0FBUyxLQUFxQixPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztJQUNyRSxRQUFRLEtBQUssT0FBTyxjQUFjLElBQUksQ0FBQyxPQUFPLEtBQUssSUFBSSxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUMsQ0FBQzs7QUFDOUQsV0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQWlCLEVBQUUsRUFBRTtJQUMzRCxPQUFPLEtBQUssQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsWUFBWSxDQUFDO0FBQ3BELENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsQ0FBQyIsImZpbGUiOiJ0eXBlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxuLy8gb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4vLyBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuLy8gcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxuLy8gdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuLy8gXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4vLyB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4vLyBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuLy8gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbi8vIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuLy8gc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuLy8gdW5kZXIgdGhlIExpY2Vuc2UuXG5cbi8qIHRzbGludDpkaXNhYmxlOmNsYXNzLW5hbWUgKi9cblxuaW1wb3J0IHsgRmllbGQgfSBmcm9tICcuL3NjaGVtYSc7XG5pbXBvcnQgeyBWZWN0b3IgfSBmcm9tICcuL3ZlY3Rvcic7XG5pbXBvcnQgeyBmbGF0YnVmZmVycyB9IGZyb20gJ2ZsYXRidWZmZXJzJztcbmltcG9ydCB7IFZlY3RvciBhcyBWVHlwZSB9IGZyb20gJy4vaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBBcnJheUJ1ZmZlclZpZXdDb25zdHJ1Y3RvciB9IGZyb20gJy4vaW50ZXJmYWNlcyc7XG5cbmltcG9ydCBMb25nID0gZmxhdGJ1ZmZlcnMuTG9uZztcbmltcG9ydCB7XG4gICAgVHlwZSxcbiAgICBQcmVjaXNpb24sIFVuaW9uTW9kZSxcbiAgICBEYXRlVW5pdCwgVGltZVVuaXQsIEludGVydmFsVW5pdFxufSBmcm9tICcuL2VudW0nO1xuXG5leHBvcnQgdHlwZSBUaW1lQml0V2lkdGggPSAzMiB8IDY0O1xuZXhwb3J0IHR5cGUgSW50Qml0V2lkdGggPSA4IHwgMTYgfCAzMiB8IDY0O1xuZXhwb3J0IHR5cGUgSXNTaWduZWQgPSB7ICd0cnVlJzogdHJ1ZTsgJ2ZhbHNlJzogZmFsc2UgfTtcblxuZXhwb3J0IHR5cGUgUm93TGlrZTxUIGV4dGVuZHMgeyBba2V5OiBzdHJpbmddOiBEYXRhVHlwZTsgfT4gPVxuICAgICAgeyByZWFkb25seSBsZW5ndGg6IG51bWJlciB9XG4gICAgJiAoIEl0ZXJhYmxlPFRba2V5b2YgVF1bJ1RWYWx1ZSddPiApXG4gICAgJiB7IFtQIGluIGtleW9mIFRdOiBUW1BdWydUVmFsdWUnXSB9XG4gICAgJiB7IGdldDxLIGV4dGVuZHMga2V5b2YgVD4oa2V5OiBLKTogVFtLXVsnVFZhbHVlJ107IH1cbiAgICA7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGF0YVR5cGU8VFR5cGUgZXh0ZW5kcyBUeXBlID0gVHlwZT4ge1xuICAgIHJlYWRvbmx5IFRUeXBlOiBUVHlwZTtcbiAgICByZWFkb25seSBUQXJyYXk6IGFueTtcbiAgICByZWFkb25seSBUVmFsdWU6IGFueTtcbiAgICByZWFkb25seSBBcnJheVR5cGU6IGFueTtcbn1cblxuZXhwb3J0IGNsYXNzIERhdGFUeXBlPFRUeXBlIGV4dGVuZHMgVHlwZSA9IFR5cGUsIFRDaGlsZHJlbiBleHRlbmRzIHsgW2tleTogc3RyaW5nXTogRGF0YVR5cGUgfSA9IGFueT4ge1xuXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHB1YmxpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXTogc3RyaW5nO1xuXG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICAgICAgIGlzTnVsbCAoeDogYW55KTogeCBpcyBOdWxsICAgICAgICAgICAgeyByZXR1cm4geCAmJiB4LnR5cGVJZCA9PT0gVHlwZS5OdWxsOyAgICAgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICAgICAgIGlzSW50ICh4OiBhbnkpOiB4IGlzIEludF8gICAgICAgICAgICB7IHJldHVybiB4ICYmIHgudHlwZUlkID09PSBUeXBlLkludDsgICAgICAgICAgICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgICAgIGlzRmxvYXQgKHg6IGFueSk6IHggaXMgRmxvYXQgICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC50eXBlSWQgPT09IFR5cGUuRmxvYXQ7ICAgICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICAgICBpc0JpbmFyeSAoeDogYW55KTogeCBpcyBCaW5hcnkgICAgICAgICAgeyByZXR1cm4geCAmJiB4LnR5cGVJZCA9PT0gVHlwZS5CaW5hcnk7ICAgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICAgICAgaXNVdGY4ICh4OiBhbnkpOiB4IGlzIFV0ZjggICAgICAgICAgICB7IHJldHVybiB4ICYmIHgudHlwZUlkID09PSBUeXBlLlV0Zjg7ICAgICAgICAgICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgICAgICBpc0Jvb2wgKHg6IGFueSk6IHggaXMgQm9vbCAgICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC50eXBlSWQgPT09IFR5cGUuQm9vbDsgICAgICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICAgIGlzRGVjaW1hbCAoeDogYW55KTogeCBpcyBEZWNpbWFsICAgICAgICAgeyByZXR1cm4geCAmJiB4LnR5cGVJZCA9PT0gVHlwZS5EZWNpbWFsOyAgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICAgICAgaXNEYXRlICh4OiBhbnkpOiB4IGlzIERhdGVfICAgICAgICAgICB7IHJldHVybiB4ICYmIHgudHlwZUlkID09PSBUeXBlLkRhdGU7ICAgICAgICAgICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgICAgICBpc1RpbWUgKHg6IGFueSk6IHggaXMgVGltZV8gICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC50eXBlSWQgPT09IFR5cGUuVGltZTsgICAgICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICBpc1RpbWVzdGFtcCAoeDogYW55KTogeCBpcyBUaW1lc3RhbXBfICAgICAgeyByZXR1cm4geCAmJiB4LnR5cGVJZCA9PT0gVHlwZS5UaW1lc3RhbXA7ICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICBpc0ludGVydmFsICh4OiBhbnkpOiB4IGlzIEludGVydmFsXyAgICAgICB7IHJldHVybiB4ICYmIHgudHlwZUlkID09PSBUeXBlLkludGVydmFsOyAgICAgICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgICAgICBpc0xpc3QgKHg6IGFueSk6IHggaXMgTGlzdCAgICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC50eXBlSWQgPT09IFR5cGUuTGlzdDsgICAgICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICAgICBpc1N0cnVjdCAoeDogYW55KTogeCBpcyBTdHJ1Y3QgICAgICAgICAgeyByZXR1cm4geCAmJiB4LnR5cGVJZCA9PT0gVHlwZS5TdHJ1Y3Q7ICAgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICAgICBpc1VuaW9uICh4OiBhbnkpOiB4IGlzIFVuaW9uXyAgICAgICAgICB7IHJldHVybiB4ICYmIHgudHlwZUlkID09PSBUeXBlLlVuaW9uOyAgICAgICAgICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgaXNGaXhlZFNpemVCaW5hcnkgKHg6IGFueSk6IHggaXMgRml4ZWRTaXplQmluYXJ5IHsgcmV0dXJuIHggJiYgeC50eXBlSWQgPT09IFR5cGUuRml4ZWRTaXplQmluYXJ5OyB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgIGlzRml4ZWRTaXplTGlzdCAoeDogYW55KTogeCBpcyBGaXhlZFNpemVMaXN0ICAgeyByZXR1cm4geCAmJiB4LnR5cGVJZCA9PT0gVHlwZS5GaXhlZFNpemVMaXN0OyAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICAgICAgIGlzTWFwICh4OiBhbnkpOiB4IGlzIE1hcF8gICAgICAgICAgICB7IHJldHVybiB4ICYmIHgudHlwZUlkID09PSBUeXBlLk1hcDsgICAgICAgICAgICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICBpc0RpY3Rpb25hcnkgKHg6IGFueSk6IHggaXMgRGljdGlvbmFyeSAgICAgIHsgcmV0dXJuIHggJiYgeC50eXBlSWQgPT09IFR5cGUuRGljdGlvbmFyeTsgICAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGNoaWxkcmVuKCkgeyByZXR1cm4gdGhpcy5fY2hpbGRyZW47IH1cbiAgICBwdWJsaWMgZ2V0IHR5cGVJZCgpOiBUVHlwZSB7IHJldHVybiA8YW55PiBUeXBlLk5PTkU7IH1cblxuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfY2hpbGRyZW4/OiBGaWVsZDxUQ2hpbGRyZW5ba2V5b2YgVENoaWxkcmVuXT5bXSkge31cblxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBEYXRhVHlwZSkgPT4ge1xuICAgICAgICAoPGFueT4gcHJvdG8pLkFycmF5VHlwZSA9IEFycmF5O1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdEYXRhVHlwZSc7XG4gICAgfSkoRGF0YVR5cGUucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBOdWxsIGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5OdWxsPiB7IFRBcnJheTogdm9pZDsgVFZhbHVlOiBudWxsOyB9XG5leHBvcnQgY2xhc3MgTnVsbCBleHRlbmRzIERhdGFUeXBlPFR5cGUuTnVsbD4ge1xuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBOdWxsYDsgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkKCkgeyByZXR1cm4gVHlwZS5OdWxsIGFzIFR5cGUuTnVsbDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBOdWxsKSA9PiB7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ051bGwnO1xuICAgIH0pKE51bGwucHJvdG90eXBlKTtcbn1cblxudHlwZSBJbnRzID0gVHlwZS5JbnQgfCBUeXBlLkludDggfCBUeXBlLkludDE2IHwgVHlwZS5JbnQzMiB8IFR5cGUuSW50NjQgfCBUeXBlLlVpbnQ4IHwgVHlwZS5VaW50MTYgfCBUeXBlLlVpbnQzMiB8IFR5cGUuVWludDY0O1xudHlwZSBJVHlwZSA9IHtcbiAgICBbVHlwZS5JbnQgICBdOiB7IGJpdFdpZHRoOiBJbnRCaXRXaWR0aDsgaXNTaWduZWQ6IHRydWUgfCBmYWxzZTsgVEFycmF5OiBJbnRBcnJheTsgICAgVFZhbHVlOiBudW1iZXIgfCBJbnQzMkFycmF5IHwgVWludDMyQXJyYXk7IH07XG4gICAgW1R5cGUuSW50OCAgXTogeyBiaXRXaWR0aDogICAgICAgICAgIDg7IGlzU2lnbmVkOiB0cnVlOyAgICAgICAgIFRBcnJheTogSW50OEFycmF5OyAgIFRWYWx1ZTogbnVtYmVyOyAgICAgICAgICAgIH07XG4gICAgW1R5cGUuSW50MTYgXTogeyBiaXRXaWR0aDogICAgICAgICAgMTY7IGlzU2lnbmVkOiB0cnVlOyAgICAgICAgIFRBcnJheTogSW50MTZBcnJheTsgIFRWYWx1ZTogbnVtYmVyOyAgICAgICAgICAgIH07XG4gICAgW1R5cGUuSW50MzIgXTogeyBiaXRXaWR0aDogICAgICAgICAgMzI7IGlzU2lnbmVkOiB0cnVlOyAgICAgICAgIFRBcnJheTogSW50MzJBcnJheTsgIFRWYWx1ZTogbnVtYmVyOyAgICAgICAgICAgIH07XG4gICAgW1R5cGUuSW50NjQgXTogeyBiaXRXaWR0aDogICAgICAgICAgNjQ7IGlzU2lnbmVkOiB0cnVlOyAgICAgICAgIFRBcnJheTogSW50MzJBcnJheTsgIFRWYWx1ZTogSW50MzJBcnJheTsgICAgICAgIH07XG4gICAgW1R5cGUuVWludDggXTogeyBiaXRXaWR0aDogICAgICAgICAgIDg7IGlzU2lnbmVkOiBmYWxzZTsgICAgICAgIFRBcnJheTogVWludDhBcnJheTsgIFRWYWx1ZTogbnVtYmVyOyAgICAgICAgICAgIH07XG4gICAgW1R5cGUuVWludDE2XTogeyBiaXRXaWR0aDogICAgICAgICAgMTY7IGlzU2lnbmVkOiBmYWxzZTsgICAgICAgIFRBcnJheTogVWludDE2QXJyYXk7IFRWYWx1ZTogbnVtYmVyOyAgICAgICAgICAgIH07XG4gICAgW1R5cGUuVWludDMyXTogeyBiaXRXaWR0aDogICAgICAgICAgMzI7IGlzU2lnbmVkOiBmYWxzZTsgICAgICAgIFRBcnJheTogVWludDMyQXJyYXk7IFRWYWx1ZTogbnVtYmVyOyAgICAgICAgICAgIH07XG4gICAgW1R5cGUuVWludDY0XTogeyBiaXRXaWR0aDogICAgICAgICAgNjQ7IGlzU2lnbmVkOiBmYWxzZTsgICAgICAgIFRBcnJheTogVWludDMyQXJyYXk7IFRWYWx1ZTogVWludDMyQXJyYXk7ICAgICAgIH07XG59O1xuXG5pbnRlcmZhY2UgSW50XzxUIGV4dGVuZHMgSW50cyA9IEludHM+IGV4dGVuZHMgRGF0YVR5cGU8VD4geyBUQXJyYXk6IElUeXBlW1RdWydUQXJyYXknXTsgVFZhbHVlOiBJVHlwZVtUXVsnVFZhbHVlJ107IH1cbmNsYXNzIEludF88VCBleHRlbmRzIEludHMgPSBJbnRzPiBleHRlbmRzIERhdGFUeXBlPFQ+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX2lzU2lnbmVkOiBJVHlwZVtUXVsnaXNTaWduZWQnXSxcbiAgICAgICAgICAgICAgICBwcm90ZWN0ZWQgX2JpdFdpZHRoOiBJVHlwZVtUXVsnYml0V2lkdGgnXSkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHR5cGVJZCgpIHsgcmV0dXJuIFR5cGUuSW50IGFzIFQ7IH1cbiAgICBwdWJsaWMgZ2V0IGlzU2lnbmVkKCkgeyByZXR1cm4gdGhpcy5faXNTaWduZWQ7IH1cbiAgICBwdWJsaWMgZ2V0IGJpdFdpZHRoKCkgeyByZXR1cm4gdGhpcy5fYml0V2lkdGg7IH1cbiAgICBwdWJsaWMgZ2V0IEFycmF5VHlwZSgpOiBBcnJheUJ1ZmZlclZpZXdDb25zdHJ1Y3RvcjxJVHlwZVtUXVsnVEFycmF5J10+IHtcbiAgICAgICAgc3dpdGNoICh0aGlzLl9iaXRXaWR0aCkge1xuICAgICAgICAgICAgY2FzZSAgODogcmV0dXJuICh0aGlzLl9pc1NpZ25lZCA/ICBJbnQ4QXJyYXkgOiAgVWludDhBcnJheSkgYXMgYW55O1xuICAgICAgICAgICAgY2FzZSAxNjogcmV0dXJuICh0aGlzLl9pc1NpZ25lZCA/IEludDE2QXJyYXkgOiBVaW50MTZBcnJheSkgYXMgYW55O1xuICAgICAgICAgICAgY2FzZSAzMjogcmV0dXJuICh0aGlzLl9pc1NpZ25lZCA/IEludDMyQXJyYXkgOiBVaW50MzJBcnJheSkgYXMgYW55O1xuICAgICAgICAgICAgY2FzZSA2NDogcmV0dXJuICh0aGlzLl9pc1NpZ25lZCA/IEludDMyQXJyYXkgOiBVaW50MzJBcnJheSkgYXMgYW55O1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5yZWNvZ25pemVkICR7dGhpc1tTeW1ib2wudG9TdHJpbmdUYWddfSB0eXBlYCk7XG4gICAgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGAke3RoaXMuX2lzU2lnbmVkID8gYElgIDogYFVpYH1udCR7dGhpcy5fYml0V2lkdGh9YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBJbnRfKSA9PiB7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ0ludCc7XG4gICAgfSkoSW50Xy5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgeyBJbnRfIGFzIEludCB9O1xuXG5leHBvcnQgY2xhc3MgSW50OCBleHRlbmRzIEludF88VHlwZS5JbnQ4PiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcih0cnVlLCA4KTsgfSB9XG5leHBvcnQgY2xhc3MgSW50MTYgZXh0ZW5kcyBJbnRfPFR5cGUuSW50MTY+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKHRydWUsIDE2KTsgfSB9XG5leHBvcnQgY2xhc3MgSW50MzIgZXh0ZW5kcyBJbnRfPFR5cGUuSW50MzI+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKHRydWUsIDMyKTsgfSB9XG5leHBvcnQgY2xhc3MgSW50NjQgZXh0ZW5kcyBJbnRfPFR5cGUuSW50NjQ+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKHRydWUsIDY0KTsgfSB9XG5leHBvcnQgY2xhc3MgVWludDggZXh0ZW5kcyBJbnRfPFR5cGUuVWludDg+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKGZhbHNlLCA4KTsgfSB9XG5leHBvcnQgY2xhc3MgVWludDE2IGV4dGVuZHMgSW50XzxUeXBlLlVpbnQxNj4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoZmFsc2UsIDE2KTsgfSB9XG5leHBvcnQgY2xhc3MgVWludDMyIGV4dGVuZHMgSW50XzxUeXBlLlVpbnQzMj4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoZmFsc2UsIDMyKTsgfSB9XG5leHBvcnQgY2xhc3MgVWludDY0IGV4dGVuZHMgSW50XzxUeXBlLlVpbnQ2ND4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoZmFsc2UsIDY0KTsgfSB9XG5cbnR5cGUgRmxvYXRzID0gVHlwZS5GbG9hdCB8IFR5cGUuRmxvYXQxNiB8IFR5cGUuRmxvYXQzMiB8IFR5cGUuRmxvYXQ2NDtcbnR5cGUgRlR5cGUgPSB7XG4gICAgW1R5cGUuRmxvYXQgIF06IHsgcHJlY2lzaW9uOiBQcmVjaXNpb247ICAgICAgICBUQXJyYXk6IEZsb2F0QXJyYXk7ICAgIFRWYWx1ZTogbnVtYmVyOyB9O1xuICAgIFtUeXBlLkZsb2F0MTZdOiB7IHByZWNpc2lvbjogUHJlY2lzaW9uLkhBTEY7ICAgVEFycmF5OiBVaW50MTZBcnJheTsgICBUVmFsdWU6IG51bWJlcjsgfTtcbiAgICBbVHlwZS5GbG9hdDMyXTogeyBwcmVjaXNpb246IFByZWNpc2lvbi5TSU5HTEU7IFRBcnJheTogRmxvYXQzMkFycmF5OyAgVFZhbHVlOiBudW1iZXI7IH07XG4gICAgW1R5cGUuRmxvYXQ2NF06IHsgcHJlY2lzaW9uOiBQcmVjaXNpb24uRE9VQkxFOyBUQXJyYXk6IEZsb2F0MzJBcnJheTsgIFRWYWx1ZTogbnVtYmVyOyB9O1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBGbG9hdDxUIGV4dGVuZHMgRmxvYXRzID0gRmxvYXRzPiBleHRlbmRzIERhdGFUeXBlPFQ+IHsgVEFycmF5OiBGVHlwZVtUXVsnVEFycmF5J107IFRWYWx1ZTogbnVtYmVyOyB9XG5leHBvcnQgY2xhc3MgRmxvYXQ8VCBleHRlbmRzIEZsb2F0cyA9IEZsb2F0cz4gZXh0ZW5kcyBEYXRhVHlwZTxUPiB7XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIF9wcmVjaXNpb246IFByZWNpc2lvbikge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHR5cGVJZCgpIHsgcmV0dXJuIFR5cGUuRmxvYXQgYXMgVDsgfVxuICAgIHB1YmxpYyBnZXQgcHJlY2lzaW9uKCkgeyByZXR1cm4gdGhpcy5fcHJlY2lzaW9uOyB9XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHB1YmxpYyBnZXQgQXJyYXlUeXBlKCk6IEFycmF5QnVmZmVyVmlld0NvbnN0cnVjdG9yPEZUeXBlW1RdWydUQXJyYXknXT4ge1xuICAgICAgICBzd2l0Y2ggKHRoaXMucHJlY2lzaW9uKSB7XG4gICAgICAgICAgICBjYXNlIFByZWNpc2lvbi5IQUxGOiByZXR1cm4gVWludDE2QXJyYXkgYXMgYW55O1xuICAgICAgICAgICAgY2FzZSBQcmVjaXNpb24uU0lOR0xFOiByZXR1cm4gRmxvYXQzMkFycmF5IGFzIGFueTtcbiAgICAgICAgICAgIGNhc2UgUHJlY2lzaW9uLkRPVUJMRTogcmV0dXJuIEZsb2F0NjRBcnJheSBhcyBhbnk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnJlY29nbml6ZWQgJHt0aGlzW1N5bWJvbC50b1N0cmluZ1RhZ119IHR5cGVgKTtcbiAgICB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYEZsb2F0JHsodGhpcy5wcmVjaXNpb24gPDwgNSkgfHwgMTZ9YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBGbG9hdCkgPT4ge1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdGbG9hdCc7XG4gICAgfSkoRmxvYXQucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGNsYXNzIEZsb2F0MTYgZXh0ZW5kcyBGbG9hdDxUeXBlLkZsb2F0MTY+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKFByZWNpc2lvbi5IQUxGKTsgfSB9XG5leHBvcnQgY2xhc3MgRmxvYXQzMiBleHRlbmRzIEZsb2F0PFR5cGUuRmxvYXQzMj4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoUHJlY2lzaW9uLlNJTkdMRSk7IH0gfVxuZXhwb3J0IGNsYXNzIEZsb2F0NjQgZXh0ZW5kcyBGbG9hdDxUeXBlLkZsb2F0NjQ+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKFByZWNpc2lvbi5ET1VCTEUpOyB9IH1cblxuZXhwb3J0IGludGVyZmFjZSBCaW5hcnkgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkJpbmFyeT4geyBUQXJyYXk6IFVpbnQ4QXJyYXk7IFRWYWx1ZTogVWludDhBcnJheTsgfVxuZXhwb3J0IGNsYXNzIEJpbmFyeSBleHRlbmRzIERhdGFUeXBlPFR5cGUuQmluYXJ5PiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkKCkgeyByZXR1cm4gVHlwZS5CaW5hcnkgYXMgVHlwZS5CaW5hcnk7IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgQmluYXJ5YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBCaW5hcnkpID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBVaW50OEFycmF5O1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdCaW5hcnknO1xuICAgIH0pKEJpbmFyeS5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFV0ZjggZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLlV0Zjg+IHsgVEFycmF5OiBVaW50OEFycmF5OyBUVmFsdWU6IHN0cmluZzsgQXJyYXlUeXBlOiB0eXBlb2YgVWludDhBcnJheTsgfVxuZXhwb3J0IGNsYXNzIFV0ZjggZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLlV0Zjg+IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG4gICAgcHVibGljIGdldCB0eXBlSWQoKSB7IHJldHVybiBUeXBlLlV0ZjggYXMgVHlwZS5VdGY4OyB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYFV0ZjhgOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IFV0ZjgpID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBVaW50OEFycmF5O1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdVdGY4JztcbiAgICB9KShVdGY4LnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQm9vbCBleHRlbmRzIERhdGFUeXBlPFR5cGUuQm9vbD4geyBUQXJyYXk6IFVpbnQ4QXJyYXk7IFRWYWx1ZTogYm9vbGVhbjsgQXJyYXlUeXBlOiB0eXBlb2YgVWludDhBcnJheTsgfVxuZXhwb3J0IGNsYXNzIEJvb2wgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkJvb2w+IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG4gICAgcHVibGljIGdldCB0eXBlSWQoKSB7IHJldHVybiBUeXBlLkJvb2wgYXMgVHlwZS5Cb29sOyB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYEJvb2xgOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IEJvb2wpID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBVaW50OEFycmF5O1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdCb29sJztcbiAgICB9KShCb29sLnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVjaW1hbCBleHRlbmRzIERhdGFUeXBlPFR5cGUuRGVjaW1hbD4geyBUQXJyYXk6IFVpbnQzMkFycmF5OyBUVmFsdWU6IFVpbnQzMkFycmF5OyBBcnJheVR5cGU6IHR5cGVvZiBVaW50MzJBcnJheTsgfVxuZXhwb3J0IGNsYXNzIERlY2ltYWwgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkRlY2ltYWw+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX3NjYWxlOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgcHJvdGVjdGVkIF9wcmVjaXNpb246IG51bWJlcikge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHR5cGVJZCgpIHsgcmV0dXJuIFR5cGUuRGVjaW1hbCBhcyBUeXBlLkRlY2ltYWw7IH1cbiAgICBwdWJsaWMgZ2V0IHNjYWxlKCkgeyByZXR1cm4gdGhpcy5fc2NhbGU7IH1cbiAgICBwdWJsaWMgZ2V0IHByZWNpc2lvbigpIHsgcmV0dXJuIHRoaXMuX3ByZWNpc2lvbjsgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBEZWNpbWFsWyR7dGhpcy5fcHJlY2lzaW9ufWUke3RoaXMuX3NjYWxlID4gMCA/IGArYCA6IGBgfSR7dGhpcy5fc2NhbGV9XWA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogRGVjaW1hbCkgPT4ge1xuICAgICAgICAoPGFueT4gcHJvdG8pLkFycmF5VHlwZSA9IFVpbnQzMkFycmF5O1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdEZWNpbWFsJztcbiAgICB9KShEZWNpbWFsLnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCB0eXBlIERhdGVzID0gVHlwZS5EYXRlIHwgVHlwZS5EYXRlRGF5IHwgVHlwZS5EYXRlTWlsbGlzZWNvbmQ7XG5leHBvcnQgaW50ZXJmYWNlIERhdGVfPFQgZXh0ZW5kcyBEYXRlcyA9IERhdGVzPiBleHRlbmRzIERhdGFUeXBlPFQ+IHsgVEFycmF5OiBJbnQzMkFycmF5OyBUVmFsdWU6IERhdGU7IEFycmF5VHlwZTogdHlwZW9mIEludDMyQXJyYXk7IH1cbmV4cG9ydCBjbGFzcyBEYXRlXzxUIGV4dGVuZHMgRGF0ZXMgPSBEYXRlcz4gZXh0ZW5kcyBEYXRhVHlwZTxUPiB7XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIF91bml0OiBEYXRlVW5pdCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHR5cGVJZCgpIHsgcmV0dXJuIFR5cGUuRGF0ZSBhcyBUOyB9XG4gICAgcHVibGljIGdldCB1bml0KCkgeyByZXR1cm4gdGhpcy5fdW5pdDsgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBEYXRlJHsodGhpcy5fdW5pdCArIDEpICogMzJ9PCR7RGF0ZVVuaXRbdGhpcy5fdW5pdF19PmA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogRGF0ZV8pID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBJbnQzMkFycmF5O1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdEYXRlJztcbiAgICB9KShEYXRlXy5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgY2xhc3MgRGF0ZURheSBleHRlbmRzIERhdGVfPFR5cGUuRGF0ZURheT4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoRGF0ZVVuaXQuREFZKTsgfSB9XG5leHBvcnQgY2xhc3MgRGF0ZU1pbGxpc2Vjb25kIGV4dGVuZHMgRGF0ZV88VHlwZS5EYXRlTWlsbGlzZWNvbmQ+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKERhdGVVbml0Lk1JTExJU0VDT05EKTsgfSB9XG5cbnR5cGUgVGltZXMgPSBUeXBlLlRpbWUgfCBUeXBlLlRpbWVTZWNvbmQgfCBUeXBlLlRpbWVNaWxsaXNlY29uZCB8IFR5cGUuVGltZU1pY3Jvc2Vjb25kIHwgVHlwZS5UaW1lTmFub3NlY29uZDtcbnR5cGUgVGltZXNUeXBlID0ge1xuICAgIFtUeXBlLlRpbWUgICAgICAgICAgIF06IHsgdW5pdDogVGltZVVuaXQ7ICAgICAgICAgICAgIFRWYWx1ZTogbnVtYmVyIHwgVWludDMyQXJyYXkgfTtcbiAgICBbVHlwZS5UaW1lU2Vjb25kICAgICBdOiB7IHVuaXQ6IFRpbWVVbml0LlNFQ09ORDsgICAgICBUVmFsdWU6IG51bWJlcjsgICAgICAgICAgICAgIH07XG4gICAgW1R5cGUuVGltZU1pbGxpc2Vjb25kXTogeyB1bml0OiBUaW1lVW5pdC5NSUxMSVNFQ09ORDsgVFZhbHVlOiBudW1iZXI7ICAgICAgICAgICAgICB9O1xuICAgIFtUeXBlLlRpbWVNaWNyb3NlY29uZF06IHsgdW5pdDogVGltZVVuaXQuTUlDUk9TRUNPTkQ7IFRWYWx1ZTogVWludDMyQXJyYXk7ICAgICAgICAgfTtcbiAgICBbVHlwZS5UaW1lTmFub3NlY29uZCBdOiB7IHVuaXQ6IFRpbWVVbml0Lk5BTk9TRUNPTkQ7ICBUVmFsdWU6IFVpbnQzMkFycmF5OyAgICAgICAgIH07XG59O1xuXG5pbnRlcmZhY2UgVGltZV88VCBleHRlbmRzIFRpbWVzID0gVGltZXM+IGV4dGVuZHMgRGF0YVR5cGU8VD4geyBUQXJyYXk6IFVpbnQzMkFycmF5OyBUVmFsdWU6IFRpbWVzVHlwZVtUXVsnVFZhbHVlJ107IEFycmF5VHlwZTogdHlwZW9mIFVpbnQzMkFycmF5OyB9XG5jbGFzcyBUaW1lXzxUIGV4dGVuZHMgVGltZXMgPSBUaW1lcz4gZXh0ZW5kcyBEYXRhVHlwZTxUPiB7XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIF91bml0OiBUaW1lc1R5cGVbVF1bJ3VuaXQnXSxcbiAgICAgICAgICAgICAgICBwcm90ZWN0ZWQgX2JpdFdpZHRoOiBUaW1lQml0V2lkdGgpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG4gICAgcHVibGljIGdldCB0eXBlSWQoKSB7IHJldHVybiBUeXBlLlRpbWUgYXMgVDsgfVxuICAgIHB1YmxpYyBnZXQgdW5pdCgpIHsgcmV0dXJuIHRoaXMuX3VuaXQ7IH1cbiAgICBwdWJsaWMgZ2V0IGJpdFdpZHRoKCkgeyByZXR1cm4gdGhpcy5fYml0V2lkdGg7IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgVGltZSR7dGhpcy5fYml0V2lkdGh9PCR7VGltZVVuaXRbdGhpcy5fdW5pdF19PmA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogVGltZV8pID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBVaW50MzJBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnVGltZSc7XG4gICAgfSkoVGltZV8ucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IHsgVGltZV8gYXMgVGltZSB9O1xuXG5leHBvcnQgY2xhc3MgVGltZVNlY29uZCBleHRlbmRzIFRpbWVfPFR5cGUuVGltZVNlY29uZD4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoVGltZVVuaXQuU0VDT05ELCAzMik7IH0gfVxuZXhwb3J0IGNsYXNzIFRpbWVNaWxsaXNlY29uZCBleHRlbmRzIFRpbWVfPFR5cGUuVGltZU1pbGxpc2Vjb25kPiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihUaW1lVW5pdC5NSUxMSVNFQ09ORCwgMzIpOyB9IH1cbmV4cG9ydCBjbGFzcyBUaW1lTWljcm9zZWNvbmQgZXh0ZW5kcyBUaW1lXzxUeXBlLlRpbWVNaWNyb3NlY29uZD4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoVGltZVVuaXQuTUlDUk9TRUNPTkQsIDY0KTsgfSB9XG5leHBvcnQgY2xhc3MgVGltZU5hbm9zZWNvbmQgZXh0ZW5kcyBUaW1lXzxUeXBlLlRpbWVOYW5vc2Vjb25kPiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihUaW1lVW5pdC5OQU5PU0VDT05ELCA2NCk7IH0gfVxuXG50eXBlIFRpbWVzdGFtcHMgPSBUeXBlLlRpbWVzdGFtcCB8IFR5cGUuVGltZXN0YW1wU2Vjb25kIHwgVHlwZS5UaW1lc3RhbXBNaWxsaXNlY29uZCB8IFR5cGUuVGltZXN0YW1wTWljcm9zZWNvbmQgfCBUeXBlLlRpbWVzdGFtcE5hbm9zZWNvbmQ7XG5pbnRlcmZhY2UgVGltZXN0YW1wXzxUIGV4dGVuZHMgVGltZXN0YW1wcyA9IFRpbWVzdGFtcHM+IGV4dGVuZHMgRGF0YVR5cGU8VD4geyBUQXJyYXk6IEludDMyQXJyYXk7IFRWYWx1ZTogbnVtYmVyOyBBcnJheVR5cGU6IHR5cGVvZiBJbnQzMkFycmF5OyB9XG5jbGFzcyBUaW1lc3RhbXBfPFQgZXh0ZW5kcyBUaW1lc3RhbXBzID0gVGltZXN0YW1wcz4gZXh0ZW5kcyBEYXRhVHlwZTxUPiB7XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIF91bml0OiBUaW1lVW5pdCwgcHJvdGVjdGVkIF90aW1lem9uZT86IHN0cmluZyB8IG51bGwpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG4gICAgcHVibGljIGdldCB0eXBlSWQoKSB7IHJldHVybiBUeXBlLlRpbWVzdGFtcCBhcyBUOyB9XG4gICAgcHVibGljIGdldCB1bml0KCkgeyByZXR1cm4gdGhpcy5fdW5pdDsgfVxuICAgIHB1YmxpYyBnZXQgdGltZXpvbmUoKSB7IHJldHVybiB0aGlzLl90aW1lem9uZTsgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBUaW1lc3RhbXA8JHtUaW1lVW5pdFt0aGlzLl91bml0XX0ke3RoaXMuX3RpbWV6b25lID8gYCwgJHt0aGlzLl90aW1lem9uZX1gIDogYGB9PmA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogVGltZXN0YW1wXykgPT4ge1xuICAgICAgICAoPGFueT4gcHJvdG8pLkFycmF5VHlwZSA9IEludDMyQXJyYXk7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ1RpbWVzdGFtcCc7XG4gICAgfSkoVGltZXN0YW1wXy5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgeyBUaW1lc3RhbXBfIGFzIFRpbWVzdGFtcCB9O1xuXG5leHBvcnQgY2xhc3MgVGltZXN0YW1wU2Vjb25kIGV4dGVuZHMgVGltZXN0YW1wXzxUeXBlLlRpbWVzdGFtcFNlY29uZD4geyBjb25zdHJ1Y3Rvcih0aW1lem9uZT86IHN0cmluZyB8IG51bGwpIHsgc3VwZXIoVGltZVVuaXQuU0VDT05ELCB0aW1lem9uZSk7IH0gfVxuZXhwb3J0IGNsYXNzIFRpbWVzdGFtcE1pbGxpc2Vjb25kIGV4dGVuZHMgVGltZXN0YW1wXzxUeXBlLlRpbWVzdGFtcE1pbGxpc2Vjb25kPiB7IGNvbnN0cnVjdG9yKHRpbWV6b25lPzogc3RyaW5nIHwgbnVsbCkgeyBzdXBlcihUaW1lVW5pdC5NSUxMSVNFQ09ORCwgdGltZXpvbmUpOyB9IH1cbmV4cG9ydCBjbGFzcyBUaW1lc3RhbXBNaWNyb3NlY29uZCBleHRlbmRzIFRpbWVzdGFtcF88VHlwZS5UaW1lc3RhbXBNaWNyb3NlY29uZD4geyBjb25zdHJ1Y3Rvcih0aW1lem9uZT86IHN0cmluZyB8IG51bGwpIHsgc3VwZXIoVGltZVVuaXQuTUlDUk9TRUNPTkQsIHRpbWV6b25lKTsgfSB9XG5leHBvcnQgY2xhc3MgVGltZXN0YW1wTmFub3NlY29uZCBleHRlbmRzIFRpbWVzdGFtcF88VHlwZS5UaW1lc3RhbXBOYW5vc2Vjb25kPiB7IGNvbnN0cnVjdG9yKHRpbWV6b25lPzogc3RyaW5nIHwgbnVsbCkgeyBzdXBlcihUaW1lVW5pdC5OQU5PU0VDT05ELCB0aW1lem9uZSk7IH0gfVxuXG50eXBlIEludGVydmFscyA9IFR5cGUuSW50ZXJ2YWwgfCBUeXBlLkludGVydmFsRGF5VGltZSB8IFR5cGUuSW50ZXJ2YWxZZWFyTW9udGg7XG5pbnRlcmZhY2UgSW50ZXJ2YWxfPFQgZXh0ZW5kcyBJbnRlcnZhbHMgPSBJbnRlcnZhbHM+IGV4dGVuZHMgRGF0YVR5cGU8VD4geyBUQXJyYXk6IEludDMyQXJyYXk7IFRWYWx1ZTogSW50MzJBcnJheTsgQXJyYXlUeXBlOiB0eXBlb2YgSW50MzJBcnJheTsgfVxuY2xhc3MgSW50ZXJ2YWxfPFQgZXh0ZW5kcyBJbnRlcnZhbHMgPSBJbnRlcnZhbHM+IGV4dGVuZHMgRGF0YVR5cGU8VD4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfdW5pdDogSW50ZXJ2YWxVbml0KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkKCkgeyByZXR1cm4gVHlwZS5JbnRlcnZhbCBhcyBUOyB9XG4gICAgcHVibGljIGdldCB1bml0KCkgeyByZXR1cm4gdGhpcy5fdW5pdDsgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBJbnRlcnZhbDwke0ludGVydmFsVW5pdFt0aGlzLl91bml0XX0+YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBJbnRlcnZhbF8pID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBJbnQzMkFycmF5O1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdJbnRlcnZhbCc7XG4gICAgfSkoSW50ZXJ2YWxfLnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCB7IEludGVydmFsXyBhcyBJbnRlcnZhbCB9O1xuXG5leHBvcnQgY2xhc3MgSW50ZXJ2YWxEYXlUaW1lIGV4dGVuZHMgSW50ZXJ2YWxfPFR5cGUuSW50ZXJ2YWxEYXlUaW1lPiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihJbnRlcnZhbFVuaXQuREFZX1RJTUUpOyB9IH1cbmV4cG9ydCBjbGFzcyBJbnRlcnZhbFllYXJNb250aCBleHRlbmRzIEludGVydmFsXzxUeXBlLkludGVydmFsWWVhck1vbnRoPiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihJbnRlcnZhbFVuaXQuWUVBUl9NT05USCk7IH0gfVxuXG5leHBvcnQgaW50ZXJmYWNlIExpc3Q8VCBleHRlbmRzIERhdGFUeXBlID0gYW55PiBleHRlbmRzIERhdGFUeXBlPFR5cGUuTGlzdCwgeyBbMF06IFQgfT4gIHsgVEFycmF5OiBJdGVyYWJsZUFycmF5TGlrZTxUPjsgVFZhbHVlOiBWVHlwZTxUPjsgfVxuZXhwb3J0IGNsYXNzIExpc3Q8VCBleHRlbmRzIERhdGFUeXBlID0gYW55PiBleHRlbmRzIERhdGFUeXBlPFR5cGUuTGlzdCwgeyBbMF06IFQgfT4ge1xuICAgIGNvbnN0cnVjdG9yKGNoaWxkOiBGaWVsZDxUPikge1xuICAgICAgICBzdXBlcihbY2hpbGRdKTtcbiAgICB9XG4gICAgcHVibGljIGdldCB0eXBlSWQoKSB7IHJldHVybiBUeXBlLkxpc3QgYXMgVHlwZS5MaXN0OyB9XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHByb3RlY3RlZCBfY2hpbGRyZW46IEZpZWxkPFQ+W107XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYExpc3Q8JHt0aGlzLnZhbHVlVHlwZX0+YDsgfVxuICAgIHB1YmxpYyBnZXQgY2hpbGRyZW4oKSB7IHJldHVybiB0aGlzLl9jaGlsZHJlbjsgfVxuICAgIHB1YmxpYyBnZXQgdmFsdWVUeXBlKCk6IFQgeyByZXR1cm4gdGhpcy5fY2hpbGRyZW5bMF0udHlwZSBhcyBUOyB9XG4gICAgcHVibGljIGdldCB2YWx1ZUZpZWxkKCk6IEZpZWxkPFQ+IHsgcmV0dXJuIHRoaXMuX2NoaWxkcmVuWzBdIGFzIEZpZWxkPFQ+OyB9XG4gICAgcHVibGljIGdldCBBcnJheVR5cGUoKTogVFsnQXJyYXlUeXBlJ10geyByZXR1cm4gdGhpcy52YWx1ZVR5cGUuQXJyYXlUeXBlOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IExpc3QpID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnTGlzdCc7XG4gICAgfSkoTGlzdC5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cnVjdDxUIGV4dGVuZHMgeyBba2V5OiBzdHJpbmddOiBEYXRhVHlwZTsgfSA9IGFueT4gZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLlN0cnVjdD4geyBUQXJyYXk6IEl0ZXJhYmxlQXJyYXlMaWtlPFJvd0xpa2U8VD4+OyBUVmFsdWU6IFJvd0xpa2U8VD47IGRhdGFUeXBlczogVDsgfVxuZXhwb3J0IGNsYXNzIFN0cnVjdDxUIGV4dGVuZHMgeyBba2V5OiBzdHJpbmddOiBEYXRhVHlwZTsgfSA9IGFueT4gZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLlN0cnVjdCwgVD4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfY2hpbGRyZW46IEZpZWxkPFRba2V5b2YgVF0+W10pIHtcbiAgICAgICAgc3VwZXIoX2NoaWxkcmVuKTtcbiAgICB9XG4gICAgcHVibGljIGdldCB0eXBlSWQoKSB7IHJldHVybiBUeXBlLlN0cnVjdCBhcyBUeXBlLlN0cnVjdDsgfVxuICAgIHB1YmxpYyBnZXQgY2hpbGRyZW4oKSB7IHJldHVybiB0aGlzLl9jaGlsZHJlbjsgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBTdHJ1Y3Q8JHt0aGlzLl9jaGlsZHJlbi5tYXAoKGYpID0+IGYudHlwZSkuam9pbihgLCBgKX0+YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBTdHJ1Y3QpID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnU3RydWN0JztcbiAgICB9KShTdHJ1Y3QucHJvdG90eXBlKTtcbn1cblxudHlwZSBVbmlvbnMgPSBUeXBlLlVuaW9uIHwgVHlwZS5EZW5zZVVuaW9uIHwgVHlwZS5TcGFyc2VVbmlvbjtcbmludGVyZmFjZSBVbmlvbl88VCBleHRlbmRzIFVuaW9ucyA9IFVuaW9ucz4gZXh0ZW5kcyBEYXRhVHlwZTxUPiB7IFRBcnJheTogSW50MzJBcnJheTsgVFZhbHVlOiBhbnlbXTsgfVxuY2xhc3MgVW5pb25fPFQgZXh0ZW5kcyBVbmlvbnMgPSBVbmlvbnM+IGV4dGVuZHMgRGF0YVR5cGU8VD4ge1xuICAgIHByb3RlY3RlZCBfdHlwZUlkczogSW50MzJBcnJheTtcbiAgICBwcm90ZWN0ZWQgX2NoaWxkcmVuOiBGaWVsZDxhbnk+W107XG4gICAgcHJvdGVjdGVkIF90eXBlSWRUb0NoaWxkSW5kZXg6IHsgW2tleTogbnVtYmVyXTogbnVtYmVyIH07XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIF9tb2RlOiBVbmlvbk1vZGUsIF90eXBlSWRzOiBudW1iZXJbXSB8IEludDMyQXJyYXksIF9jaGlsZHJlbjogRmllbGQ8YW55PltdKSB7XG4gICAgICAgIHN1cGVyKF9jaGlsZHJlbik7XG4gICAgICAgIHRoaXMuX2NoaWxkcmVuID0gX2NoaWxkcmVuO1xuICAgICAgICB0aGlzLl90eXBlSWRzID0gX3R5cGVJZHMgPSBJbnQzMkFycmF5LmZyb20oX3R5cGVJZHMpO1xuICAgICAgICB0aGlzLl90eXBlSWRUb0NoaWxkSW5kZXggPSBfdHlwZUlkcy5yZWR1Y2UoKHR5cGVJZFRvQ2hpbGRJbmRleCwgdHlwZUlkLCBpZHgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAodHlwZUlkVG9DaGlsZEluZGV4W3R5cGVJZF0gPSBpZHgpICYmIHR5cGVJZFRvQ2hpbGRJbmRleCB8fCB0eXBlSWRUb0NoaWxkSW5kZXg7XG4gICAgICAgIH0sIE9iamVjdC5jcmVhdGUobnVsbCkgYXMgeyBba2V5OiBudW1iZXJdOiBudW1iZXIgfSk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkKCkgeyByZXR1cm4gVHlwZS5VbmlvbiBhcyBUOyB9XG4gICAgcHVibGljIGdldCBtb2RlKCkgeyByZXR1cm4gdGhpcy5fbW9kZTsgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkcygpIHsgcmV0dXJuIHRoaXMuX3R5cGVJZHM7IH1cbiAgICBwdWJsaWMgZ2V0IGNoaWxkcmVuKCkgeyByZXR1cm4gdGhpcy5fY2hpbGRyZW47IH1cbiAgICBwdWJsaWMgZ2V0IHR5cGVJZFRvQ2hpbGRJbmRleCgpIHsgcmV0dXJuIHRoaXMuX3R5cGVJZFRvQ2hpbGRJbmRleDsgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGAke3RoaXNbU3ltYm9sLnRvU3RyaW5nVGFnXX08JHtcbiAgICAgICAgdGhpcy5fY2hpbGRyZW4ubWFwKCh4KSA9PiBgJHt4LnR5cGV9YCkuam9pbihgIHwgYClcbiAgICB9PmA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogVW5pb25fKSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gSW50MzJBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnVW5pb24nO1xuICAgIH0pKFVuaW9uXy5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgeyBVbmlvbl8gYXMgVW5pb24gfTtcblxuZXhwb3J0IGNsYXNzIERlbnNlVW5pb24gZXh0ZW5kcyBVbmlvbl88VHlwZS5EZW5zZVVuaW9uPiB7XG4gICAgY29uc3RydWN0b3IodHlwZUlkczogbnVtYmVyW10gfCBJbnQzMkFycmF5LCBjaGlsZHJlbjogRmllbGRbXSkge1xuICAgICAgICBzdXBlcihVbmlvbk1vZGUuRGVuc2UsIHR5cGVJZHMsIGNoaWxkcmVuKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTcGFyc2VVbmlvbiBleHRlbmRzIFVuaW9uXzxUeXBlLlNwYXJzZVVuaW9uPiB7XG4gICAgY29uc3RydWN0b3IodHlwZUlkczogbnVtYmVyW10gfCBJbnQzMkFycmF5LCBjaGlsZHJlbjogRmllbGRbXSkge1xuICAgICAgICBzdXBlcihVbmlvbk1vZGUuU3BhcnNlLCB0eXBlSWRzLCBjaGlsZHJlbik7XG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZpeGVkU2l6ZUJpbmFyeSBleHRlbmRzIERhdGFUeXBlPFR5cGUuRml4ZWRTaXplQmluYXJ5PiB7IFRBcnJheTogVWludDhBcnJheTsgVFZhbHVlOiBVaW50OEFycmF5OyBBcnJheVR5cGU6IHR5cGVvZiBVaW50OEFycmF5OyB9XG5leHBvcnQgY2xhc3MgRml4ZWRTaXplQmluYXJ5IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5GaXhlZFNpemVCaW5hcnk+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX2J5dGVXaWR0aDogbnVtYmVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkKCkgeyByZXR1cm4gVHlwZS5GaXhlZFNpemVCaW5hcnkgYXMgVHlwZS5GaXhlZFNpemVCaW5hcnk7IH1cbiAgICBwdWJsaWMgZ2V0IGJ5dGVXaWR0aCgpIHsgcmV0dXJuIHRoaXMuX2J5dGVXaWR0aDsgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBGaXhlZFNpemVCaW5hcnlbJHt0aGlzLmJ5dGVXaWR0aH1dYDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBGaXhlZFNpemVCaW5hcnkpID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBVaW50OEFycmF5O1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdGaXhlZFNpemVCaW5hcnknO1xuICAgIH0pKEZpeGVkU2l6ZUJpbmFyeS5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZpeGVkU2l6ZUxpc3Q8VCBleHRlbmRzIERhdGFUeXBlID0gYW55PiBleHRlbmRzIERhdGFUeXBlPFR5cGUuRml4ZWRTaXplTGlzdD4geyBUQXJyYXk6IEl0ZXJhYmxlQXJyYXlMaWtlPFRbJ1RBcnJheSddPjsgVFZhbHVlOiBWVHlwZTxUPjsgfVxuZXhwb3J0IGNsYXNzIEZpeGVkU2l6ZUxpc3Q8VCBleHRlbmRzIERhdGFUeXBlID0gYW55PiBleHRlbmRzIERhdGFUeXBlPFR5cGUuRml4ZWRTaXplTGlzdCwgeyBbMF06IFQgfT4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfbGlzdFNpemU6IG51bWJlciwgY2hpbGQ6IEZpZWxkPFQ+KSB7XG4gICAgICAgIHN1cGVyKFtjaGlsZF0pO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHR5cGVJZCgpIHsgcmV0dXJuIFR5cGUuRml4ZWRTaXplTGlzdCBhcyBUeXBlLkZpeGVkU2l6ZUxpc3Q7IH1cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcHJvdGVjdGVkIF9jaGlsZHJlbjogRmllbGQ8VD5bXTtcbiAgICBwdWJsaWMgZ2V0IGxpc3RTaXplKCkgeyByZXR1cm4gdGhpcy5fbGlzdFNpemU7IH1cbiAgICBwdWJsaWMgZ2V0IGNoaWxkcmVuKCkgeyByZXR1cm4gdGhpcy5fY2hpbGRyZW47IH1cbiAgICBwdWJsaWMgZ2V0IHZhbHVlVHlwZSgpOiBUIHsgcmV0dXJuIHRoaXMuY2hpbGRyZW5bMF0udHlwZSBhcyBUOyB9XG4gICAgcHVibGljIGdldCB2YWx1ZUZpZWxkKCk6IEZpZWxkPFQ+IHsgcmV0dXJuIHRoaXMuY2hpbGRyZW5bMF0gYXMgRmllbGQ8VD47IH1cbiAgICBwdWJsaWMgZ2V0IEFycmF5VHlwZSgpOiBUWydBcnJheVR5cGUnXSB7IHJldHVybiB0aGlzLnZhbHVlVHlwZS5BcnJheVR5cGU7IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgRml4ZWRTaXplTGlzdFske3RoaXMuX2xpc3RTaXplfV08JHt0aGlzLnZhbHVlVHlwZX0+YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBGaXhlZFNpemVMaXN0KSA9PiB7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ0ZpeGVkU2l6ZUxpc3QnO1xuICAgIH0pKEZpeGVkU2l6ZUxpc3QucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNYXBfPFQgZXh0ZW5kcyB7IFtrZXk6IHN0cmluZ106IERhdGFUeXBlOyB9ID0gYW55PiBleHRlbmRzIERhdGFUeXBlPFR5cGUuTWFwPiB7IFRBcnJheTogVWludDhBcnJheTsgVFZhbHVlOiBSb3dMaWtlPFQ+OyBkYXRhVHlwZXM6IFQ7IH1cbmV4cG9ydCBjbGFzcyBNYXBfPFQgZXh0ZW5kcyB7IFtrZXk6IHN0cmluZ106IERhdGFUeXBlOyB9ID0gYW55PiBleHRlbmRzIERhdGFUeXBlPFR5cGUuTWFwLCBUPiB7XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIF9jaGlsZHJlbjogRmllbGQ8VFtrZXlvZiBUXT5bXSxcbiAgICAgICAgICAgICAgICBwcm90ZWN0ZWQgX2tleXNTb3J0ZWQ6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgICBzdXBlcihfY2hpbGRyZW4pO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHR5cGVJZCgpIHsgcmV0dXJuIFR5cGUuTWFwIGFzIFR5cGUuTWFwOyB9XG4gICAgcHVibGljIGdldCBjaGlsZHJlbigpIHsgcmV0dXJuIHRoaXMuX2NoaWxkcmVuOyB9XG4gICAgcHVibGljIGdldCBrZXlzU29ydGVkKCkgeyByZXR1cm4gdGhpcy5fa2V5c1NvcnRlZDsgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBNYXA8JHt0aGlzLmNoaWxkcmVuLmpvaW4oYCwgYCl9PmA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogTWFwXykgPT4ge1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdNYXBfJztcbiAgICB9KShNYXBfLnByb3RvdHlwZSk7XG59XG5cbmNvbnN0IGdldElkID0gKChhdG9taWNEaWN0aW9uYXJ5SWQpID0+ICgpID0+ICsrYXRvbWljRGljdGlvbmFyeUlkKSgtMSk7XG5cbmV4cG9ydCB0eXBlIFRLZXlzID0gSW50OCB8IEludDE2IHwgSW50MzIgfCBVaW50OCB8IFVpbnQxNiB8IFVpbnQzMjtcblxuZXhwb3J0IGludGVyZmFjZSBEaWN0aW9uYXJ5PFQgZXh0ZW5kcyBEYXRhVHlwZSA9IGFueSwgVEtleSBleHRlbmRzIFRLZXlzID0gVEtleXM+IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5EaWN0aW9uYXJ5PiB7IFRBcnJheTogVEtleVsnVEFycmF5J107IFRWYWx1ZTogVFsnVFZhbHVlJ107IH1cbmV4cG9ydCBjbGFzcyBEaWN0aW9uYXJ5PFQgZXh0ZW5kcyBEYXRhVHlwZSA9IGFueSwgVEtleSBleHRlbmRzIFRLZXlzID0gVEtleXM+IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5EaWN0aW9uYXJ5PiB7XG4gICAgcHJvdGVjdGVkIF9pZDogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfaW5kaWNlczogVEtleTtcbiAgICBwcm90ZWN0ZWQgX2RpY3Rpb25hcnk6IFQ7XG4gICAgcHJvdGVjdGVkIF9pc09yZGVyZWQ6IGJvb2xlYW47XG4gICAgcHJvdGVjdGVkIF9kaWN0aW9uYXJ5VmVjdG9yOiBWZWN0b3I8VD47XG4gICAgcHVibGljIHNldCBkaWN0aW9uYXJ5VmVjdG9yKHYpIHsgdGhpcy5fZGljdGlvbmFyeVZlY3RvciA9IHY7IH1cbiAgICBwdWJsaWMgZ2V0IGRpY3Rpb25hcnlWZWN0b3IoKSB7IHJldHVybiB0aGlzLl9kaWN0aW9uYXJ5VmVjdG9yOyB9XG4gICAgY29uc3RydWN0b3IoZGljdGlvbmFyeTogVCwgaW5kaWNlczogVEtleSwgaWQ/OiBMb25nIHwgbnVtYmVyIHwgbnVsbCwgaXNPcmRlcmVkPzogYm9vbGVhbiB8IG51bGwsIGRpY3Rpb25hcnlWZWN0b3I/OiBWZWN0b3I8VD4pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5faW5kaWNlcyA9IGluZGljZXM7XG4gICAgICAgIHRoaXMuX2RpY3Rpb25hcnkgPSBkaWN0aW9uYXJ5O1xuICAgICAgICB0aGlzLl9pc09yZGVyZWQgPSBpc09yZGVyZWQgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMuX2RpY3Rpb25hcnlWZWN0b3IgPSBkaWN0aW9uYXJ5VmVjdG9yITtcbiAgICAgICAgdGhpcy5faWQgPSBpZCA9PSBudWxsID8gZ2V0SWQoKSA6IHR5cGVvZiBpZCA9PT0gJ251bWJlcicgPyBpZCA6IGlkLmxvdztcbiAgICB9XG4gICAgcHVibGljIGdldCB0eXBlSWQoKSB7IHJldHVybiBUeXBlLkRpY3Rpb25hcnkgYXMgVHlwZS5EaWN0aW9uYXJ5OyB9XG4gICAgcHVibGljIGdldCBpZCgpIHsgcmV0dXJuIHRoaXMuX2lkOyB9XG4gICAgcHVibGljIGdldCBpbmRpY2VzKCkgeyByZXR1cm4gdGhpcy5faW5kaWNlczsgfVxuICAgIHB1YmxpYyBnZXQgZGljdGlvbmFyeSgpIHsgcmV0dXJuIHRoaXMuX2RpY3Rpb25hcnk7IH1cbiAgICBwdWJsaWMgZ2V0IGlzT3JkZXJlZCgpIHsgcmV0dXJuIHRoaXMuX2lzT3JkZXJlZDsgfVxuICAgIHB1YmxpYyBzZXQgY2hpbGRyZW4oXzogVFsnY2hpbGRyZW4nXSkge31cbiAgICBwdWJsaWMgZ2V0IGNoaWxkcmVuKCkgeyByZXR1cm4gdGhpcy5kaWN0aW9uYXJ5LmNoaWxkcmVuOyB9XG4gICAgcHVibGljIGdldCB2YWx1ZVR5cGUoKTogVCB7IHJldHVybiB0aGlzLmRpY3Rpb25hcnkgYXMgVDsgfVxuICAgIHB1YmxpYyBnZXQgQXJyYXlUeXBlKCk6IFRbJ0FycmF5VHlwZSddIHsgcmV0dXJuIHRoaXMuZGljdGlvbmFyeS5BcnJheVR5cGU7IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgRGljdGlvbmFyeTwke3RoaXMuaW5kaWNlc30sICR7dGhpcy5kaWN0aW9uYXJ5fT5gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IERpY3Rpb25hcnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnRGljdGlvbmFyeSc7XG4gICAgfSkoRGljdGlvbmFyeS5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEl0ZXJhYmxlQXJyYXlMaWtlPFQgPSBhbnk+IGV4dGVuZHMgQXJyYXlMaWtlPFQ+LCBJdGVyYWJsZTxUPiB7fVxuZXhwb3J0IHR5cGUgRmxvYXRBcnJheSA9IFVpbnQxNkFycmF5IHwgRmxvYXQzMkFycmF5IHwgRmxvYXQ2NEFycmF5O1xuZXhwb3J0IHR5cGUgSW50QXJyYXkgPSBJbnQ4QXJyYXkgfCBJbnQxNkFycmF5IHwgSW50MzJBcnJheSB8IFVpbnQ4QXJyYXkgfCBVaW50MTZBcnJheSB8IFVpbnQzMkFycmF5O1xuIl19
