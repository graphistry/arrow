// Licensed to the Apache Software Foundation (ASF) under one
// or more contributor license agreements.  See the NOTICE file
// distributed with this work for additional information
// regarding copyright ownership.  The ASF licenses this file
// to you under the Apache License, Version 2.0 (the
// "License"); you may not use this file except in compliance
// with the License.  You may obtain a copy of the License at
//
//   http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing,
// software distributed under the License is distributed on an
// "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
// KIND, either express or implied.  See the License for the
// specific language governing permissions and limitations
// under the License.
import { Type, Precision, UnionMode, DateUnit, TimeUnit, IntervalUnit } from './enum';
export class DataType {
    constructor(_children) {
        this._children = _children;
    }
    /** @nocollapse */ static isNull(x) { return x && x.typeId === Type.Null; }
    /** @nocollapse */ static isInt(x) { return x && x.typeId === Type.Int; }
    /** @nocollapse */ static isFloat(x) { return x && x.typeId === Type.Float; }
    /** @nocollapse */ static isBinary(x) { return x && x.typeId === Type.Binary; }
    /** @nocollapse */ static isUtf8(x) { return x && x.typeId === Type.Utf8; }
    /** @nocollapse */ static isBool(x) { return x && x.typeId === Type.Bool; }
    /** @nocollapse */ static isDecimal(x) { return x && x.typeId === Type.Decimal; }
    /** @nocollapse */ static isDate(x) { return x && x.typeId === Type.Date; }
    /** @nocollapse */ static isTime(x) { return x && x.typeId === Type.Time; }
    /** @nocollapse */ static isTimestamp(x) { return x && x.typeId === Type.Timestamp; }
    /** @nocollapse */ static isInterval(x) { return x && x.typeId === Type.Interval; }
    /** @nocollapse */ static isList(x) { return x && x.typeId === Type.List; }
    /** @nocollapse */ static isStruct(x) { return x && x.typeId === Type.Struct; }
    /** @nocollapse */ static isUnion(x) { return x && x.typeId === Type.Union; }
    /** @nocollapse */ static isFixedSizeBinary(x) { return x && x.typeId === Type.FixedSizeBinary; }
    /** @nocollapse */ static isFixedSizeList(x) { return x && x.typeId === Type.FixedSizeList; }
    /** @nocollapse */ static isMap(x) { return x && x.typeId === Type.Map; }
    /** @nocollapse */ static isDictionary(x) { return x && x.typeId === Type.Dictionary; }
    get children() { return this._children; }
    get typeId() { return Type.NONE; }
}
DataType[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Array;
    return proto[Symbol.toStringTag] = 'DataType';
})(DataType.prototype);
export class Null extends DataType {
    toString() { return `Null`; }
    get typeId() { return Type.Null; }
}
Null[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Null';
})(Null.prototype);
class Int_ extends DataType {
    constructor(_isSigned, _bitWidth) {
        super();
        this._isSigned = _isSigned;
        this._bitWidth = _bitWidth;
    }
    get typeId() { return Type.Int; }
    get isSigned() { return this._isSigned; }
    get bitWidth() { return this._bitWidth; }
    get ArrayType() {
        switch (this._bitWidth) {
            case 8: return (this._isSigned ? Int8Array : Uint8Array);
            case 16: return (this._isSigned ? Int16Array : Uint16Array);
            case 32: return (this._isSigned ? Int32Array : Uint32Array);
            case 64: return (this._isSigned ? Int32Array : Uint32Array);
        }
        throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`);
    }
    toString() { return `${this._isSigned ? `I` : `Ui`}nt${this._bitWidth}`; }
}
Int_[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Int';
})(Int_.prototype);
export { Int_ as Int };
export class Int8 extends Int_ {
    constructor() { super(true, 8); }
}
export class Int16 extends Int_ {
    constructor() { super(true, 16); }
}
export class Int32 extends Int_ {
    constructor() { super(true, 32); }
}
export class Int64 extends Int_ {
    constructor() { super(true, 64); }
}
export class Uint8 extends Int_ {
    constructor() { super(false, 8); }
}
export class Uint16 extends Int_ {
    constructor() { super(false, 16); }
}
export class Uint32 extends Int_ {
    constructor() { super(false, 32); }
}
export class Uint64 extends Int_ {
    constructor() { super(false, 64); }
}
export class Float extends DataType {
    constructor(_precision) {
        super();
        this._precision = _precision;
    }
    get typeId() { return Type.Float; }
    get precision() { return this._precision; }
    // @ts-ignore
    get ArrayType() {
        switch (this.precision) {
            case Precision.HALF: return Uint16Array;
            case Precision.SINGLE: return Float32Array;
            case Precision.DOUBLE: return Float64Array;
        }
        throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`);
    }
    toString() { return `Float${(this.precision << 5) || 16}`; }
}
Float[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Float';
})(Float.prototype);
export class Float16 extends Float {
    constructor() { super(Precision.HALF); }
}
export class Float32 extends Float {
    constructor() { super(Precision.SINGLE); }
}
export class Float64 extends Float {
    constructor() { super(Precision.DOUBLE); }
}
export class Binary extends DataType {
    constructor() {
        super();
    }
    get typeId() { return Type.Binary; }
    toString() { return `Binary`; }
}
Binary[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'Binary';
})(Binary.prototype);
export class Utf8 extends DataType {
    constructor() {
        super();
    }
    get typeId() { return Type.Utf8; }
    toString() { return `Utf8`; }
}
Utf8[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'Utf8';
})(Utf8.prototype);
export class Bool extends DataType {
    constructor() {
        super();
    }
    get typeId() { return Type.Bool; }
    toString() { return `Bool`; }
}
Bool[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'Bool';
})(Bool.prototype);
export class Decimal extends DataType {
    constructor(_scale, _precision) {
        super();
        this._scale = _scale;
        this._precision = _precision;
    }
    get typeId() { return Type.Decimal; }
    get scale() { return this._scale; }
    get precision() { return this._precision; }
    toString() { return `Decimal[${this._precision}e${this._scale > 0 ? `+` : ``}${this._scale}]`; }
}
Decimal[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint32Array;
    return proto[Symbol.toStringTag] = 'Decimal';
})(Decimal.prototype);
export class Date_ extends DataType {
    constructor(_unit) {
        super();
        this._unit = _unit;
    }
    get typeId() { return Type.Date; }
    get unit() { return this._unit; }
    toString() { return `Date${(this._unit + 1) * 32}<${DateUnit[this._unit]}>`; }
}
Date_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int32Array;
    return proto[Symbol.toStringTag] = 'Date';
})(Date_.prototype);
export class DateDay extends Date_ {
    constructor() { super(DateUnit.DAY); }
}
export class DateMillisecond extends Date_ {
    constructor() { super(DateUnit.MILLISECOND); }
}
class Time_ extends DataType {
    constructor(_unit, _bitWidth) {
        super();
        this._unit = _unit;
        this._bitWidth = _bitWidth;
    }
    get typeId() { return Type.Time; }
    get unit() { return this._unit; }
    get bitWidth() { return this._bitWidth; }
    toString() { return `Time${this._bitWidth}<${TimeUnit[this._unit]}>`; }
}
Time_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint32Array;
    return proto[Symbol.toStringTag] = 'Time';
})(Time_.prototype);
export { Time_ as Time };
export class TimeSecond extends Time_ {
    constructor() { super(TimeUnit.SECOND, 32); }
}
export class TimeMillisecond extends Time_ {
    constructor() { super(TimeUnit.MILLISECOND, 32); }
}
export class TimeMicrosecond extends Time_ {
    constructor() { super(TimeUnit.MICROSECOND, 64); }
}
export class TimeNanosecond extends Time_ {
    constructor() { super(TimeUnit.NANOSECOND, 64); }
}
class Timestamp_ extends DataType {
    constructor(_unit, _timezone) {
        super();
        this._unit = _unit;
        this._timezone = _timezone;
    }
    get typeId() { return Type.Timestamp; }
    get unit() { return this._unit; }
    get timezone() { return this._timezone; }
    toString() { return `Timestamp<${TimeUnit[this._unit]}${this._timezone ? `, ${this._timezone}` : ``}>`; }
}
Timestamp_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int32Array;
    return proto[Symbol.toStringTag] = 'Timestamp';
})(Timestamp_.prototype);
export { Timestamp_ as Timestamp };
export class TimestampSecond extends Timestamp_ {
    constructor(timezone) { super(TimeUnit.SECOND, timezone); }
}
export class TimestampMillisecond extends Timestamp_ {
    constructor(timezone) { super(TimeUnit.MILLISECOND, timezone); }
}
export class TimestampMicrosecond extends Timestamp_ {
    constructor(timezone) { super(TimeUnit.MICROSECOND, timezone); }
}
export class TimestampNanosecond extends Timestamp_ {
    constructor(timezone) { super(TimeUnit.NANOSECOND, timezone); }
}
class Interval_ extends DataType {
    constructor(_unit) {
        super();
        this._unit = _unit;
    }
    get typeId() { return Type.Interval; }
    get unit() { return this._unit; }
    toString() { return `Interval<${IntervalUnit[this._unit]}>`; }
}
Interval_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int32Array;
    return proto[Symbol.toStringTag] = 'Interval';
})(Interval_.prototype);
export { Interval_ as Interval };
export class IntervalDayTime extends Interval_ {
    constructor() { super(IntervalUnit.DAY_TIME); }
}
export class IntervalYearMonth extends Interval_ {
    constructor() { super(IntervalUnit.YEAR_MONTH); }
}
export class List extends DataType {
    constructor(child) {
        super([child]);
    }
    get typeId() { return Type.List; }
    toString() { return `List<${this.valueType}>`; }
    get children() { return this._children; }
    get valueType() { return this._children[0].type; }
    get valueField() { return this._children[0]; }
    get ArrayType() { return this.valueType.ArrayType; }
}
List[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'List';
})(List.prototype);
export class Struct extends DataType {
    constructor(_children) {
        super(_children);
        this._children = _children;
    }
    get typeId() { return Type.Struct; }
    get children() { return this._children; }
    toString() { return `Struct<${this._children.map((f) => f.type).join(`, `)}>`; }
}
Struct[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Struct';
})(Struct.prototype);
class Union_ extends DataType {
    constructor(_mode, _typeIds, _children) {
        super(_children);
        this._mode = _mode;
        this._children = _children;
        this._typeIds = _typeIds = Int32Array.from(_typeIds);
        this._typeIdToChildIndex = _typeIds.reduce((typeIdToChildIndex, typeId, idx) => {
            return (typeIdToChildIndex[typeId] = idx) && typeIdToChildIndex || typeIdToChildIndex;
        }, Object.create(null));
    }
    get typeId() { return Type.Union; }
    get mode() { return this._mode; }
    get typeIds() { return this._typeIds; }
    get children() { return this._children; }
    get typeIdToChildIndex() { return this._typeIdToChildIndex; }
    toString() {
        return `${this[Symbol.toStringTag]}<${this._children.map((x) => `${x.type}`).join(` | `)}>`;
    }
}
Union_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int32Array;
    return proto[Symbol.toStringTag] = 'Union';
})(Union_.prototype);
export { Union_ as Union };
export class DenseUnion extends Union_ {
    constructor(typeIds, children) {
        super(UnionMode.Dense, typeIds, children);
    }
}
export class SparseUnion extends Union_ {
    constructor(typeIds, children) {
        super(UnionMode.Sparse, typeIds, children);
    }
}
export class FixedSizeBinary extends DataType {
    constructor(_byteWidth) {
        super();
        this._byteWidth = _byteWidth;
    }
    get typeId() { return Type.FixedSizeBinary; }
    get byteWidth() { return this._byteWidth; }
    toString() { return `FixedSizeBinary[${this.byteWidth}]`; }
}
FixedSizeBinary[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'FixedSizeBinary';
})(FixedSizeBinary.prototype);
export class FixedSizeList extends DataType {
    constructor(_listSize, child) {
        super([child]);
        this._listSize = _listSize;
    }
    get typeId() { return Type.FixedSizeList; }
    get listSize() { return this._listSize; }
    get children() { return this._children; }
    get valueType() { return this.children[0].type; }
    get valueField() { return this.children[0]; }
    get ArrayType() { return this.valueType.ArrayType; }
    toString() { return `FixedSizeList[${this._listSize}]<${this.valueType}>`; }
}
FixedSizeList[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'FixedSizeList';
})(FixedSizeList.prototype);
export class Map_ extends DataType {
    constructor(_children, _keysSorted = false) {
        super(_children);
        this._children = _children;
        this._keysSorted = _keysSorted;
    }
    get typeId() { return Type.Map; }
    get children() { return this._children; }
    get keysSorted() { return this._keysSorted; }
    toString() { return `Map<${this.children.join(`, `)}>`; }
}
Map_[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Map_';
})(Map_.prototype);
const getId = ((atomicDictionaryId) => () => ++atomicDictionaryId)(-1);
export class Dictionary extends DataType {
    constructor(dictionary, indices, id, isOrdered, dictionaryVector) {
        super();
        this._indices = indices;
        this._dictionary = dictionary;
        this._isOrdered = isOrdered || false;
        this._dictionaryVector = dictionaryVector;
        this._id = id == null ? getId() : typeof id === 'number' ? id : id.low;
    }
    set dictionaryVector(v) { this._dictionaryVector = v; }
    get dictionaryVector() { return this._dictionaryVector; }
    get typeId() { return Type.Dictionary; }
    get id() { return this._id; }
    get indices() { return this._indices; }
    get dictionary() { return this._dictionary; }
    get isOrdered() { return this._isOrdered; }
    set children(_) { }
    get children() { return this.dictionary.children; }
    get valueType() { return this.dictionary; }
    get ArrayType() { return this.dictionary.ArrayType; }
    toString() { return `Dictionary<${this.indices}, ${this.dictionary}>`; }
}
Dictionary[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Dictionary';
})(Dictionary.prototype);

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInR5cGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsNkRBQTZEO0FBQzdELCtEQUErRDtBQUMvRCx3REFBd0Q7QUFDeEQsNkRBQTZEO0FBQzdELG9EQUFvRDtBQUNwRCw2REFBNkQ7QUFDN0QsNkRBQTZEO0FBQzdELEVBQUU7QUFDRiwrQ0FBK0M7QUFDL0MsRUFBRTtBQUNGLDZEQUE2RDtBQUM3RCw4REFBOEQ7QUFDOUQseURBQXlEO0FBQ3pELDREQUE0RDtBQUM1RCwwREFBMEQ7QUFDMUQscUJBQXFCO0FBU3JCLE9BQU8sRUFDSCxJQUFJLEVBQ0osU0FBUyxFQUFFLFNBQVMsRUFDcEIsUUFBUSxFQUFFLFFBQVEsRUFBRSxZQUFZLEVBQ25DLE1BQU0sUUFBUSxDQUFDO0FBb0JoQixNQUFNLE9BQU8sUUFBUTtJQTJCakIsWUFBc0IsU0FBK0M7UUFBL0MsY0FBUyxHQUFULFNBQVMsQ0FBc0M7SUFBRyxDQUFDO0lBdEJ6RSxrQkFBa0IsQ0FBQyxNQUFNLENBQVksTUFBTSxDQUFFLENBQU0sSUFBMEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQVksQ0FBQztJQUM3SCxrQkFBa0IsQ0FBQyxNQUFNLENBQWEsS0FBSyxDQUFFLENBQU0sSUFBMEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQWEsQ0FBQztJQUM3SCxrQkFBa0IsQ0FBQyxNQUFNLENBQVcsT0FBTyxDQUFFLENBQU0sSUFBMEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQVcsQ0FBQztJQUM3SCxrQkFBa0IsQ0FBQyxNQUFNLENBQVUsUUFBUSxDQUFFLENBQU0sSUFBMEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQVUsQ0FBQztJQUM3SCxrQkFBa0IsQ0FBQyxNQUFNLENBQVksTUFBTSxDQUFFLENBQU0sSUFBMEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQVksQ0FBQztJQUM3SCxrQkFBa0IsQ0FBQyxNQUFNLENBQVksTUFBTSxDQUFFLENBQU0sSUFBMEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQVksQ0FBQztJQUM3SCxrQkFBa0IsQ0FBQyxNQUFNLENBQVMsU0FBUyxDQUFFLENBQU0sSUFBMEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQVMsQ0FBQztJQUM3SCxrQkFBa0IsQ0FBQyxNQUFNLENBQVksTUFBTSxDQUFFLENBQU0sSUFBMEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQVksQ0FBQztJQUM3SCxrQkFBa0IsQ0FBQyxNQUFNLENBQVksTUFBTSxDQUFFLENBQU0sSUFBMEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQVksQ0FBQztJQUM3SCxrQkFBa0IsQ0FBQyxNQUFNLENBQU8sV0FBVyxDQUFFLENBQU0sSUFBMEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQU8sQ0FBQztJQUM3SCxrQkFBa0IsQ0FBQyxNQUFNLENBQVEsVUFBVSxDQUFFLENBQU0sSUFBMEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQVEsQ0FBQztJQUM3SCxrQkFBa0IsQ0FBQyxNQUFNLENBQVksTUFBTSxDQUFFLENBQU0sSUFBMEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQVksQ0FBQztJ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USxPQUFPLElBQUksQ0FBQyxVQUFlLENBQUMsQ0FBQyxDQUFDO0lBQzFELElBQVcsU0FBUyxLQUFxQixPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztJQUNyRSxRQUFRLEtBQUssT0FBTyxjQUFjLElBQUksQ0FBQyxPQUFPLEtBQUssSUFBSSxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUMsQ0FBQzs7QUFDOUQsV0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQWlCLEVBQUUsRUFBRTtJQUMzRCxPQUFPLEtBQUssQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsWUFBWSxDQUFDO0FBQ3BELENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsQ0FBQyIsImZpbGUiOiJ0eXBlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxuLy8gb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4vLyBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuLy8gcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxuLy8gdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuLy8gXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4vLyB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4vLyBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuLy8gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbi8vIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuLy8gc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuLy8gdW5kZXIgdGhlIExpY2Vuc2UuXG5cbmltcG9ydCB7IEZpZWxkIH0gZnJvbSAnLi9zY2hlbWEnO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSAnLi92ZWN0b3InO1xuaW1wb3J0IHsgZmxhdGJ1ZmZlcnMgfSBmcm9tICdmbGF0YnVmZmVycyc7XG5pbXBvcnQgeyBWZWN0b3IgYXMgVlR5cGUgfSBmcm9tICcuL2ludGVyZmFjZXMnO1xuaW1wb3J0IHsgQXJyYXlCdWZmZXJWaWV3Q29uc3RydWN0b3IgfSBmcm9tICcuL2ludGVyZmFjZXMnO1xuXG5pbXBvcnQgTG9uZyA9IGZsYXRidWZmZXJzLkxvbmc7XG5pbXBvcnQge1xuICAgIFR5cGUsXG4gICAgUHJlY2lzaW9uLCBVbmlvbk1vZGUsXG4gICAgRGF0ZVVuaXQsIFRpbWVVbml0LCBJbnRlcnZhbFVuaXRcbn0gZnJvbSAnLi9lbnVtJztcblxuZXhwb3J0IHR5cGUgVGltZUJpdFdpZHRoID0gMzIgfCA2NDtcbmV4cG9ydCB0eXBlIEludEJpdFdpZHRoID0gOCB8IDE2IHwgMzIgfCA2NDtcbmV4cG9ydCB0eXBlIElzU2lnbmVkID0geyAndHJ1ZSc6IHRydWU7ICdmYWxzZSc6IGZhbHNlIH07XG5cbmV4cG9ydCB0eXBlIFJvd0xpa2U8VCBleHRlbmRzIHsgW2tleTogc3RyaW5nXTogRGF0YVR5cGU7IH0+ID1cbiAgICAgIHsgcmVhZG9ubHkgbGVuZ3RoOiBudW1iZXIgfVxuICAgICYgKCBJdGVyYWJsZTxUW2tleW9mIFRdWydUVmFsdWUnXT4gKVxuICAgICYgeyBbUCBpbiBrZXlvZiBUXTogVFtQXVsnVFZhbHVlJ10gfVxuICAgICYgeyBnZXQ8SyBleHRlbmRzIGtleW9mIFQ+KGtleTogSyk6IFRbS11bJ1RWYWx1ZSddOyB9XG4gICAgO1xuXG5leHBvcnQgaW50ZXJmYWNlIERhdGFUeXBlPFRUeXBlIGV4dGVuZHMgVHlwZSA9IFR5cGU+IHtcbiAgICByZWFkb25seSBUVHlwZTogVFR5cGU7XG4gICAgcmVhZG9ubHkgVEFycmF5OiBhbnk7XG4gICAgcmVhZG9ubHkgVFZhbHVlOiBhbnk7XG4gICAgcmVhZG9ubHkgQXJyYXlUeXBlOiBhbnk7XG59XG5cbmV4cG9ydCBjbGFzcyBEYXRhVHlwZTxUVHlwZSBleHRlbmRzIFR5cGUgPSBUeXBlLCBUQ2hpbGRyZW4gZXh0ZW5kcyB7IFtrZXk6IHN0cmluZ106IERhdGFUeXBlIH0gPSBhbnk+IHtcblxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBwdWJsaWMgW1N5bWJvbC50b1N0cmluZ1RhZ106IHN0cmluZztcblxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgICAgICBpc051bGwgKHg6IGFueSk6IHggaXMgTnVsbCAgICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC50eXBlSWQgPT09IFR5cGUuTnVsbDsgICAgICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICAgICAgICBpc0ludCAoeDogYW55KTogeCBpcyBJbnRfICAgICAgICAgICAgeyByZXR1cm4geCAmJiB4LnR5cGVJZCA9PT0gVHlwZS5JbnQ7ICAgICAgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICAgICBpc0Zsb2F0ICh4OiBhbnkpOiB4IGlzIEZsb2F0ICAgICAgICAgICB7IHJldHVybiB4ICYmIHgudHlwZUlkID09PSBUeXBlLkZsb2F0OyAgICAgICAgICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgICAgaXNCaW5hcnkgKHg6IGFueSk6IHggaXMgQmluYXJ5ICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC50eXBlSWQgPT09IFR5cGUuQmluYXJ5OyAgICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICAgICAgIGlzVXRmOCAoeDogYW55KTogeCBpcyBVdGY4ICAgICAgICAgICAgeyByZXR1cm4geCAmJiB4LnR5cGVJZCA9PT0gVHlwZS5VdGY4OyAgICAgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICAgICAgaXNCb29sICh4OiBhbnkpOiB4IGlzIEJvb2wgICAgICAgICAgICB7IHJldHVybiB4ICYmIHgudHlwZUlkID09PSBUeXBlLkJvb2w7ICAgICAgICAgICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgICBpc0RlY2ltYWwgKHg6IGFueSk6IHggaXMgRGVjaW1hbCAgICAgICAgIHsgcmV0dXJuIHggJiYgeC50eXBlSWQgPT09IFR5cGUuRGVjaW1hbDsgICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICAgICAgIGlzRGF0ZSAoeDogYW55KTogeCBpcyBEYXRlXyAgICAgICAgICAgeyByZXR1cm4geCAmJiB4LnR5cGVJZCA9PT0gVHlwZS5EYXRlOyAgICAgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICAgICAgaXNUaW1lICh4OiBhbnkpOiB4IGlzIFRpbWVfICAgICAgICAgICB7IHJldHVybiB4ICYmIHgudHlwZUlkID09PSBUeXBlLlRpbWU7ICAgICAgICAgICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgaXNUaW1lc3RhbXAgKHg6IGFueSk6IHggaXMgVGltZXN0YW1wXyAgICAgIHsgcmV0dXJuIHggJiYgeC50eXBlSWQgPT09IFR5cGUuVGltZXN0YW1wOyAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICAgaXNJbnRlcnZhbCAoeDogYW55KTogeCBpcyBJbnRlcnZhbF8gICAgICAgeyByZXR1cm4geCAmJiB4LnR5cGVJZCA9PT0gVHlwZS5JbnRlcnZhbDsgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICAgICAgaXNMaXN0ICh4OiBhbnkpOiB4IGlzIExpc3QgICAgICAgICAgICB7IHJldHVybiB4ICYmIHgudHlwZUlkID09PSBUeXBlLkxpc3Q7ICAgICAgICAgICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgICAgaXNTdHJ1Y3QgKHg6IGFueSk6IHggaXMgU3RydWN0ICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC50eXBlSWQgPT09IFR5cGUuU3RydWN0OyAgICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICAgICAgaXNVbmlvbiAoeDogYW55KTogeCBpcyBVbmlvbl8gICAgICAgICAgeyByZXR1cm4geCAmJiB4LnR5cGVJZCA9PT0gVHlwZS5VbmlvbjsgICAgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljIGlzRml4ZWRTaXplQmluYXJ5ICh4OiBhbnkpOiB4IGlzIEZpeGVkU2l6ZUJpbmFyeSB7IHJldHVybiB4ICYmIHgudHlwZUlkID09PSBUeXBlLkZpeGVkU2l6ZUJpbmFyeTsgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICBpc0ZpeGVkU2l6ZUxpc3QgKHg6IGFueSk6IHggaXMgRml4ZWRTaXplTGlzdCAgIHsgcmV0dXJuIHggJiYgeC50eXBlSWQgPT09IFR5cGUuRml4ZWRTaXplTGlzdDsgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICAgICAgICBpc01hcCAoeDogYW55KTogeCBpcyBNYXBfICAgICAgICAgICAgeyByZXR1cm4geCAmJiB4LnR5cGVJZCA9PT0gVHlwZS5NYXA7ICAgICAgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgaXNEaWN0aW9uYXJ5ICh4OiBhbnkpOiB4IGlzIERpY3Rpb25hcnkgICAgICB7IHJldHVybiB4ICYmIHgudHlwZUlkID09PSBUeXBlLkRpY3Rpb25hcnk7ICAgICAgfVxuXG4gICAgcHVibGljIGdldCBjaGlsZHJlbigpIHsgcmV0dXJuIHRoaXMuX2NoaWxkcmVuOyB9XG4gICAgcHVibGljIGdldCB0eXBlSWQoKTogVFR5cGUgeyByZXR1cm4gPGFueT4gVHlwZS5OT05FOyB9XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX2NoaWxkcmVuPzogRmllbGQ8VENoaWxkcmVuW2tleW9mIFRDaGlsZHJlbl0+W10pIHt9XG5cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogRGF0YVR5cGUpID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnRGF0YVR5cGUnO1xuICAgIH0pKERhdGFUeXBlLnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTnVsbCBleHRlbmRzIERhdGFUeXBlPFR5cGUuTnVsbD4geyBUQXJyYXk6IHZvaWQ7IFRWYWx1ZTogbnVsbDsgfVxuZXhwb3J0IGNsYXNzIE51bGwgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLk51bGw+IHtcbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgTnVsbGA7IH1cbiAgICBwdWJsaWMgZ2V0IHR5cGVJZCgpIHsgcmV0dXJuIFR5cGUuTnVsbCBhcyBUeXBlLk51bGw7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogTnVsbCkgPT4ge1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdOdWxsJztcbiAgICB9KShOdWxsLnByb3RvdHlwZSk7XG59XG5cbnR5cGUgSW50cyA9IFR5cGUuSW50IHwgVHlwZS5JbnQ4IHwgVHlwZS5JbnQxNiB8IFR5cGUuSW50MzIgfCBUeXBlLkludDY0IHwgVHlwZS5VaW50OCB8IFR5cGUuVWludDE2IHwgVHlwZS5VaW50MzIgfCBUeXBlLlVpbnQ2NDtcbnR5cGUgSVR5cGUgPSB7XG4gICAgW1R5cGUuSW50ICAgXTogeyBiaXRXaWR0aDogSW50Qml0V2lkdGg7IGlzU2lnbmVkOiB0cnVlIHwgZmFsc2U7IFRBcnJheTogSW50QXJyYXk7ICAgIFRWYWx1ZTogbnVtYmVyIHwgSW50MzJBcnJheSB8IFVpbnQzMkFycmF5OyB9O1xuICAgIFtUeXBlLkludDggIF06IHsgYml0V2lkdGg6ICAgICAgICAgICA4OyBpc1NpZ25lZDogdHJ1ZTsgICAgICAgICBUQXJyYXk6IEludDhBcnJheTsgICBUVmFsdWU6IG51bWJlcjsgICAgICAgICAgICB9O1xuICAgIFtUeXBlLkludDE2IF06IHsgYml0V2lkdGg6ICAgICAgICAgIDE2OyBpc1NpZ25lZDogdHJ1ZTsgICAgICAgICBUQXJyYXk6IEludDE2QXJyYXk7ICBUVmFsdWU6IG51bWJlcjsgICAgICAgICAgICB9O1xuICAgIFtUeXBlLkludDMyIF06IHsgYml0V2lkdGg6ICAgICAgICAgIDMyOyBpc1NpZ25lZDogdHJ1ZTsgICAgICAgICBUQXJyYXk6IEludDMyQXJyYXk7ICBUVmFsdWU6IG51bWJlcjsgICAgICAgICAgICB9O1xuICAgIFtUeXBlLkludDY0IF06IHsgYml0V2lkdGg6ICAgICAgICAgIDY0OyBpc1NpZ25lZDogdHJ1ZTsgICAgICAgICBUQXJyYXk6IEludDMyQXJyYXk7ICBUVmFsdWU6IEludDMyQXJyYXk7ICAgICAgICB9O1xuICAgIFtUeXBlLlVpbnQ4IF06IHsgYml0V2lkdGg6ICAgICAgICAgICA4OyBpc1NpZ25lZDogZmFsc2U7ICAgICAgICBUQXJyYXk6IFVpbnQ4QXJyYXk7ICBUVmFsdWU6IG51bWJlcjsgICAgICAgICAgICB9O1xuICAgIFtUeXBlLlVpbnQxNl06IHsgYml0V2lkdGg6ICAgICAgICAgIDE2OyBpc1NpZ25lZDogZmFsc2U7ICAgICAgICBUQXJyYXk6IFVpbnQxNkFycmF5OyBUVmFsdWU6IG51bWJlcjsgICAgICAgICAgICB9O1xuICAgIFtUeXBlLlVpbnQzMl06IHsgYml0V2lkdGg6ICAgICAgICAgIDMyOyBpc1NpZ25lZDogZmFsc2U7ICAgICAgICBUQXJyYXk6IFVpbnQzMkFycmF5OyBUVmFsdWU6IG51bWJlcjsgICAgICAgICAgICB9O1xuICAgIFtUeXBlLlVpbnQ2NF06IHsgYml0V2lkdGg6ICAgICAgICAgIDY0OyBpc1NpZ25lZDogZmFsc2U7ICAgICAgICBUQXJyYXk6IFVpbnQzMkFycmF5OyBUVmFsdWU6IFVpbnQzMkFycmF5OyAgICAgICB9O1xufTtcblxuaW50ZXJmYWNlIEludF88VCBleHRlbmRzIEludHMgPSBJbnRzPiBleHRlbmRzIERhdGFUeXBlPFQ+IHsgVEFycmF5OiBJVHlwZVtUXVsnVEFycmF5J107IFRWYWx1ZTogSVR5cGVbVF1bJ1RWYWx1ZSddOyB9XG5jbGFzcyBJbnRfPFQgZXh0ZW5kcyBJbnRzID0gSW50cz4gZXh0ZW5kcyBEYXRhVHlwZTxUPiB7XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIF9pc1NpZ25lZDogSVR5cGVbVF1bJ2lzU2lnbmVkJ10sXG4gICAgICAgICAgICAgICAgcHJvdGVjdGVkIF9iaXRXaWR0aDogSVR5cGVbVF1bJ2JpdFdpZHRoJ10pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG4gICAgcHVibGljIGdldCB0eXBlSWQoKSB7IHJldHVybiBUeXBlLkludCBhcyBUOyB9XG4gICAgcHVibGljIGdldCBpc1NpZ25lZCgpIHsgcmV0dXJuIHRoaXMuX2lzU2lnbmVkOyB9XG4gICAgcHVibGljIGdldCBiaXRXaWR0aCgpIHsgcmV0dXJuIHRoaXMuX2JpdFdpZHRoOyB9XG4gICAgcHVibGljIGdldCBBcnJheVR5cGUoKTogQXJyYXlCdWZmZXJWaWV3Q29uc3RydWN0b3I8SVR5cGVbVF1bJ1RBcnJheSddPiB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5fYml0V2lkdGgpIHtcbiAgICAgICAgICAgIGNhc2UgIDg6IHJldHVybiAodGhpcy5faXNTaWduZWQgPyAgSW50OEFycmF5IDogIFVpbnQ4QXJyYXkpIGFzIGFueTtcbiAgICAgICAgICAgIGNhc2UgMTY6IHJldHVybiAodGhpcy5faXNTaWduZWQgPyBJbnQxNkFycmF5IDogVWludDE2QXJyYXkpIGFzIGFueTtcbiAgICAgICAgICAgIGNhc2UgMzI6IHJldHVybiAodGhpcy5faXNTaWduZWQgPyBJbnQzMkFycmF5IDogVWludDMyQXJyYXkpIGFzIGFueTtcbiAgICAgICAgICAgIGNhc2UgNjQ6IHJldHVybiAodGhpcy5faXNTaWduZWQgPyBJbnQzMkFycmF5IDogVWludDMyQXJyYXkpIGFzIGFueTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVucmVjb2duaXplZCAke3RoaXNbU3ltYm9sLnRvU3RyaW5nVGFnXX0gdHlwZWApO1xuICAgIH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgJHt0aGlzLl9pc1NpZ25lZCA/IGBJYCA6IGBVaWB9bnQke3RoaXMuX2JpdFdpZHRofWA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogSW50XykgPT4ge1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdJbnQnO1xuICAgIH0pKEludF8ucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IHsgSW50XyBhcyBJbnQgfTtcblxuZXhwb3J0IGNsYXNzIEludDggZXh0ZW5kcyBJbnRfPFR5cGUuSW50OD4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIodHJ1ZSwgOCk7IH0gfVxuZXhwb3J0IGNsYXNzIEludDE2IGV4dGVuZHMgSW50XzxUeXBlLkludDE2PiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcih0cnVlLCAxNik7IH0gfVxuZXhwb3J0IGNsYXNzIEludDMyIGV4dGVuZHMgSW50XzxUeXBlLkludDMyPiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcih0cnVlLCAzMik7IH0gfVxuZXhwb3J0IGNsYXNzIEludDY0IGV4dGVuZHMgSW50XzxUeXBlLkludDY0PiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcih0cnVlLCA2NCk7IH0gfVxuZXhwb3J0IGNsYXNzIFVpbnQ4IGV4dGVuZHMgSW50XzxUeXBlLlVpbnQ4PiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihmYWxzZSwgOCk7IH0gfVxuZXhwb3J0IGNsYXNzIFVpbnQxNiBleHRlbmRzIEludF88VHlwZS5VaW50MTY+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKGZhbHNlLCAxNik7IH0gfVxuZXhwb3J0IGNsYXNzIFVpbnQzMiBleHRlbmRzIEludF88VHlwZS5VaW50MzI+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKGZhbHNlLCAzMik7IH0gfVxuZXhwb3J0IGNsYXNzIFVpbnQ2NCBleHRlbmRzIEludF88VHlwZS5VaW50NjQ+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKGZhbHNlLCA2NCk7IH0gfVxuXG50eXBlIEZsb2F0cyA9IFR5cGUuRmxvYXQgfCBUeXBlLkZsb2F0MTYgfCBUeXBlLkZsb2F0MzIgfCBUeXBlLkZsb2F0NjQ7XG50eXBlIEZUeXBlID0ge1xuICAgIFtUeXBlLkZsb2F0ICBdOiB7IHByZWNpc2lvbjogUHJlY2lzaW9uOyAgICAgICAgVEFycmF5OiBGbG9hdEFycmF5OyAgICBUVmFsdWU6IG51bWJlcjsgfTtcbiAgICBbVHlwZS5GbG9hdDE2XTogeyBwcmVjaXNpb246IFByZWNpc2lvbi5IQUxGOyAgIFRBcnJheTogVWludDE2QXJyYXk7ICAgVFZhbHVlOiBudW1iZXI7IH07XG4gICAgW1R5cGUuRmxvYXQzMl06IHsgcHJlY2lzaW9uOiBQcmVjaXNpb24uU0lOR0xFOyBUQXJyYXk6IEZsb2F0MzJBcnJheTsgIFRWYWx1ZTogbnVtYmVyOyB9O1xuICAgIFtUeXBlLkZsb2F0NjRdOiB7IHByZWNpc2lvbjogUHJlY2lzaW9uLkRPVUJMRTsgVEFycmF5OiBGbG9hdDMyQXJyYXk7ICBUVmFsdWU6IG51bWJlcjsgfTtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmxvYXQ8VCBleHRlbmRzIEZsb2F0cyA9IEZsb2F0cz4gZXh0ZW5kcyBEYXRhVHlwZTxUPiB7IFRBcnJheTogRlR5cGVbVF1bJ1RBcnJheSddOyBUVmFsdWU6IG51bWJlcjsgfVxuZXhwb3J0IGNsYXNzIEZsb2F0PFQgZXh0ZW5kcyBGbG9hdHMgPSBGbG9hdHM+IGV4dGVuZHMgRGF0YVR5cGU8VD4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfcHJlY2lzaW9uOiBQcmVjaXNpb24pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG4gICAgcHVibGljIGdldCB0eXBlSWQoKSB7IHJldHVybiBUeXBlLkZsb2F0IGFzIFQ7IH1cbiAgICBwdWJsaWMgZ2V0IHByZWNpc2lvbigpIHsgcmV0dXJuIHRoaXMuX3ByZWNpc2lvbjsgfVxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBwdWJsaWMgZ2V0IEFycmF5VHlwZSgpOiBBcnJheUJ1ZmZlclZpZXdDb25zdHJ1Y3RvcjxGVHlwZVtUXVsnVEFycmF5J10+IHtcbiAgICAgICAgc3dpdGNoICh0aGlzLnByZWNpc2lvbikge1xuICAgICAgICAgICAgY2FzZSBQcmVjaXNpb24uSEFMRjogcmV0dXJuIFVpbnQxNkFycmF5IGFzIGFueTtcbiAgICAgICAgICAgIGNhc2UgUHJlY2lzaW9uLlNJTkdMRTogcmV0dXJuIEZsb2F0MzJBcnJheSBhcyBhbnk7XG4gICAgICAgICAgICBjYXNlIFByZWNpc2lvbi5ET1VCTEU6IHJldHVybiBGbG9hdDY0QXJyYXkgYXMgYW55O1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5yZWNvZ25pemVkICR7dGhpc1tTeW1ib2wudG9TdHJpbmdUYWddfSB0eXBlYCk7XG4gICAgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBGbG9hdCR7KHRoaXMucHJlY2lzaW9uIDw8IDUpIHx8IDE2fWA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogRmxvYXQpID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnRmxvYXQnO1xuICAgIH0pKEZsb2F0LnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCBjbGFzcyBGbG9hdDE2IGV4dGVuZHMgRmxvYXQ8VHlwZS5GbG9hdDE2PiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihQcmVjaXNpb24uSEFMRik7IH0gfVxuZXhwb3J0IGNsYXNzIEZsb2F0MzIgZXh0ZW5kcyBGbG9hdDxUeXBlLkZsb2F0MzI+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKFByZWNpc2lvbi5TSU5HTEUpOyB9IH1cbmV4cG9ydCBjbGFzcyBGbG9hdDY0IGV4dGVuZHMgRmxvYXQ8VHlwZS5GbG9hdDY0PiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihQcmVjaXNpb24uRE9VQkxFKTsgfSB9XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmluYXJ5IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5CaW5hcnk+IHsgVEFycmF5OiBVaW50OEFycmF5OyBUVmFsdWU6IFVpbnQ4QXJyYXk7IH1cbmV4cG9ydCBjbGFzcyBCaW5hcnkgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkJpbmFyeT4ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHR5cGVJZCgpIHsgcmV0dXJuIFR5cGUuQmluYXJ5IGFzIFR5cGUuQmluYXJ5OyB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYEJpbmFyeWA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogQmluYXJ5KSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gVWludDhBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnQmluYXJ5JztcbiAgICB9KShCaW5hcnkucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVdGY4IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5VdGY4PiB7IFRBcnJheTogVWludDhBcnJheTsgVFZhbHVlOiBzdHJpbmc7IEFycmF5VHlwZTogdHlwZW9mIFVpbnQ4QXJyYXk7IH1cbmV4cG9ydCBjbGFzcyBVdGY4IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5VdGY4PiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkKCkgeyByZXR1cm4gVHlwZS5VdGY4IGFzIFR5cGUuVXRmODsgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBVdGY4YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBVdGY4KSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gVWludDhBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnVXRmOCc7XG4gICAgfSkoVXRmOC5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJvb2wgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkJvb2w+IHsgVEFycmF5OiBVaW50OEFycmF5OyBUVmFsdWU6IGJvb2xlYW47IEFycmF5VHlwZTogdHlwZW9mIFVpbnQ4QXJyYXk7IH1cbmV4cG9ydCBjbGFzcyBCb29sIGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5Cb29sPiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkKCkgeyByZXR1cm4gVHlwZS5Cb29sIGFzIFR5cGUuQm9vbDsgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBCb29sYDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBCb29sKSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gVWludDhBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnQm9vbCc7XG4gICAgfSkoQm9vbC5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERlY2ltYWwgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkRlY2ltYWw+IHsgVEFycmF5OiBVaW50MzJBcnJheTsgVFZhbHVlOiBVaW50MzJBcnJheTsgQXJyYXlUeXBlOiB0eXBlb2YgVWludDMyQXJyYXk7IH1cbmV4cG9ydCBjbGFzcyBEZWNpbWFsIGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5EZWNpbWFsPiB7XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIF9zY2FsZTogbnVtYmVyLFxuICAgICAgICAgICAgICAgIHByb3RlY3RlZCBfcHJlY2lzaW9uOiBudW1iZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG4gICAgcHVibGljIGdldCB0eXBlSWQoKSB7IHJldHVybiBUeXBlLkRlY2ltYWwgYXMgVHlwZS5EZWNpbWFsOyB9XG4gICAgcHVibGljIGdldCBzY2FsZSgpIHsgcmV0dXJuIHRoaXMuX3NjYWxlOyB9XG4gICAgcHVibGljIGdldCBwcmVjaXNpb24oKSB7IHJldHVybiB0aGlzLl9wcmVjaXNpb247IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgRGVjaW1hbFske3RoaXMuX3ByZWNpc2lvbn1lJHt0aGlzLl9zY2FsZSA+IDAgPyBgK2AgOiBgYH0ke3RoaXMuX3NjYWxlfV1gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IERlY2ltYWwpID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBVaW50MzJBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnRGVjaW1hbCc7XG4gICAgfSkoRGVjaW1hbC5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgdHlwZSBEYXRlcyA9IFR5cGUuRGF0ZSB8IFR5cGUuRGF0ZURheSB8IFR5cGUuRGF0ZU1pbGxpc2Vjb25kO1xuLyogdHNsaW50OmRpc2FibGU6Y2xhc3MtbmFtZSAqL1xuZXhwb3J0IGludGVyZmFjZSBEYXRlXzxUIGV4dGVuZHMgRGF0ZXMgPSBEYXRlcz4gZXh0ZW5kcyBEYXRhVHlwZTxUPiB7IFRBcnJheTogSW50MzJBcnJheTsgVFZhbHVlOiBEYXRlOyBBcnJheVR5cGU6IHR5cGVvZiBJbnQzMkFycmF5OyB9XG5leHBvcnQgY2xhc3MgRGF0ZV88VCBleHRlbmRzIERhdGVzID0gRGF0ZXM+IGV4dGVuZHMgRGF0YVR5cGU8VD4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfdW5pdDogRGF0ZVVuaXQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG4gICAgcHVibGljIGdldCB0eXBlSWQoKSB7IHJldHVybiBUeXBlLkRhdGUgYXMgVDsgfVxuICAgIHB1YmxpYyBnZXQgdW5pdCgpIHsgcmV0dXJuIHRoaXMuX3VuaXQ7IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgRGF0ZSR7KHRoaXMuX3VuaXQgKyAxKSAqIDMyfTwke0RhdGVVbml0W3RoaXMuX3VuaXRdfT5gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IERhdGVfKSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gSW50MzJBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnRGF0ZSc7XG4gICAgfSkoRGF0ZV8ucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGNsYXNzIERhdGVEYXkgZXh0ZW5kcyBEYXRlXzxUeXBlLkRhdGVEYXk+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKERhdGVVbml0LkRBWSk7IH0gfVxuZXhwb3J0IGNsYXNzIERhdGVNaWxsaXNlY29uZCBleHRlbmRzIERhdGVfPFR5cGUuRGF0ZU1pbGxpc2Vjb25kPiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihEYXRlVW5pdC5NSUxMSVNFQ09ORCk7IH0gfVxuXG50eXBlIFRpbWVzID0gVHlwZS5UaW1lIHwgVHlwZS5UaW1lU2Vjb25kIHwgVHlwZS5UaW1lTWlsbGlzZWNvbmQgfCBUeXBlLlRpbWVNaWNyb3NlY29uZCB8IFR5cGUuVGltZU5hbm9zZWNvbmQ7XG50eXBlIFRpbWVzVHlwZSA9IHtcbiAgICBbVHlwZS5UaW1lICAgICAgICAgICBdOiB7IHVuaXQ6IFRpbWVVbml0OyAgICAgICAgICAgICBUVmFsdWU6IG51bWJlciB8IFVpbnQzMkFycmF5IH07XG4gICAgW1R5cGUuVGltZVNlY29uZCAgICAgXTogeyB1bml0OiBUaW1lVW5pdC5TRUNPTkQ7ICAgICAgVFZhbHVlOiBudW1iZXI7ICAgICAgICAgICAgICB9O1xuICAgIFtUeXBlLlRpbWVNaWxsaXNlY29uZF06IHsgdW5pdDogVGltZVVuaXQuTUlMTElTRUNPTkQ7IFRWYWx1ZTogbnVtYmVyOyAgICAgICAgICAgICAgfTtcbiAgICBbVHlwZS5UaW1lTWljcm9zZWNvbmRdOiB7IHVuaXQ6IFRpbWVVbml0Lk1JQ1JPU0VDT05EOyBUVmFsdWU6IFVpbnQzMkFycmF5OyAgICAgICAgIH07XG4gICAgW1R5cGUuVGltZU5hbm9zZWNvbmQgXTogeyB1bml0OiBUaW1lVW5pdC5OQU5PU0VDT05EOyAgVFZhbHVlOiBVaW50MzJBcnJheTsgICAgICAgICB9O1xufTtcblxuaW50ZXJmYWNlIFRpbWVfPFQgZXh0ZW5kcyBUaW1lcyA9IFRpbWVzPiBleHRlbmRzIERhdGFUeXBlPFQ+IHsgVEFycmF5OiBVaW50MzJBcnJheTsgVFZhbHVlOiBUaW1lc1R5cGVbVF1bJ1RWYWx1ZSddOyBBcnJheVR5cGU6IHR5cGVvZiBVaW50MzJBcnJheTsgfVxuY2xhc3MgVGltZV88VCBleHRlbmRzIFRpbWVzID0gVGltZXM+IGV4dGVuZHMgRGF0YVR5cGU8VD4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfdW5pdDogVGltZXNUeXBlW1RdWyd1bml0J10sXG4gICAgICAgICAgICAgICAgcHJvdGVjdGVkIF9iaXRXaWR0aDogVGltZUJpdFdpZHRoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkKCkgeyByZXR1cm4gVHlwZS5UaW1lIGFzIFQ7IH1cbiAgICBwdWJsaWMgZ2V0IHVuaXQoKSB7IHJldHVybiB0aGlzLl91bml0OyB9XG4gICAgcHVibGljIGdldCBiaXRXaWR0aCgpIHsgcmV0dXJuIHRoaXMuX2JpdFdpZHRoOyB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYFRpbWUke3RoaXMuX2JpdFdpZHRofTwke1RpbWVVbml0W3RoaXMuX3VuaXRdfT5gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IFRpbWVfKSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gVWludDMyQXJyYXk7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ1RpbWUnO1xuICAgIH0pKFRpbWVfLnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCB7IFRpbWVfIGFzIFRpbWUgfTtcblxuZXhwb3J0IGNsYXNzIFRpbWVTZWNvbmQgZXh0ZW5kcyBUaW1lXzxUeXBlLlRpbWVTZWNvbmQ+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKFRpbWVVbml0LlNFQ09ORCwgMzIpOyB9IH1cbmV4cG9ydCBjbGFzcyBUaW1lTWlsbGlzZWNvbmQgZXh0ZW5kcyBUaW1lXzxUeXBlLlRpbWVNaWxsaXNlY29uZD4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoVGltZVVuaXQuTUlMTElTRUNPTkQsIDMyKTsgfSB9XG5leHBvcnQgY2xhc3MgVGltZU1pY3Jvc2Vjb25kIGV4dGVuZHMgVGltZV88VHlwZS5UaW1lTWljcm9zZWNvbmQ+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKFRpbWVVbml0Lk1JQ1JPU0VDT05ELCA2NCk7IH0gfVxuZXhwb3J0IGNsYXNzIFRpbWVOYW5vc2Vjb25kIGV4dGVuZHMgVGltZV88VHlwZS5UaW1lTmFub3NlY29uZD4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoVGltZVVuaXQuTkFOT1NFQ09ORCwgNjQpOyB9IH1cblxudHlwZSBUaW1lc3RhbXBzID0gVHlwZS5UaW1lc3RhbXAgfCBUeXBlLlRpbWVzdGFtcFNlY29uZCB8IFR5cGUuVGltZXN0YW1wTWlsbGlzZWNvbmQgfCBUeXBlLlRpbWVzdGFtcE1pY3Jvc2Vjb25kIHwgVHlwZS5UaW1lc3RhbXBOYW5vc2Vjb25kO1xuaW50ZXJmYWNlIFRpbWVzdGFtcF88VCBleHRlbmRzIFRpbWVzdGFtcHMgPSBUaW1lc3RhbXBzPiBleHRlbmRzIERhdGFUeXBlPFQ+IHsgVEFycmF5OiBJbnQzMkFycmF5OyBUVmFsdWU6IG51bWJlcjsgQXJyYXlUeXBlOiB0eXBlb2YgSW50MzJBcnJheTsgfVxuY2xhc3MgVGltZXN0YW1wXzxUIGV4dGVuZHMgVGltZXN0YW1wcyA9IFRpbWVzdGFtcHM+IGV4dGVuZHMgRGF0YVR5cGU8VD4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfdW5pdDogVGltZVVuaXQsIHByb3RlY3RlZCBfdGltZXpvbmU/OiBzdHJpbmcgfCBudWxsKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkKCkgeyByZXR1cm4gVHlwZS5UaW1lc3RhbXAgYXMgVDsgfVxuICAgIHB1YmxpYyBnZXQgdW5pdCgpIHsgcmV0dXJuIHRoaXMuX3VuaXQ7IH1cbiAgICBwdWJsaWMgZ2V0IHRpbWV6b25lKCkgeyByZXR1cm4gdGhpcy5fdGltZXpvbmU7IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgVGltZXN0YW1wPCR7VGltZVVuaXRbdGhpcy5fdW5pdF19JHt0aGlzLl90aW1lem9uZSA/IGAsICR7dGhpcy5fdGltZXpvbmV9YCA6IGBgfT5gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IFRpbWVzdGFtcF8pID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBJbnQzMkFycmF5O1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdUaW1lc3RhbXAnO1xuICAgIH0pKFRpbWVzdGFtcF8ucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IHsgVGltZXN0YW1wXyBhcyBUaW1lc3RhbXAgfTtcblxuZXhwb3J0IGNsYXNzIFRpbWVzdGFtcFNlY29uZCBleHRlbmRzIFRpbWVzdGFtcF88VHlwZS5UaW1lc3RhbXBTZWNvbmQ+IHsgY29uc3RydWN0b3IodGltZXpvbmU/OiBzdHJpbmcgfCBudWxsKSB7IHN1cGVyKFRpbWVVbml0LlNFQ09ORCwgdGltZXpvbmUpOyB9IH1cbmV4cG9ydCBjbGFzcyBUaW1lc3RhbXBNaWxsaXNlY29uZCBleHRlbmRzIFRpbWVzdGFtcF88VHlwZS5UaW1lc3RhbXBNaWxsaXNlY29uZD4geyBjb25zdHJ1Y3Rvcih0aW1lem9uZT86IHN0cmluZyB8IG51bGwpIHsgc3VwZXIoVGltZVVuaXQuTUlMTElTRUNPTkQsIHRpbWV6b25lKTsgfSB9XG5leHBvcnQgY2xhc3MgVGltZXN0YW1wTWljcm9zZWNvbmQgZXh0ZW5kcyBUaW1lc3RhbXBfPFR5cGUuVGltZXN0YW1wTWljcm9zZWNvbmQ+IHsgY29uc3RydWN0b3IodGltZXpvbmU/OiBzdHJpbmcgfCBudWxsKSB7IHN1cGVyKFRpbWVVbml0Lk1JQ1JPU0VDT05ELCB0aW1lem9uZSk7IH0gfVxuZXhwb3J0IGNsYXNzIFRpbWVzdGFtcE5hbm9zZWNvbmQgZXh0ZW5kcyBUaW1lc3RhbXBfPFR5cGUuVGltZXN0YW1wTmFub3NlY29uZD4geyBjb25zdHJ1Y3Rvcih0aW1lem9uZT86IHN0cmluZyB8IG51bGwpIHsgc3VwZXIoVGltZVVuaXQuTkFOT1NFQ09ORCwgdGltZXpvbmUpOyB9IH1cblxudHlwZSBJbnRlcnZhbHMgPSBUeXBlLkludGVydmFsIHwgVHlwZS5JbnRlcnZhbERheVRpbWUgfCBUeXBlLkludGVydmFsWWVhck1vbnRoO1xuaW50ZXJmYWNlIEludGVydmFsXzxUIGV4dGVuZHMgSW50ZXJ2YWxzID0gSW50ZXJ2YWxzPiBleHRlbmRzIERhdGFUeXBlPFQ+IHsgVEFycmF5OiBJbnQzMkFycmF5OyBUVmFsdWU6IEludDMyQXJyYXk7IEFycmF5VHlwZTogdHlwZW9mIEludDMyQXJyYXk7IH1cbmNsYXNzIEludGVydmFsXzxUIGV4dGVuZHMgSW50ZXJ2YWxzID0gSW50ZXJ2YWxzPiBleHRlbmRzIERhdGFUeXBlPFQ+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX3VuaXQ6IEludGVydmFsVW5pdCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHR5cGVJZCgpIHsgcmV0dXJuIFR5cGUuSW50ZXJ2YWwgYXMgVDsgfVxuICAgIHB1YmxpYyBnZXQgdW5pdCgpIHsgcmV0dXJuIHRoaXMuX3VuaXQ7IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgSW50ZXJ2YWw8JHtJbnRlcnZhbFVuaXRbdGhpcy5fdW5pdF19PmA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogSW50ZXJ2YWxfKSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gSW50MzJBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnSW50ZXJ2YWwnO1xuICAgIH0pKEludGVydmFsXy5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgeyBJbnRlcnZhbF8gYXMgSW50ZXJ2YWwgfTtcblxuZXhwb3J0IGNsYXNzIEludGVydmFsRGF5VGltZSBleHRlbmRzIEludGVydmFsXzxUeXBlLkludGVydmFsRGF5VGltZT4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoSW50ZXJ2YWxVbml0LkRBWV9USU1FKTsgfSB9XG5leHBvcnQgY2xhc3MgSW50ZXJ2YWxZZWFyTW9udGggZXh0ZW5kcyBJbnRlcnZhbF88VHlwZS5JbnRlcnZhbFllYXJNb250aD4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoSW50ZXJ2YWxVbml0LllFQVJfTU9OVEgpOyB9IH1cblxuZXhwb3J0IGludGVyZmFjZSBMaXN0PFQgZXh0ZW5kcyBEYXRhVHlwZSA9IGFueT4gZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkxpc3QsIHsgWzBdOiBUIH0+ICB7IFRBcnJheTogSXRlcmFibGVBcnJheUxpa2U8VD47IFRWYWx1ZTogVlR5cGU8VD47IH1cbmV4cG9ydCBjbGFzcyBMaXN0PFQgZXh0ZW5kcyBEYXRhVHlwZSA9IGFueT4gZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkxpc3QsIHsgWzBdOiBUIH0+IHtcbiAgICBjb25zdHJ1Y3RvcihjaGlsZDogRmllbGQ8VD4pIHtcbiAgICAgICAgc3VwZXIoW2NoaWxkXSk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkKCkgeyByZXR1cm4gVHlwZS5MaXN0IGFzIFR5cGUuTGlzdDsgfVxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBwcm90ZWN0ZWQgX2NoaWxkcmVuOiBGaWVsZDxUPltdO1xuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBMaXN0PCR7dGhpcy52YWx1ZVR5cGV9PmA7IH1cbiAgICBwdWJsaWMgZ2V0IGNoaWxkcmVuKCkgeyByZXR1cm4gdGhpcy5fY2hpbGRyZW47IH1cbiAgICBwdWJsaWMgZ2V0IHZhbHVlVHlwZSgpOiBUIHsgcmV0dXJuIHRoaXMuX2NoaWxkcmVuWzBdLnR5cGUgYXMgVDsgfVxuICAgIHB1YmxpYyBnZXQgdmFsdWVGaWVsZCgpOiBGaWVsZDxUPiB7IHJldHVybiB0aGlzLl9jaGlsZHJlblswXSBhcyBGaWVsZDxUPjsgfVxuICAgIHB1YmxpYyBnZXQgQXJyYXlUeXBlKCk6IFRbJ0FycmF5VHlwZSddIHsgcmV0dXJuIHRoaXMudmFsdWVUeXBlLkFycmF5VHlwZTsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBMaXN0KSA9PiB7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ0xpc3QnO1xuICAgIH0pKExpc3QucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJ1Y3Q8VCBleHRlbmRzIHsgW2tleTogc3RyaW5nXTogRGF0YVR5cGU7IH0gPSBhbnk+IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5TdHJ1Y3Q+IHsgVEFycmF5OiBJdGVyYWJsZUFycmF5TGlrZTxSb3dMaWtlPFQ+PjsgVFZhbHVlOiBSb3dMaWtlPFQ+OyBkYXRhVHlwZXM6IFQ7IH1cbmV4cG9ydCBjbGFzcyBTdHJ1Y3Q8VCBleHRlbmRzIHsgW2tleTogc3RyaW5nXTogRGF0YVR5cGU7IH0gPSBhbnk+IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5TdHJ1Y3QsIFQ+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX2NoaWxkcmVuOiBGaWVsZDxUW2tleW9mIFRdPltdKSB7XG4gICAgICAgIHN1cGVyKF9jaGlsZHJlbik7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkKCkgeyByZXR1cm4gVHlwZS5TdHJ1Y3QgYXMgVHlwZS5TdHJ1Y3Q7IH1cbiAgICBwdWJsaWMgZ2V0IGNoaWxkcmVuKCkgeyByZXR1cm4gdGhpcy5fY2hpbGRyZW47IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgU3RydWN0PCR7dGhpcy5fY2hpbGRyZW4ubWFwKChmKSA9PiBmLnR5cGUpLmpvaW4oYCwgYCl9PmA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogU3RydWN0KSA9PiB7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ1N0cnVjdCc7XG4gICAgfSkoU3RydWN0LnByb3RvdHlwZSk7XG59XG5cbnR5cGUgVW5pb25zID0gVHlwZS5VbmlvbiB8IFR5cGUuRGVuc2VVbmlvbiB8IFR5cGUuU3BhcnNlVW5pb247XG5pbnRlcmZhY2UgVW5pb25fPFQgZXh0ZW5kcyBVbmlvbnMgPSBVbmlvbnM+IGV4dGVuZHMgRGF0YVR5cGU8VD4geyBUQXJyYXk6IEludDMyQXJyYXk7IFRWYWx1ZTogYW55W107IH1cbmNsYXNzIFVuaW9uXzxUIGV4dGVuZHMgVW5pb25zID0gVW5pb25zPiBleHRlbmRzIERhdGFUeXBlPFQ+IHtcbiAgICBwcm90ZWN0ZWQgX3R5cGVJZHM6IEludDMyQXJyYXk7XG4gICAgcHJvdGVjdGVkIF9jaGlsZHJlbjogRmllbGQ8YW55PltdO1xuICAgIHByb3RlY3RlZCBfdHlwZUlkVG9DaGlsZEluZGV4OiB7IFtrZXk6IG51bWJlcl06IG51bWJlciB9O1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfbW9kZTogVW5pb25Nb2RlLCBfdHlwZUlkczogbnVtYmVyW10gfCBJbnQzMkFycmF5LCBfY2hpbGRyZW46IEZpZWxkPGFueT5bXSkge1xuICAgICAgICBzdXBlcihfY2hpbGRyZW4pO1xuICAgICAgICB0aGlzLl9jaGlsZHJlbiA9IF9jaGlsZHJlbjtcbiAgICAgICAgdGhpcy5fdHlwZUlkcyA9IF90eXBlSWRzID0gSW50MzJBcnJheS5mcm9tKF90eXBlSWRzKTtcbiAgICAgICAgdGhpcy5fdHlwZUlkVG9DaGlsZEluZGV4ID0gX3R5cGVJZHMucmVkdWNlKCh0eXBlSWRUb0NoaWxkSW5kZXgsIHR5cGVJZCwgaWR4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKHR5cGVJZFRvQ2hpbGRJbmRleFt0eXBlSWRdID0gaWR4KSAmJiB0eXBlSWRUb0NoaWxkSW5kZXggfHwgdHlwZUlkVG9DaGlsZEluZGV4O1xuICAgICAgICB9LCBPYmplY3QuY3JlYXRlKG51bGwpIGFzIHsgW2tleTogbnVtYmVyXTogbnVtYmVyIH0pO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHR5cGVJZCgpIHsgcmV0dXJuIFR5cGUuVW5pb24gYXMgVDsgfVxuICAgIHB1YmxpYyBnZXQgbW9kZSgpIHsgcmV0dXJuIHRoaXMuX21vZGU7IH1cbiAgICBwdWJsaWMgZ2V0IHR5cGVJZHMoKSB7IHJldHVybiB0aGlzLl90eXBlSWRzOyB9XG4gICAgcHVibGljIGdldCBjaGlsZHJlbigpIHsgcmV0dXJuIHRoaXMuX2NoaWxkcmVuOyB9XG4gICAgcHVibGljIGdldCB0eXBlSWRUb0NoaWxkSW5kZXgoKSB7IHJldHVybiB0aGlzLl90eXBlSWRUb0NoaWxkSW5kZXg7IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgJHt0aGlzW1N5bWJvbC50b1N0cmluZ1RhZ119PCR7XG4gICAgICAgIHRoaXMuX2NoaWxkcmVuLm1hcCgoeCkgPT4gYCR7eC50eXBlfWApLmpvaW4oYCB8IGApXG4gICAgfT5gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IFVuaW9uXykgPT4ge1xuICAgICAgICAoPGFueT4gcHJvdG8pLkFycmF5VHlwZSA9IEludDMyQXJyYXk7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ1VuaW9uJztcbiAgICB9KShVbmlvbl8ucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IHsgVW5pb25fIGFzIFVuaW9uIH07XG5cbmV4cG9ydCBjbGFzcyBEZW5zZVVuaW9uIGV4dGVuZHMgVW5pb25fPFR5cGUuRGVuc2VVbmlvbj4ge1xuICAgIGNvbnN0cnVjdG9yKHR5cGVJZHM6IG51bWJlcltdIHwgSW50MzJBcnJheSwgY2hpbGRyZW46IEZpZWxkW10pIHtcbiAgICAgICAgc3VwZXIoVW5pb25Nb2RlLkRlbnNlLCB0eXBlSWRzLCBjaGlsZHJlbik7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3BhcnNlVW5pb24gZXh0ZW5kcyBVbmlvbl88VHlwZS5TcGFyc2VVbmlvbj4ge1xuICAgIGNvbnN0cnVjdG9yKHR5cGVJZHM6IG51bWJlcltdIHwgSW50MzJBcnJheSwgY2hpbGRyZW46IEZpZWxkW10pIHtcbiAgICAgICAgc3VwZXIoVW5pb25Nb2RlLlNwYXJzZSwgdHlwZUlkcywgY2hpbGRyZW4pO1xuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBGaXhlZFNpemVCaW5hcnkgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkZpeGVkU2l6ZUJpbmFyeT4geyBUQXJyYXk6IFVpbnQ4QXJyYXk7IFRWYWx1ZTogVWludDhBcnJheTsgQXJyYXlUeXBlOiB0eXBlb2YgVWludDhBcnJheTsgfVxuZXhwb3J0IGNsYXNzIEZpeGVkU2l6ZUJpbmFyeSBleHRlbmRzIERhdGFUeXBlPFR5cGUuRml4ZWRTaXplQmluYXJ5PiB7XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIF9ieXRlV2lkdGg6IG51bWJlcikge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHR5cGVJZCgpIHsgcmV0dXJuIFR5cGUuRml4ZWRTaXplQmluYXJ5IGFzIFR5cGUuRml4ZWRTaXplQmluYXJ5OyB9XG4gICAgcHVibGljIGdldCBieXRlV2lkdGgoKSB7IHJldHVybiB0aGlzLl9ieXRlV2lkdGg7IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgRml4ZWRTaXplQmluYXJ5WyR7dGhpcy5ieXRlV2lkdGh9XWA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogRml4ZWRTaXplQmluYXJ5KSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gVWludDhBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnRml4ZWRTaXplQmluYXJ5JztcbiAgICB9KShGaXhlZFNpemVCaW5hcnkucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGaXhlZFNpemVMaXN0PFQgZXh0ZW5kcyBEYXRhVHlwZSA9IGFueT4gZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkZpeGVkU2l6ZUxpc3Q+IHsgVEFycmF5OiBJdGVyYWJsZUFycmF5TGlrZTxUWydUQXJyYXknXT47IFRWYWx1ZTogVlR5cGU8VD47IH1cbmV4cG9ydCBjbGFzcyBGaXhlZFNpemVMaXN0PFQgZXh0ZW5kcyBEYXRhVHlwZSA9IGFueT4gZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkZpeGVkU2l6ZUxpc3QsIHsgWzBdOiBUIH0+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX2xpc3RTaXplOiBudW1iZXIsIGNoaWxkOiBGaWVsZDxUPikge1xuICAgICAgICBzdXBlcihbY2hpbGRdKTtcbiAgICB9XG4gICAgcHVibGljIGdldCB0eXBlSWQoKSB7IHJldHVybiBUeXBlLkZpeGVkU2l6ZUxpc3QgYXMgVHlwZS5GaXhlZFNpemVMaXN0OyB9XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHByb3RlY3RlZCBfY2hpbGRyZW46IEZpZWxkPFQ+W107XG4gICAgcHVibGljIGdldCBsaXN0U2l6ZSgpIHsgcmV0dXJuIHRoaXMuX2xpc3RTaXplOyB9XG4gICAgcHVibGljIGdldCBjaGlsZHJlbigpIHsgcmV0dXJuIHRoaXMuX2NoaWxkcmVuOyB9XG4gICAgcHVibGljIGdldCB2YWx1ZVR5cGUoKTogVCB7IHJldHVybiB0aGlzLmNoaWxkcmVuWzBdLnR5cGUgYXMgVDsgfVxuICAgIHB1YmxpYyBnZXQgdmFsdWVGaWVsZCgpOiBGaWVsZDxUPiB7IHJldHVybiB0aGlzLmNoaWxkcmVuWzBdIGFzIEZpZWxkPFQ+OyB9XG4gICAgcHVibGljIGdldCBBcnJheVR5cGUoKTogVFsnQXJyYXlUeXBlJ10geyByZXR1cm4gdGhpcy52YWx1ZVR5cGUuQXJyYXlUeXBlOyB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYEZpeGVkU2l6ZUxpc3RbJHt0aGlzLl9saXN0U2l6ZX1dPCR7dGhpcy52YWx1ZVR5cGV9PmA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogRml4ZWRTaXplTGlzdCkgPT4ge1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdGaXhlZFNpemVMaXN0JztcbiAgICB9KShGaXhlZFNpemVMaXN0LnByb3RvdHlwZSk7XG59XG5cbi8qIHRzbGludDpkaXNhYmxlOmNsYXNzLW5hbWUgKi9cbmV4cG9ydCBpbnRlcmZhY2UgTWFwXzxUIGV4dGVuZHMgeyBba2V5OiBzdHJpbmddOiBEYXRhVHlwZTsgfSA9IGFueT4gZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLk1hcD4geyBUQXJyYXk6IFVpbnQ4QXJyYXk7IFRWYWx1ZTogUm93TGlrZTxUPjsgZGF0YVR5cGVzOiBUOyB9XG5leHBvcnQgY2xhc3MgTWFwXzxUIGV4dGVuZHMgeyBba2V5OiBzdHJpbmddOiBEYXRhVHlwZTsgfSA9IGFueT4gZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLk1hcCwgVD4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfY2hpbGRyZW46IEZpZWxkPFRba2V5b2YgVF0+W10sXG4gICAgICAgICAgICAgICAgcHJvdGVjdGVkIF9rZXlzU29ydGVkOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgc3VwZXIoX2NoaWxkcmVuKTtcbiAgICB9XG4gICAgcHVibGljIGdldCB0eXBlSWQoKSB7IHJldHVybiBUeXBlLk1hcCBhcyBUeXBlLk1hcDsgfVxuICAgIHB1YmxpYyBnZXQgY2hpbGRyZW4oKSB7IHJldHVybiB0aGlzLl9jaGlsZHJlbjsgfVxuICAgIHB1YmxpYyBnZXQga2V5c1NvcnRlZCgpIHsgcmV0dXJuIHRoaXMuX2tleXNTb3J0ZWQ7IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgTWFwPCR7dGhpcy5jaGlsZHJlbi5qb2luKGAsIGApfT5gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IE1hcF8pID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnTWFwXyc7XG4gICAgfSkoTWFwXy5wcm90b3R5cGUpO1xufVxuXG5jb25zdCBnZXRJZCA9ICgoYXRvbWljRGljdGlvbmFyeUlkKSA9PiAoKSA9PiArK2F0b21pY0RpY3Rpb25hcnlJZCkoLTEpO1xuXG5leHBvcnQgdHlwZSBUS2V5cyA9IEludDggfCBJbnQxNiB8IEludDMyIHwgVWludDggfCBVaW50MTYgfCBVaW50MzI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGljdGlvbmFyeTxUIGV4dGVuZHMgRGF0YVR5cGUgPSBhbnksIFRLZXkgZXh0ZW5kcyBUS2V5cyA9IFRLZXlzPiBleHRlbmRzIERhdGFUeXBlPFR5cGUuRGljdGlvbmFyeT4geyBUQXJyYXk6IFRLZXlbJ1RBcnJheSddOyBUVmFsdWU6IFRbJ1RWYWx1ZSddOyB9XG5leHBvcnQgY2xhc3MgRGljdGlvbmFyeTxUIGV4dGVuZHMgRGF0YVR5cGUgPSBhbnksIFRLZXkgZXh0ZW5kcyBUS2V5cyA9IFRLZXlzPiBleHRlbmRzIERhdGFUeXBlPFR5cGUuRGljdGlvbmFyeT4ge1xuICAgIHByb3RlY3RlZCBfaWQ6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgX2luZGljZXM6IFRLZXk7XG4gICAgcHJvdGVjdGVkIF9kaWN0aW9uYXJ5OiBUO1xuICAgIHByb3RlY3RlZCBfaXNPcmRlcmVkOiBib29sZWFuO1xuICAgIHByb3RlY3RlZCBfZGljdGlvbmFyeVZlY3RvcjogVmVjdG9yPFQ+O1xuICAgIHB1YmxpYyBzZXQgZGljdGlvbmFyeVZlY3Rvcih2KSB7IHRoaXMuX2RpY3Rpb25hcnlWZWN0b3IgPSB2OyB9XG4gICAgcHVibGljIGdldCBkaWN0aW9uYXJ5VmVjdG9yKCkgeyByZXR1cm4gdGhpcy5fZGljdGlvbmFyeVZlY3RvcjsgfVxuICAgIGNvbnN0cnVjdG9yKGRpY3Rpb25hcnk6IFQsIGluZGljZXM6IFRLZXksIGlkPzogTG9uZyB8IG51bWJlciB8IG51bGwsIGlzT3JkZXJlZD86IGJvb2xlYW4gfCBudWxsLCBkaWN0aW9uYXJ5VmVjdG9yPzogVmVjdG9yPFQ+KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2luZGljZXMgPSBpbmRpY2VzO1xuICAgICAgICB0aGlzLl9kaWN0aW9uYXJ5ID0gZGljdGlvbmFyeTtcbiAgICAgICAgdGhpcy5faXNPcmRlcmVkID0gaXNPcmRlcmVkIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLl9kaWN0aW9uYXJ5VmVjdG9yID0gZGljdGlvbmFyeVZlY3RvciE7XG4gICAgICAgIHRoaXMuX2lkID0gaWQgPT0gbnVsbCA/IGdldElkKCkgOiB0eXBlb2YgaWQgPT09ICdudW1iZXInID8gaWQgOiBpZC5sb3c7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkKCkgeyByZXR1cm4gVHlwZS5EaWN0aW9uYXJ5IGFzIFR5cGUuRGljdGlvbmFyeTsgfVxuICAgIHB1YmxpYyBnZXQgaWQoKSB7IHJldHVybiB0aGlzLl9pZDsgfVxuICAgIHB1YmxpYyBnZXQgaW5kaWNlcygpIHsgcmV0dXJuIHRoaXMuX2luZGljZXM7IH1cbiAgICBwdWJsaWMgZ2V0IGRpY3Rpb25hcnkoKSB7IHJldHVybiB0aGlzLl9kaWN0aW9uYXJ5OyB9XG4gICAgcHVibGljIGdldCBpc09yZGVyZWQoKSB7IHJldHVybiB0aGlzLl9pc09yZGVyZWQ7IH1cbiAgICBwdWJsaWMgc2V0IGNoaWxkcmVuKF86IFRbJ2NoaWxkcmVuJ10pIHt9XG4gICAgcHVibGljIGdldCBjaGlsZHJlbigpIHsgcmV0dXJuIHRoaXMuZGljdGlvbmFyeS5jaGlsZHJlbjsgfVxuICAgIHB1YmxpYyBnZXQgdmFsdWVUeXBlKCk6IFQgeyByZXR1cm4gdGhpcy5kaWN0aW9uYXJ5IGFzIFQ7IH1cbiAgICBwdWJsaWMgZ2V0IEFycmF5VHlwZSgpOiBUWydBcnJheVR5cGUnXSB7IHJldHVybiB0aGlzLmRpY3Rpb25hcnkuQXJyYXlUeXBlOyB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYERpY3Rpb25hcnk8JHt0aGlzLmluZGljZXN9LCAke3RoaXMuZGljdGlvbmFyeX0+YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBEaWN0aW9uYXJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ0RpY3Rpb25hcnknO1xuICAgIH0pKERpY3Rpb25hcnkucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJdGVyYWJsZUFycmF5TGlrZTxUID0gYW55PiBleHRlbmRzIEFycmF5TGlrZTxUPiwgSXRlcmFibGU8VD4ge31cbmV4cG9ydCB0eXBlIEZsb2F0QXJyYXkgPSBVaW50MTZBcnJheSB8IEZsb2F0MzJBcnJheSB8IEZsb2F0NjRBcnJheTtcbmV4cG9ydCB0eXBlIEludEFycmF5ID0gSW50OEFycmF5IHwgSW50MTZBcnJheSB8IEludDMyQXJyYXkgfCBVaW50OEFycmF5IHwgVWludDE2QXJyYXkgfCBVaW50MzJBcnJheTtcbiJdfQ==
