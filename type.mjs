// Licensed to the Apache Software Foundation (ASF) under one
// or more contributor license agreements.  See the NOTICE file
// distributed with this work for additional information
// regarding copyright ownership.  The ASF licenses this file
// to you under the Apache License, Version 2.0 (the
// "License"); you may not use this file except in compliance
// with the License.  You may obtain a copy of the License at
//
//   http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing,
// software distributed under the License is distributed on an
// "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
// KIND, either express or implied.  See the License for the
// specific language governing permissions and limitations
// under the License.
import * as Schema_ from './fb/Schema';
import * as Message_ from './fb/Message';
import { flatbuffers } from 'flatbuffers';
import { DictionaryBatch } from './ipc/metadata';
import { TypeVisitor } from './visitor';
export var Long = flatbuffers.Long;
export var ArrowType = Schema_.org.apache.arrow.flatbuf.Type;
export var DateUnit = Schema_.org.apache.arrow.flatbuf.DateUnit;
export var TimeUnit = Schema_.org.apache.arrow.flatbuf.TimeUnit;
export var Precision = Schema_.org.apache.arrow.flatbuf.Precision;
export var UnionMode = Schema_.org.apache.arrow.flatbuf.UnionMode;
export var VectorType = Schema_.org.apache.arrow.flatbuf.VectorType;
export var IntervalUnit = Schema_.org.apache.arrow.flatbuf.IntervalUnit;
export var MessageHeader = Message_.org.apache.arrow.flatbuf.MessageHeader;
export var MetadataVersion = Schema_.org.apache.arrow.flatbuf.MetadataVersion;
export class Schema {
    constructor(fields, metadata, version = MetadataVersion.V4, dictionaries = new Map()) {
        this.fields = fields;
        this.version = version;
        this.metadata = metadata;
        this.dictionaries = dictionaries;
    }
    static from(vectors) {
        return new Schema(vectors.map((v, i) => new Field('' + i, v.type)));
    }
    get bodyLength() { return this._bodyLength; }
    get headerType() { return this._headerType; }
    select(...fieldNames) {
        const namesToKeep = fieldNames.reduce((xs, x) => (xs[x] = true) && xs, Object.create(null));
        const newDictFields = new Map(), newFields = this.fields.filter((f) => namesToKeep[f.name]);
        this.dictionaries.forEach((f, dictId) => (namesToKeep[f.name]) && newDictFields.set(dictId, f));
        return new Schema(newFields, this.metadata, this.version, newDictFields);
    }
}
Schema[Symbol.toStringTag] = ((prototype) => {
    prototype._bodyLength = 0;
    prototype._headerType = MessageHeader.Schema;
    return 'Schema';
})(Schema.prototype);
export class Field {
    constructor(name, type, nullable = false, metadata) {
        this.name = name;
        this.type = type;
        this.nullable = nullable;
        this.metadata = metadata;
    }
    toString() { return `${this.name}: ${this.type}`; }
    get typeId() { return this.type.TType; }
    get [Symbol.toStringTag]() { return 'Field'; }
    get indices() {
        return DataType.isDictionary(this.type) ? this.type.indices : this.type;
    }
}
/**
 * *
 * Main data type enumeration:
 * *
 * Data types in this library are all *logical*. They can be expressed as
 * either a primitive physical type (bytes or bits of some fixed size), a
 * nested type consisting of other data types, or another data type (e.g. a
 * timestamp encoded as an int64)
 */
export var Type;
(function (Type) {
    Type[Type["NONE"] = 0] = "NONE";
    Type[Type["Null"] = 1] = "Null";
    Type[Type["Int"] = 2] = "Int";
    Type[Type["Float"] = 3] = "Float";
    Type[Type["Binary"] = 4] = "Binary";
    Type[Type["Utf8"] = 5] = "Utf8";
    Type[Type["Bool"] = 6] = "Bool";
    Type[Type["Decimal"] = 7] = "Decimal";
    Type[Type["Date"] = 8] = "Date";
    Type[Type["Time"] = 9] = "Time";
    Type[Type["Timestamp"] = 10] = "Timestamp";
    Type[Type["Interval"] = 11] = "Interval";
    Type[Type["List"] = 12] = "List";
    Type[Type["Struct"] = 13] = "Struct";
    Type[Type["Union"] = 14] = "Union";
    Type[Type["FixedSizeBinary"] = 15] = "FixedSizeBinary";
    Type[Type["FixedSizeList"] = 16] = "FixedSizeList";
    Type[Type["Map"] = 17] = "Map";
    Type["Dictionary"] = "Dictionary";
    Type["DenseUnion"] = "DenseUnion";
    Type["SparseUnion"] = "SparseUnion";
})(Type || (Type = {}));
export class DataType {
    constructor(TType, children) {
        this.TType = TType;
        this.children = children;
    }
    static isNull(x) { return x && x.TType === Type.Null; }
    static isInt(x) { return x && x.TType === Type.Int; }
    static isFloat(x) { return x && x.TType === Type.Float; }
    static isBinary(x) { return x && x.TType === Type.Binary; }
    static isUtf8(x) { return x && x.TType === Type.Utf8; }
    static isBool(x) { return x && x.TType === Type.Bool; }
    static isDecimal(x) { return x && x.TType === Type.Decimal; }
    static isDate(x) { return x && x.TType === Type.Date; }
    static isTime(x) { return x && x.TType === Type.Time; }
    static isTimestamp(x) { return x && x.TType === Type.Timestamp; }
    static isInterval(x) { return x && x.TType === Type.Interval; }
    static isList(x) { return x && x.TType === Type.List; }
    static isStruct(x) { return x && x.TType === Type.Struct; }
    static isUnion(x) { return x && x.TType === Type.Union; }
    static isDenseUnion(x) { return x && x.TType === Type.DenseUnion; }
    static isSparseUnion(x) { return x && x.TType === Type.SparseUnion; }
    static isFixedSizeBinary(x) { return x && x.TType === Type.FixedSizeBinary; }
    static isFixedSizeList(x) { return x && x.TType === Type.FixedSizeList; }
    static isMap(x) { return x && x.TType === Type.Map; }
    static isDictionary(x) { return x && x.TType === Type.Dictionary; }
    acceptTypeVisitor(visitor) {
        return TypeVisitor.visitTypeInline(visitor, this);
    }
}
DataType[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Array;
    return proto[Symbol.toStringTag] = 'DataType';
})(DataType.prototype);
export class Null extends DataType {
    constructor() {
        super(Type.Null);
    }
    toString() { return `Null`; }
}
Null[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Null';
})(Null.prototype);
export class Int extends DataType {
    constructor(isSigned, bitWidth) {
        super(Type.Int);
        this.isSigned = isSigned;
        this.bitWidth = bitWidth;
    }
    get ArrayType() {
        switch (this.bitWidth) {
            case 8: return (this.isSigned ? Int8Array : Uint8Array);
            case 16: return (this.isSigned ? Int16Array : Uint16Array);
            case 32: return (this.isSigned ? Int32Array : Uint32Array);
            case 64: return (this.isSigned ? Int32Array : Uint32Array);
        }
        throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`);
    }
    toString() { return `${this.isSigned ? `I` : `Ui`}nt${this.bitWidth}`; }
}
Int[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Int';
})(Int.prototype);
export class Int8 extends Int {
    constructor() { super(true, 8); }
}
export class Int16 extends Int {
    constructor() { super(true, 16); }
}
export class Int32 extends Int {
    constructor() { super(true, 32); }
}
export class Int64 extends Int {
    constructor() { super(true, 64); }
}
export class Uint8 extends Int {
    constructor() { super(false, 8); }
}
export class Uint16 extends Int {
    constructor() { super(false, 16); }
}
export class Uint32 extends Int {
    constructor() { super(false, 32); }
}
export class Uint64 extends Int {
    constructor() { super(false, 64); }
}
export class Float extends DataType {
    constructor(precision) {
        super(Type.Float);
        this.precision = precision;
    }
    // @ts-ignore
    get ArrayType() {
        switch (this.precision) {
            case Precision.HALF: return Uint16Array;
            case Precision.SINGLE: return Float32Array;
            case Precision.DOUBLE: return Float64Array;
        }
        throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`);
    }
    toString() { return `Float${(this.precision << 5) || 16}`; }
}
Float[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Float';
})(Float.prototype);
export class Float16 extends Float {
    constructor() { super(Precision.HALF); }
}
export class Float32 extends Float {
    constructor() { super(Precision.SINGLE); }
}
export class Float64 extends Float {
    constructor() { super(Precision.DOUBLE); }
}
export class Binary extends DataType {
    constructor() {
        super(Type.Binary);
    }
    toString() { return `Binary`; }
}
Binary[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'Binary';
})(Binary.prototype);
export class Utf8 extends DataType {
    constructor() {
        super(Type.Utf8);
    }
    toString() { return `Utf8`; }
}
Utf8[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'Utf8';
})(Utf8.prototype);
export class Bool extends DataType {
    constructor() {
        super(Type.Bool);
    }
    toString() { return `Bool`; }
}
Bool[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'Bool';
})(Bool.prototype);
export class Decimal extends DataType {
    constructor(scale, precision) {
        super(Type.Decimal);
        this.scale = scale;
        this.precision = precision;
    }
    toString() { return `Decimal[${this.precision}e${this.scale > 0 ? `+` : ``}${this.scale}]`; }
}
Decimal[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint32Array;
    return proto[Symbol.toStringTag] = 'Decimal';
})(Decimal.prototype);
export class Date_ extends DataType {
    constructor(unit) {
        super(Type.Date);
        this.unit = unit;
    }
    toString() { return `Date${(this.unit + 1) * 32}<${DateUnit[this.unit]}>`; }
}
Date_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int32Array;
    return proto[Symbol.toStringTag] = 'Date';
})(Date_.prototype);
export class Time extends DataType {
    constructor(unit, bitWidth) {
        super(Type.Time);
        this.unit = unit;
        this.bitWidth = bitWidth;
    }
    toString() { return `Time${this.bitWidth}<${TimeUnit[this.unit]}>`; }
}
Time[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint32Array;
    return proto[Symbol.toStringTag] = 'Time';
})(Time.prototype);
export class Timestamp extends DataType {
    constructor(unit, timezone) {
        super(Type.Timestamp);
        this.unit = unit;
        this.timezone = timezone;
    }
    toString() { return `Timestamp<${TimeUnit[this.unit]}${this.timezone ? `, ${this.timezone}` : ``}>`; }
}
Timestamp[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int32Array;
    return proto[Symbol.toStringTag] = 'Timestamp';
})(Timestamp.prototype);
export class Interval extends DataType {
    constructor(unit) {
        super(Type.Interval);
        this.unit = unit;
    }
    toString() { return `Interval<${IntervalUnit[this.unit]}>`; }
}
Interval[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int32Array;
    return proto[Symbol.toStringTag] = 'Interval';
})(Interval.prototype);
export class List extends DataType {
    constructor(children) {
        super(Type.List, children);
        this.children = children;
    }
    toString() { return `List<${this.valueType}>`; }
    get ArrayType() { return this.valueType.ArrayType; }
    get valueType() { return this.children[0].type; }
    get valueField() { return this.children[0]; }
}
List[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'List';
})(List.prototype);
export class Struct extends DataType {
    constructor(children) {
        super(Type.Struct, children);
        this.children = children;
    }
    toString() { return `Struct<${this.children.map((f) => f.type).join(`, `)}>`; }
}
Struct[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Struct';
})(Struct.prototype);
export class Union extends DataType {
    constructor(mode, typeIds, children) {
        super(Type.Union, children);
        this.mode = mode;
        this.typeIds = typeIds;
        this.children = children;
    }
    toString() {
        return `${this[Symbol.toStringTag]}<${this.children.map((x) => `${x.type}`).join(` | `)}>`;
    }
}
Union[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int8Array;
    return proto[Symbol.toStringTag] = 'Union';
})(Union.prototype);
export class DenseUnion extends Union {
    constructor(typeIds, children) {
        super(UnionMode.Dense, typeIds, children);
    }
}
DenseUnion[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'DenseUnion';
})(DenseUnion.prototype);
export class SparseUnion extends Union {
    constructor(typeIds, children) {
        super(UnionMode.Sparse, typeIds, children);
    }
}
SparseUnion[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'SparseUnion';
})(SparseUnion.prototype);
export class FixedSizeBinary extends DataType {
    constructor(byteWidth) {
        super(Type.FixedSizeBinary);
        this.byteWidth = byteWidth;
    }
    toString() { return `FixedSizeBinary[${this.byteWidth}]`; }
}
FixedSizeBinary[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'FixedSizeBinary';
})(FixedSizeBinary.prototype);
export class FixedSizeList extends DataType {
    constructor(listSize, children) {
        super(Type.FixedSizeList, children);
        this.listSize = listSize;
        this.children = children;
    }
    get ArrayType() { return this.valueType.ArrayType; }
    get valueType() { return this.children[0].type; }
    get valueField() { return this.children[0]; }
    toString() { return `FixedSizeList[${this.listSize}]<${this.valueType}>`; }
}
FixedSizeList[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'FixedSizeList';
})(FixedSizeList.prototype);
export class Map_ extends DataType {
    constructor(keysSorted, children) {
        super(Type.Map, children);
        this.keysSorted = keysSorted;
        this.children = children;
    }
    toString() { return `Map<${this.children.join(`, `)}>`; }
}
Map_[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Map_';
})(Map_.prototype);
export class Dictionary extends DataType {
    constructor(dictionary, indices, id, isOrdered) {
        super(Type.Dictionary);
        this.indices = indices;
        this.dictionary = dictionary;
        this.isOrdered = isOrdered || false;
        this.id = id == null ? DictionaryBatch.getId() : typeof id === 'number' ? id : id.low;
    }
    get ArrayType() { return this.dictionary.ArrayType; }
    toString() { return `Dictionary<${this.indices}, ${this.dictionary}>`; }
}
Dictionary[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Dictionary';
})(Dictionary.prototype);

//# sourceMappingURL=data:application/json;charset=utf8;base64,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SyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQVMsQ0FBQztJQUN6RyxNQUFNLENBQVksTUFBTSxDQUFFLENBQU0sSUFBMEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQVksQ0FBQztJQUN6RyxNQUFNLENBQVksTUFBTSxDQUFFLENBQU0sSUFBMEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQVksQ0FBQztJQUN6RyxNQUFNLENBQU8sV0FBVyxDQUFFLENBQU0sSUFBMEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssS0FBSyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQU8sQ0FBQztJQUN6RyxNQUFNLENBQVEsVUFBVSxDQUFFLENBQU0sSUFBMEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssS0FBSyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQVEsQ0FBQztJQUN6RyxNQUFNLENBQVksTUFBTSxDQUFFLENBQU0sSUFBMEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQVksQ0FBQztJQUN6RyxNQUFNLENBQVUsUUFBUSxDQUFFLENBQU0sSUFBMEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssS0FBSyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQVUsQ0FBQztJQUN6RyxNQUFNLENBQVcsT0FBTyxDQUFFLENBQU0sSUFBMEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssS0FBSyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQVcsQ0FBQztJQUN6RyxNQUFNLENBQU0sWUFBWSxDQUFFLENBQU0sSUFBMEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssS0FBSyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQU0sQ0FBQztJQUN6RyxNQUFNLENBQUssYUFBYSxDQUFFLENBQU0sSUFBMEIsT0FBTyxDQUFDLElBQUks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QVUsR0FBRyxVQUFVLENBQUM7UUFDN0IsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLElBQUksS0FBSyxDQUFDO1FBQ3BDLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsZUFBZSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLEVBQUUsS0FBSyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQztJQUMxRixDQUFDO0lBQ0QsSUFBVyxTQUFTLEtBQUssT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7SUFDckQsUUFBUSxLQUFLLE9BQU8sY0FBYyxJQUFJLENBQUMsT0FBTyxLQUFLLElBQUksQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDLENBQUM7O0FBQzlELFdBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFpQixFQUFFLEVBQUU7SUFDM0QsT0FBTyxLQUFLLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxHQUFHLFlBQVksQ0FBQztBQUNwRCxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUMiLCJmaWxlIjoidHlwZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbi8vIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuLy8gZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbi8vIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbi8vIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbi8vIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuLy8gd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuLy8gc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbi8vIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4vLyBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbi8vIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbi8vIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG5pbXBvcnQgKiBhcyBTY2hlbWFfIGZyb20gJy4vZmIvU2NoZW1hJztcbmltcG9ydCAqIGFzIE1lc3NhZ2VfIGZyb20gJy4vZmIvTWVzc2FnZSc7XG5pbXBvcnQgeyBWZWN0b3IsIFZpZXcgfSBmcm9tICcuL3ZlY3Rvcic7XG5pbXBvcnQgeyBmbGF0YnVmZmVycyB9IGZyb20gJ2ZsYXRidWZmZXJzJztcbmltcG9ydCB7IERpY3Rpb25hcnlCYXRjaCB9IGZyb20gJy4vaXBjL21ldGFkYXRhJztcbmltcG9ydCB7IFR5cGVWaXNpdG9yLCBWaXNpdG9yTm9kZSB9IGZyb20gJy4vdmlzaXRvcic7XG5cbmV4cG9ydCBpbXBvcnQgTG9uZyA9IGZsYXRidWZmZXJzLkxvbmc7XG5leHBvcnQgaW1wb3J0IEFycm93VHlwZSA9IFNjaGVtYV8ub3JnLmFwYWNoZS5hcnJvdy5mbGF0YnVmLlR5cGU7XG5leHBvcnQgaW1wb3J0IERhdGVVbml0ID0gU2NoZW1hXy5vcmcuYXBhY2hlLmFycm93LmZsYXRidWYuRGF0ZVVuaXQ7XG5leHBvcnQgaW1wb3J0IFRpbWVVbml0ID0gU2NoZW1hXy5vcmcuYXBhY2hlLmFycm93LmZsYXRidWYuVGltZVVuaXQ7XG5leHBvcnQgaW1wb3J0IFByZWNpc2lvbiA9IFNjaGVtYV8ub3JnLmFwYWNoZS5hcnJvdy5mbGF0YnVmLlByZWNpc2lvbjtcbmV4cG9ydCBpbXBvcnQgVW5pb25Nb2RlID0gU2NoZW1hXy5vcmcuYXBhY2hlLmFycm93LmZsYXRidWYuVW5pb25Nb2RlO1xuZXhwb3J0IGltcG9ydCBWZWN0b3JUeXBlID0gU2NoZW1hXy5vcmcuYXBhY2hlLmFycm93LmZsYXRidWYuVmVjdG9yVHlwZTtcbmV4cG9ydCBpbXBvcnQgSW50ZXJ2YWxVbml0ID0gU2NoZW1hXy5vcmcuYXBhY2hlLmFycm93LmZsYXRidWYuSW50ZXJ2YWxVbml0O1xuZXhwb3J0IGltcG9ydCBNZXNzYWdlSGVhZGVyID0gTWVzc2FnZV8ub3JnLmFwYWNoZS5hcnJvdy5mbGF0YnVmLk1lc3NhZ2VIZWFkZXI7XG5leHBvcnQgaW1wb3J0IE1ldGFkYXRhVmVyc2lvbiA9IFNjaGVtYV8ub3JnLmFwYWNoZS5hcnJvdy5mbGF0YnVmLk1ldGFkYXRhVmVyc2lvbjtcblxuZXhwb3J0IGNsYXNzIFNjaGVtYSB7XG4gICAgcHVibGljIHN0YXRpYyBmcm9tKHZlY3RvcnM6IFZlY3RvcltdKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2NoZW1hKHZlY3RvcnMubWFwKCh2LCBpKSA9PiBuZXcgRmllbGQoJycgKyBpLCB2LnR5cGUpKSk7XG4gICAgfVxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBwcm90ZWN0ZWQgX2JvZHlMZW5ndGg6IG51bWJlcjtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcHJvdGVjdGVkIF9oZWFkZXJUeXBlOiBNZXNzYWdlSGVhZGVyO1xuICAgIHB1YmxpYyByZWFkb25seSBmaWVsZHM6IEZpZWxkW107XG4gICAgcHVibGljIHJlYWRvbmx5IHZlcnNpb246IE1ldGFkYXRhVmVyc2lvbjtcbiAgICBwdWJsaWMgcmVhZG9ubHkgbWV0YWRhdGE/OiBNYXA8c3RyaW5nLCBzdHJpbmc+O1xuICAgIHB1YmxpYyByZWFkb25seSBkaWN0aW9uYXJpZXM6IE1hcDxudW1iZXIsIEZpZWxkPERpY3Rpb25hcnk+PjtcbiAgICBjb25zdHJ1Y3RvcihmaWVsZHM6IEZpZWxkW10sXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE/OiBNYXA8c3RyaW5nLCBzdHJpbmc+LFxuICAgICAgICAgICAgICAgIHZlcnNpb246IE1ldGFkYXRhVmVyc2lvbiA9IE1ldGFkYXRhVmVyc2lvbi5WNCxcbiAgICAgICAgICAgICAgICBkaWN0aW9uYXJpZXM6IE1hcDxudW1iZXIsIEZpZWxkPERpY3Rpb25hcnk+PiA9IG5ldyBNYXAoKSkge1xuICAgICAgICB0aGlzLmZpZWxkcyA9IGZpZWxkcztcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICB0aGlzLmRpY3Rpb25hcmllcyA9IGRpY3Rpb25hcmllcztcbiAgICB9XG4gICAgcHVibGljIGdldCBib2R5TGVuZ3RoKCkgeyByZXR1cm4gdGhpcy5fYm9keUxlbmd0aDsgfVxuICAgIHB1YmxpYyBnZXQgaGVhZGVyVHlwZSgpIHsgcmV0dXJuIHRoaXMuX2hlYWRlclR5cGU7IH1cbiAgICBwdWJsaWMgc2VsZWN0KC4uLmZpZWxkTmFtZXM6IHN0cmluZ1tdKTogU2NoZW1hIHtcbiAgICAgICAgY29uc3QgbmFtZXNUb0tlZXAgPSBmaWVsZE5hbWVzLnJlZHVjZSgoeHMsIHgpID0+ICh4c1t4XSA9IHRydWUpICYmIHhzLCBPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAgICAgICAgY29uc3QgbmV3RGljdEZpZWxkcyA9IG5ldyBNYXAoKSwgbmV3RmllbGRzID0gdGhpcy5maWVsZHMuZmlsdGVyKChmKSA9PiBuYW1lc1RvS2VlcFtmLm5hbWVdKTtcbiAgICAgICAgdGhpcy5kaWN0aW9uYXJpZXMuZm9yRWFjaCgoZiwgZGljdElkKSA9PiAobmFtZXNUb0tlZXBbZi5uYW1lXSkgJiYgbmV3RGljdEZpZWxkcy5zZXQoZGljdElkLCBmKSk7XG4gICAgICAgIHJldHVybiBuZXcgU2NoZW1hKG5ld0ZpZWxkcywgdGhpcy5tZXRhZGF0YSwgdGhpcy52ZXJzaW9uLCBuZXdEaWN0RmllbGRzKTtcbiAgICB9XG4gICAgcHVibGljIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG90eXBlOiBTY2hlbWEpID0+IHtcbiAgICAgICAgcHJvdG90eXBlLl9ib2R5TGVuZ3RoID0gMDtcbiAgICAgICAgcHJvdG90eXBlLl9oZWFkZXJUeXBlID0gTWVzc2FnZUhlYWRlci5TY2hlbWE7XG4gICAgICAgIHJldHVybiAnU2NoZW1hJztcbiAgICB9KShTY2hlbWEucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGNsYXNzIEZpZWxkPFQgZXh0ZW5kcyBEYXRhVHlwZSA9IERhdGFUeXBlPiB7XG4gICAgcHVibGljIHJlYWRvbmx5IHR5cGU6IFQ7XG4gICAgcHVibGljIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcbiAgICBwdWJsaWMgcmVhZG9ubHkgbnVsbGFibGU6IGJvb2xlYW47XG4gICAgcHVibGljIHJlYWRvbmx5IG1ldGFkYXRhPzogTWFwPHN0cmluZywgc3RyaW5nPiB8IG51bGw7XG4gICAgY29uc3RydWN0b3IobmFtZTogc3RyaW5nLCB0eXBlOiBULCBudWxsYWJsZSA9IGZhbHNlLCBtZXRhZGF0YT86IE1hcDxzdHJpbmcsIHN0cmluZz4gfCBudWxsKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMubnVsbGFibGUgPSBudWxsYWJsZTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgIH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgJHt0aGlzLm5hbWV9OiAke3RoaXMudHlwZX1gOyB9XG4gICAgcHVibGljIGdldCB0eXBlSWQoKTogVFsnVFR5cGUnXSB7IHJldHVybiB0aGlzLnR5cGUuVFR5cGU7IH1cbiAgICBwdWJsaWMgZ2V0IFtTeW1ib2wudG9TdHJpbmdUYWddKCk6IHN0cmluZyB7IHJldHVybiAnRmllbGQnOyB9XG4gICAgcHVibGljIGdldCBpbmRpY2VzKCk6IFQgfCBJbnQ8YW55PiB7XG4gICAgICAgIHJldHVybiBEYXRhVHlwZS5pc0RpY3Rpb25hcnkodGhpcy50eXBlKSA/IHRoaXMudHlwZS5pbmRpY2VzIDogdGhpcy50eXBlO1xuICAgIH1cbn1cblxuZXhwb3J0IHR5cGUgVGltZUJpdFdpZHRoID0gMzIgfCA2NDtcbmV4cG9ydCB0eXBlIEludEJpdFdpZHRoID0gOCB8IDE2IHwgMzIgfCA2NDtcblxuZXhwb3J0IHR5cGUgTnVtZXJpY1R5cGUgPSBJbnQgfCBGbG9hdCB8IERhdGVfIHwgVGltZSB8IEludGVydmFsIHwgVGltZXN0YW1wO1xuZXhwb3J0IHR5cGUgRml4ZWRTaXplVHlwZSA9IEludDY0IHwgIFVpbnQ2NCB8IERlY2ltYWwgfCBGaXhlZFNpemVCaW5hcnk7XG5leHBvcnQgdHlwZSBQcmltaXRpdmVUeXBlID0gTnVtZXJpY1R5cGUgfCBGaXhlZFNpemVUeXBlO1xuXG5leHBvcnQgdHlwZSBGbGF0TGlzdFR5cGUgPSBVdGY4IHwgQmluYXJ5OyAvLyA8LS0gdGhlc2UgdHlwZXMgaGF2ZSBgb2Zmc2V0YCwgYGRhdGFgLCBhbmQgYHZhbGlkaXR5YCBidWZmZXJzXG5leHBvcnQgdHlwZSBGbGF0VHlwZSA9IEJvb2wgfCBQcmltaXRpdmVUeXBlIHwgRmxhdExpc3RUeXBlOyAvLyA8LS0gdGhlc2UgdHlwZXMgaGF2ZSBgZGF0YWAgYW5kIGB2YWxpZGl0eWAgYnVmZmVyc1xuZXhwb3J0IHR5cGUgTGlzdFR5cGUgPSBMaXN0PGFueT47IC8vIDwtLSB0aGVzZSB0eXBlcyBoYXZlIGBvZmZzZXRgIGFuZCBgdmFsaWRpdHlgIGJ1ZmZlcnNcbmV4cG9ydCB0eXBlIE5lc3RlZFR5cGUgPSBNYXBfIHwgU3RydWN0IHwgTGlzdDxhbnk+IHwgRml4ZWRTaXplTGlzdDxhbnk+IHwgVW5pb248YW55PjsgLy8gPC0tIHRoZXNlIHR5cGVzIGhhdmUgYHZhbGlkaXR5YCBidWZmZXIgYW5kIG5lc3RlZCBjaGlsZERhdGFcbmV4cG9ydCB0eXBlIFNpbmdsZU5lc3RlZFR5cGUgPSBMaXN0PGFueT4gfCBGaXhlZFNpemVMaXN0PGFueT47IC8vIDwtLSB0aGVzZSBhcmUgbmVzdGVkIHR5cGVzIHRoYXQgY2FuIG9ubHkgaGF2ZSBhIHNpbmdsZSBjaGlsZFxuXG4vKipcbiAqICpcbiAqIE1haW4gZGF0YSB0eXBlIGVudW1lcmF0aW9uOlxuICogKlxuICogRGF0YSB0eXBlcyBpbiB0aGlzIGxpYnJhcnkgYXJlIGFsbCAqbG9naWNhbCouIFRoZXkgY2FuIGJlIGV4cHJlc3NlZCBhc1xuICogZWl0aGVyIGEgcHJpbWl0aXZlIHBoeXNpY2FsIHR5cGUgKGJ5dGVzIG9yIGJpdHMgb2Ygc29tZSBmaXhlZCBzaXplKSwgYVxuICogbmVzdGVkIHR5cGUgY29uc2lzdGluZyBvZiBvdGhlciBkYXRhIHR5cGVzLCBvciBhbm90aGVyIGRhdGEgdHlwZSAoZS5nLiBhXG4gKiB0aW1lc3RhbXAgZW5jb2RlZCBhcyBhbiBpbnQ2NClcbiAqL1xuIGV4cG9ydCBlbnVtIFR5cGUge1xuICAgIE5PTkUgICAgICAgICAgICA9ICAwLCAgLy8gVGhlIGRlZmF1bHQgcGxhY2Vob2xkZXIgdHlwZVxuICAgIE51bGwgICAgICAgICAgICA9ICAxLCAgLy8gQSBOVUxMIHR5cGUgaGF2aW5nIG5vIHBoeXNpY2FsIHN0b3JhZ2VcbiAgICBJbnQgICAgICAgICAgICAgPSAgMiwgIC8vIFNpZ25lZCBvciB1bnNpZ25lZCA4LCAxNiwgMzIsIG9yIDY0LWJpdCBsaXR0bGUtZW5kaWFuIGludGVnZXJcbiAgICBGbG9hdCAgICAgICAgICAgPSAgMywgIC8vIDIsIDQsIG9yIDgtYnl0ZSBmbG9hdGluZyBwb2ludCB2YWx1ZVxuICAgIEJpbmFyeSAgICAgICAgICA9ICA0LCAgLy8gVmFyaWFibGUtbGVuZ3RoIGJ5dGVzIChubyBndWFyYW50ZWUgb2YgVVRGOC1uZXNzKVxuICAgIFV0ZjggICAgICAgICAgICA9ICA1LCAgLy8gVVRGOCB2YXJpYWJsZS1sZW5ndGggc3RyaW5nIGFzIExpc3Q8Q2hhcj5cbiAgICBCb29sICAgICAgICAgICAgPSAgNiwgIC8vIEJvb2xlYW4gYXMgMSBiaXQsIExTQiBiaXQtcGFja2VkIG9yZGVyaW5nXG4gICAgRGVjaW1hbCAgICAgICAgID0gIDcsICAvLyBQcmVjaXNpb24tYW5kLXNjYWxlLWJhc2VkIGRlY2ltYWwgdHlwZS4gU3RvcmFnZSB0eXBlIGRlcGVuZHMgb24gdGhlIHBhcmFtZXRlcnMuXG4gICAgRGF0ZSAgICAgICAgICAgID0gIDgsICAvLyBpbnQzMl90IGRheXMgb3IgaW50NjRfdCBtaWxsaXNlY29uZHMgc2luY2UgdGhlIFVOSVggZXBvY2hcbiAgICBUaW1lICAgICAgICAgICAgPSAgOSwgIC8vIFRpbWUgYXMgc2lnbmVkIDMyIG9yIDY0LWJpdCBpbnRlZ2VyLCByZXByZXNlbnRpbmcgZWl0aGVyIHNlY29uZHMsIG1pbGxpc2Vjb25kcywgbWljcm9zZWNvbmRzLCBvciBuYW5vc2Vjb25kcyBzaW5jZSBtaWRuaWdodCBzaW5jZSBtaWRuaWdodFxuICAgIFRpbWVzdGFtcCAgICAgICA9IDEwLCAgLy8gRXhhY3QgdGltZXN0YW1wIGVuY29kZWQgd2l0aCBpbnQ2NCBzaW5jZSBVTklYIGVwb2NoIChEZWZhdWx0IHVuaXQgbWlsbGlzZWNvbmQpXG4gICAgSW50ZXJ2YWwgICAgICAgID0gMTEsICAvLyBZRUFSX01PTlRIIG9yIERBWV9USU1FIGludGVydmFsIGluIFNRTCBzdHlsZVxuICAgIExpc3QgICAgICAgICAgICA9IDEyLCAgLy8gQSBsaXN0IG9mIHNvbWUgbG9naWNhbCBkYXRhIHR5cGVcbiAgICBTdHJ1Y3QgICAgICAgICAgPSAxMywgIC8vIFN0cnVjdCBvZiBsb2dpY2FsIHR5cGVzXG4gICAgVW5pb24gICAgICAgICAgID0gMTQsICAvLyBVbmlvbiBvZiBsb2dpY2FsIHR5cGVzXG4gICAgRml4ZWRTaXplQmluYXJ5ID0gMTUsICAvLyBGaXhlZC1zaXplIGJpbmFyeS4gRWFjaCB2YWx1ZSBvY2N1cGllcyB0aGUgc2FtZSBudW1iZXIgb2YgYnl0ZXNcbiAgICBGaXhlZFNpemVMaXN0ICAgPSAxNiwgIC8vIEZpeGVkLXNpemUgbGlzdC4gRWFjaCB2YWx1ZSBvY2N1cGllcyB0aGUgc2FtZSBudW1iZXIgb2YgYnl0ZXNcbiAgICBNYXAgICAgICAgICAgICAgPSAxNywgIC8vIE1hcCBvZiBuYW1lZCBsb2dpY2FsIHR5cGVzXG4gICAgRGljdGlvbmFyeSAgICAgID0gJ0RpY3Rpb25hcnknLCAgLy8gRGljdGlvbmFyeSBha2EgQ2F0ZWdvcnkgdHlwZVxuICAgIERlbnNlVW5pb24gICAgICA9ICdEZW5zZVVuaW9uJywgIC8vIERlbnNlIFVuaW9uIG9mIGxvZ2ljYWwgdHlwZXNcbiAgICBTcGFyc2VVbmlvbiAgICAgPSAnU3BhcnNlVW5pb24nLCAgLy8gU3BhcnNlIFVuaW9uIG9mIGxvZ2ljYWwgdHlwZXNcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEYXRhVHlwZTxUVHlwZSBleHRlbmRzIFR5cGUgPSBhbnk+IHtcbiAgICByZWFkb25seSBUVHlwZTogVFR5cGU7XG4gICAgcmVhZG9ubHkgVEFycmF5OiBhbnk7XG4gICAgcmVhZG9ubHkgVFZhbHVlOiBhbnk7XG4gICAgcmVhZG9ubHkgQXJyYXlUeXBlOiBhbnk7XG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBEYXRhVHlwZTxUVHlwZSBleHRlbmRzIFR5cGUgPSBhbnk+IGltcGxlbWVudHMgUGFydGlhbDxWaXNpdG9yTm9kZT4ge1xuXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHB1YmxpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXTogc3RyaW5nO1xuXG4gICAgc3RhdGljICAgICAgICAgICAgaXNOdWxsICh4OiBhbnkpOiB4IGlzIE51bGwgICAgICAgICAgICB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuTnVsbDsgICAgICAgICAgICB9XG4gICAgc3RhdGljICAgICAgICAgICAgIGlzSW50ICh4OiBhbnkpOiB4IGlzIEludCAgICAgICAgICAgICB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuSW50OyAgICAgICAgICAgICB9XG4gICAgc3RhdGljICAgICAgICAgICBpc0Zsb2F0ICh4OiBhbnkpOiB4IGlzIEZsb2F0ICAgICAgICAgICB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuRmxvYXQ7ICAgICAgICAgICB9XG4gICAgc3RhdGljICAgICAgICAgIGlzQmluYXJ5ICh4OiBhbnkpOiB4IGlzIEJpbmFyeSAgICAgICAgICB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuQmluYXJ5OyAgICAgICAgICB9XG4gICAgc3RhdGljICAgICAgICAgICAgaXNVdGY4ICh4OiBhbnkpOiB4IGlzIFV0ZjggICAgICAgICAgICB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuVXRmODsgICAgICAgICAgICB9XG4gICAgc3RhdGljICAgICAgICAgICAgaXNCb29sICh4OiBhbnkpOiB4IGlzIEJvb2wgICAgICAgICAgICB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuQm9vbDsgICAgICAgICAgICB9XG4gICAgc3RhdGljICAgICAgICAgaXNEZWNpbWFsICh4OiBhbnkpOiB4IGlzIERlY2ltYWwgICAgICAgICB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuRGVjaW1hbDsgICAgICAgICB9XG4gICAgc3RhdGljICAgICAgICAgICAgaXNEYXRlICh4OiBhbnkpOiB4IGlzIERhdGVfICAgICAgICAgICB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuRGF0ZTsgICAgICAgICAgICB9XG4gICAgc3RhdGljICAgICAgICAgICAgaXNUaW1lICh4OiBhbnkpOiB4IGlzIFRpbWUgICAgICAgICAgICB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuVGltZTsgICAgICAgICAgICB9XG4gICAgc3RhdGljICAgICAgIGlzVGltZXN0YW1wICh4OiBhbnkpOiB4IGlzIFRpbWVzdGFtcCAgICAgICB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuVGltZXN0YW1wOyAgICAgICB9XG4gICAgc3RhdGljICAgICAgICBpc0ludGVydmFsICh4OiBhbnkpOiB4IGlzIEludGVydmFsICAgICAgICB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuSW50ZXJ2YWw7ICAgICAgICB9XG4gICAgc3RhdGljICAgICAgICAgICAgaXNMaXN0ICh4OiBhbnkpOiB4IGlzIExpc3QgICAgICAgICAgICB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuTGlzdDsgICAgICAgICAgICB9XG4gICAgc3RhdGljICAgICAgICAgIGlzU3RydWN0ICh4OiBhbnkpOiB4IGlzIFN0cnVjdCAgICAgICAgICB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuU3RydWN0OyAgICAgICAgICB9XG4gICAgc3RhdGljICAgICAgICAgICBpc1VuaW9uICh4OiBhbnkpOiB4IGlzIFVuaW9uICAgICAgICAgICB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuVW5pb247ICAgICAgICAgICB9XG4gICAgc3RhdGljICAgICAgaXNEZW5zZVVuaW9uICh4OiBhbnkpOiB4IGlzIERlbnNlVW5pb24gICAgICB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuRGVuc2VVbmlvbjsgICAgICB9XG4gICAgc3RhdGljICAgICBpc1NwYXJzZVVuaW9uICh4OiBhbnkpOiB4IGlzIFNwYXJzZVVuaW9uICAgICB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuU3BhcnNlVW5pb247ICAgICB9XG4gICAgc3RhdGljIGlzRml4ZWRTaXplQmluYXJ5ICh4OiBhbnkpOiB4IGlzIEZpeGVkU2l6ZUJpbmFyeSB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuRml4ZWRTaXplQmluYXJ5OyB9XG4gICAgc3RhdGljICAgaXNGaXhlZFNpemVMaXN0ICh4OiBhbnkpOiB4IGlzIEZpeGVkU2l6ZUxpc3QgICB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuRml4ZWRTaXplTGlzdDsgICB9XG4gICAgc3RhdGljICAgICAgICAgICAgIGlzTWFwICh4OiBhbnkpOiB4IGlzIE1hcF8gICAgICAgICAgICB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuTWFwOyAgICAgICAgICAgICB9XG4gICAgc3RhdGljICAgICAgaXNEaWN0aW9uYXJ5ICh4OiBhbnkpOiB4IGlzIERpY3Rpb25hcnkgICAgICB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuRGljdGlvbmFyeTsgICAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgVFR5cGU6IFRUeXBlLFxuICAgICAgICAgICAgICAgIHB1YmxpYyByZWFkb25seSBjaGlsZHJlbj86IEZpZWxkW10pIHt9XG4gICAgcHVibGljIGFjY2VwdFR5cGVWaXNpdG9yKHZpc2l0b3I6IFR5cGVWaXNpdG9yKTogYW55IHtcbiAgICAgICAgcmV0dXJuIFR5cGVWaXNpdG9yLnZpc2l0VHlwZUlubGluZSh2aXNpdG9yLCB0aGlzKTtcbiAgICB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IERhdGFUeXBlKSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gQXJyYXk7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ0RhdGFUeXBlJztcbiAgICB9KShEYXRhVHlwZS5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE51bGwgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLk51bGw+IHsgVEFycmF5OiB2b2lkOyBUVmFsdWU6IG51bGw7IH1cbmV4cG9ydCBjbGFzcyBOdWxsIGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5OdWxsPiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKFR5cGUuTnVsbCk7XG4gICAgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBOdWxsYDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBOdWxsKSA9PiB7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ051bGwnO1xuICAgIH0pKE51bGwucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbnQ8VFZhbHVlVHlwZSA9IGFueSwgVEFycmF5VHlwZSBleHRlbmRzIEludEFycmF5ID0gSW50QXJyYXk+IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5JbnQ+IHsgVEFycmF5OiBUQXJyYXlUeXBlOyBUVmFsdWU6IFRWYWx1ZVR5cGU7IH1cbmV4cG9ydCBjbGFzcyBJbnQ8VFZhbHVlVHlwZSA9IGFueSwgVEFycmF5VHlwZSBleHRlbmRzIEludEFycmF5ID0gSW50QXJyYXk+IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5JbnQ+IHtcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgaXNTaWduZWQ6IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgcHVibGljIHJlYWRvbmx5IGJpdFdpZHRoOiBJbnRCaXRXaWR0aCkge1xuICAgICAgICBzdXBlcihUeXBlLkludCk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgQXJyYXlUeXBlKCk6IFR5cGVkQXJyYXlDb25zdHJ1Y3RvcjxUQXJyYXlUeXBlPiB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5iaXRXaWR0aCkge1xuICAgICAgICAgICAgY2FzZSAgODogcmV0dXJuICh0aGlzLmlzU2lnbmVkID8gIEludDhBcnJheSA6ICBVaW50OEFycmF5KSBhcyBhbnk7XG4gICAgICAgICAgICBjYXNlIDE2OiByZXR1cm4gKHRoaXMuaXNTaWduZWQgPyBJbnQxNkFycmF5IDogVWludDE2QXJyYXkpIGFzIGFueTtcbiAgICAgICAgICAgIGNhc2UgMzI6IHJldHVybiAodGhpcy5pc1NpZ25lZCA/IEludDMyQXJyYXkgOiBVaW50MzJBcnJheSkgYXMgYW55O1xuICAgICAgICAgICAgY2FzZSA2NDogcmV0dXJuICh0aGlzLmlzU2lnbmVkID8gSW50MzJBcnJheSA6IFVpbnQzMkFycmF5KSBhcyBhbnk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnJlY29nbml6ZWQgJHt0aGlzW1N5bWJvbC50b1N0cmluZ1RhZ119IHR5cGVgKTtcbiAgICB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYCR7dGhpcy5pc1NpZ25lZCA/IGBJYCA6IGBVaWB9bnQke3RoaXMuYml0V2lkdGh9YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBJbnQpID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnSW50JztcbiAgICB9KShJbnQucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGNsYXNzIEludDggZXh0ZW5kcyBJbnQ8bnVtYmVyLCBJbnQ4QXJyYXk+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKHRydWUsIDgpOyB9IH1cbmV4cG9ydCBjbGFzcyBJbnQxNiBleHRlbmRzIEludDxudW1iZXIsIEludDE2QXJyYXk+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKHRydWUsIDE2KTsgfSB9XG5leHBvcnQgY2xhc3MgSW50MzIgZXh0ZW5kcyBJbnQ8bnVtYmVyLCBJbnQzMkFycmF5PiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcih0cnVlLCAzMik7IH0gfVxuZXhwb3J0IGNsYXNzIEludDY0IGV4dGVuZHMgSW50PEludDMyQXJyYXksIEludDMyQXJyYXk+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKHRydWUsIDY0KTsgfSB9XG5leHBvcnQgY2xhc3MgVWludDggZXh0ZW5kcyBJbnQ8bnVtYmVyLCBVaW50OEFycmF5PiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihmYWxzZSwgOCk7IH0gfVxuZXhwb3J0IGNsYXNzIFVpbnQxNiBleHRlbmRzIEludDxudW1iZXIsIFVpbnQxNkFycmF5PiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihmYWxzZSwgMTYpOyB9IH1cbmV4cG9ydCBjbGFzcyBVaW50MzIgZXh0ZW5kcyBJbnQ8bnVtYmVyLCBVaW50MzJBcnJheT4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoZmFsc2UsIDMyKTsgfSB9XG5leHBvcnQgY2xhc3MgVWludDY0IGV4dGVuZHMgSW50PFVpbnQzMkFycmF5LCBVaW50MzJBcnJheT4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoZmFsc2UsIDY0KTsgfSB9XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmxvYXQ8VEFycmF5VHlwZSBleHRlbmRzIEZsb2F0QXJyYXkgPSBGbG9hdEFycmF5PiBleHRlbmRzIERhdGFUeXBlPFR5cGUuRmxvYXQ+IHsgVEFycmF5OiBUQXJyYXlUeXBlOyBUVmFsdWU6IG51bWJlcjsgfVxuZXhwb3J0IGNsYXNzIEZsb2F0PFRBcnJheVR5cGUgZXh0ZW5kcyBGbG9hdEFycmF5ID0gRmxvYXRBcnJheT4gZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkZsb2F0PiB7XG4gICAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IHByZWNpc2lvbjogUHJlY2lzaW9uKSB7XG4gICAgICAgIHN1cGVyKFR5cGUuRmxvYXQpO1xuICAgIH1cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcHVibGljIGdldCBBcnJheVR5cGUoKTogVHlwZWRBcnJheUNvbnN0cnVjdG9yPFRBcnJheVR5cGU+IHtcbiAgICAgICAgc3dpdGNoICh0aGlzLnByZWNpc2lvbikge1xuICAgICAgICAgICAgY2FzZSBQcmVjaXNpb24uSEFMRjogcmV0dXJuIFVpbnQxNkFycmF5IGFzIGFueTtcbiAgICAgICAgICAgIGNhc2UgUHJlY2lzaW9uLlNJTkdMRTogcmV0dXJuIEZsb2F0MzJBcnJheSBhcyBhbnk7XG4gICAgICAgICAgICBjYXNlIFByZWNpc2lvbi5ET1VCTEU6IHJldHVybiBGbG9hdDY0QXJyYXkgYXMgYW55O1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5yZWNvZ25pemVkICR7dGhpc1tTeW1ib2wudG9TdHJpbmdUYWddfSB0eXBlYCk7XG4gICAgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBGbG9hdCR7KHRoaXMucHJlY2lzaW9uIDw8IDUpIHx8IDE2fWA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogRmxvYXQpID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnRmxvYXQnO1xuICAgIH0pKEZsb2F0LnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCBjbGFzcyBGbG9hdDE2IGV4dGVuZHMgRmxvYXQ8VWludDE2QXJyYXk+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKFByZWNpc2lvbi5IQUxGKTsgfSB9XG5leHBvcnQgY2xhc3MgRmxvYXQzMiBleHRlbmRzIEZsb2F0PEZsb2F0MzJBcnJheT4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoUHJlY2lzaW9uLlNJTkdMRSk7IH0gfVxuZXhwb3J0IGNsYXNzIEZsb2F0NjQgZXh0ZW5kcyBGbG9hdDxGbG9hdDY0QXJyYXk+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKFByZWNpc2lvbi5ET1VCTEUpOyB9IH1cblxuZXhwb3J0IGludGVyZmFjZSBCaW5hcnkgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkJpbmFyeT4geyBUQXJyYXk6IFVpbnQ4QXJyYXk7IFRWYWx1ZTogVWludDhBcnJheTsgfVxuZXhwb3J0IGNsYXNzIEJpbmFyeSBleHRlbmRzIERhdGFUeXBlPFR5cGUuQmluYXJ5PiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKFR5cGUuQmluYXJ5KTtcbiAgICB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYEJpbmFyeWA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogQmluYXJ5KSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gVWludDhBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnQmluYXJ5JztcbiAgICB9KShCaW5hcnkucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVdGY4IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5VdGY4PiB7IFRBcnJheTogVWludDhBcnJheTsgVFZhbHVlOiBzdHJpbmc7IH1cbmV4cG9ydCBjbGFzcyBVdGY4IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5VdGY4PiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKFR5cGUuVXRmOCk7XG4gICAgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBVdGY4YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBVdGY4KSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gVWludDhBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnVXRmOCc7XG4gICAgfSkoVXRmOC5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJvb2wgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkJvb2w+IHsgVEFycmF5OiBVaW50OEFycmF5OyBUVmFsdWU6IGJvb2xlYW47IH1cbmV4cG9ydCBjbGFzcyBCb29sIGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5Cb29sPiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKFR5cGUuQm9vbCk7XG4gICAgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBCb29sYDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBCb29sKSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gVWludDhBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnQm9vbCc7XG4gICAgfSkoQm9vbC5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERlY2ltYWwgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkRlY2ltYWw+IHsgVEFycmF5OiBVaW50MzJBcnJheTsgVFZhbHVlOiBVaW50MzJBcnJheTsgfVxuZXhwb3J0IGNsYXNzIERlY2ltYWwgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkRlY2ltYWw+IHtcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgc2NhbGU6IG51bWJlcixcbiAgICAgICAgICAgICAgICBwdWJsaWMgcmVhZG9ubHkgcHJlY2lzaW9uOiBudW1iZXIpIHtcbiAgICAgICAgc3VwZXIoVHlwZS5EZWNpbWFsKTtcbiAgICB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYERlY2ltYWxbJHt0aGlzLnByZWNpc2lvbn1lJHt0aGlzLnNjYWxlID4gMCA/IGArYCA6IGBgfSR7dGhpcy5zY2FsZX1dYDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBEZWNpbWFsKSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gVWludDMyQXJyYXk7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ0RlY2ltYWwnO1xuICAgIH0pKERlY2ltYWwucHJvdG90eXBlKTtcbn1cblxuLyogdHNsaW50OmRpc2FibGU6Y2xhc3MtbmFtZSAqL1xuZXhwb3J0IGludGVyZmFjZSBEYXRlXyBleHRlbmRzIERhdGFUeXBlPFR5cGUuRGF0ZT4geyBUQXJyYXk6IEludDMyQXJyYXk7IFRWYWx1ZTogRGF0ZTsgfVxuZXhwb3J0IGNsYXNzIERhdGVfIGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5EYXRlPiB7XG4gICAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IHVuaXQ6IERhdGVVbml0KSB7XG4gICAgICAgIHN1cGVyKFR5cGUuRGF0ZSk7XG4gICAgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBEYXRlJHsodGhpcy51bml0ICsgMSkgKiAzMn08JHtEYXRlVW5pdFt0aGlzLnVuaXRdfT5gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IERhdGVfKSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gSW50MzJBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnRGF0ZSc7XG4gICAgfSkoRGF0ZV8ucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUaW1lIGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5UaW1lPiB7IFRBcnJheTogVWludDMyQXJyYXk7IFRWYWx1ZTogbnVtYmVyOyB9XG5leHBvcnQgY2xhc3MgVGltZSBleHRlbmRzIERhdGFUeXBlPFR5cGUuVGltZT4ge1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSB1bml0OiBUaW1lVW5pdCxcbiAgICAgICAgICAgICAgICBwdWJsaWMgcmVhZG9ubHkgYml0V2lkdGg6IFRpbWVCaXRXaWR0aCkge1xuICAgICAgICBzdXBlcihUeXBlLlRpbWUpO1xuICAgIH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgVGltZSR7dGhpcy5iaXRXaWR0aH08JHtUaW1lVW5pdFt0aGlzLnVuaXRdfT5gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IFRpbWUpID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBVaW50MzJBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnVGltZSc7XG4gICAgfSkoVGltZS5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRpbWVzdGFtcCBleHRlbmRzIERhdGFUeXBlPFR5cGUuVGltZXN0YW1wPiB7IFRBcnJheTogSW50MzJBcnJheTsgVFZhbHVlOiBudW1iZXI7IH1cbmV4cG9ydCBjbGFzcyBUaW1lc3RhbXAgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLlRpbWVzdGFtcD4ge1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyB1bml0OiBUaW1lVW5pdCwgcHVibGljIHRpbWV6b25lPzogc3RyaW5nIHwgbnVsbCkge1xuICAgICAgICBzdXBlcihUeXBlLlRpbWVzdGFtcCk7XG4gICAgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBUaW1lc3RhbXA8JHtUaW1lVW5pdFt0aGlzLnVuaXRdfSR7dGhpcy50aW1lem9uZSA/IGAsICR7dGhpcy50aW1lem9uZX1gIDogYGB9PmA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogVGltZXN0YW1wKSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gSW50MzJBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnVGltZXN0YW1wJztcbiAgICB9KShUaW1lc3RhbXAucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbnRlcnZhbCBleHRlbmRzIERhdGFUeXBlPFR5cGUuSW50ZXJ2YWw+IHsgVEFycmF5OiBJbnQzMkFycmF5OyBUVmFsdWU6IEludDMyQXJyYXk7IH1cbmV4cG9ydCBjbGFzcyBJbnRlcnZhbCBleHRlbmRzIERhdGFUeXBlPFR5cGUuSW50ZXJ2YWw+IHtcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgdW5pdDogSW50ZXJ2YWxVbml0KSB7XG4gICAgICAgIHN1cGVyKFR5cGUuSW50ZXJ2YWwpO1xuICAgIH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgSW50ZXJ2YWw8JHtJbnRlcnZhbFVuaXRbdGhpcy51bml0XX0+YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBJbnRlcnZhbCkgPT4ge1xuICAgICAgICAoPGFueT4gcHJvdG8pLkFycmF5VHlwZSA9IEludDMyQXJyYXk7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ0ludGVydmFsJztcbiAgICB9KShJbnRlcnZhbC5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIExpc3Q8VCBleHRlbmRzIERhdGFUeXBlID0gYW55PiBleHRlbmRzIERhdGFUeXBlPFR5cGUuTGlzdD4gIHsgVEFycmF5OiBhbnk7IFRWYWx1ZTogVmVjdG9yPFQ+OyB9XG5leHBvcnQgY2xhc3MgTGlzdDxUIGV4dGVuZHMgRGF0YVR5cGUgPSBhbnk+IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5MaXN0PiB7XG4gICAgY29uc3RydWN0b3IocHVibGljIGNoaWxkcmVuOiBGaWVsZFtdKSB7XG4gICAgICAgIHN1cGVyKFR5cGUuTGlzdCwgY2hpbGRyZW4pO1xuICAgIH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgTGlzdDwke3RoaXMudmFsdWVUeXBlfT5gOyB9XG4gICAgcHVibGljIGdldCBBcnJheVR5cGUoKSB7IHJldHVybiB0aGlzLnZhbHVlVHlwZS5BcnJheVR5cGU7IH1cbiAgICBwdWJsaWMgZ2V0IHZhbHVlVHlwZSgpIHsgcmV0dXJuIHRoaXMuY2hpbGRyZW5bMF0udHlwZSBhcyBUOyB9XG4gICAgcHVibGljIGdldCB2YWx1ZUZpZWxkKCkgeyByZXR1cm4gdGhpcy5jaGlsZHJlblswXSBhcyBGaWVsZDxUPjsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBMaXN0KSA9PiB7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ0xpc3QnO1xuICAgIH0pKExpc3QucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJ1Y3QgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLlN0cnVjdD4geyBUQXJyYXk6IGFueTsgVFZhbHVlOiBWaWV3PGFueT47IH1cbmV4cG9ydCBjbGFzcyBTdHJ1Y3QgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLlN0cnVjdD4ge1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBjaGlsZHJlbjogRmllbGRbXSkge1xuICAgICAgICBzdXBlcihUeXBlLlN0cnVjdCwgY2hpbGRyZW4pO1xuICAgIH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgU3RydWN0PCR7dGhpcy5jaGlsZHJlbi5tYXAoKGYpID0+IGYudHlwZSkuam9pbihgLCBgKX0+YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBTdHJ1Y3QpID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnU3RydWN0JztcbiAgICB9KShTdHJ1Y3QucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVbmlvbjxUVHlwZSBleHRlbmRzIFR5cGUgPSBhbnk+IGV4dGVuZHMgRGF0YVR5cGU8VFR5cGU+IHsgVEFycmF5OiBJbnQ4QXJyYXk7IFRWYWx1ZTogYW55OyB9XG5leHBvcnQgY2xhc3MgVW5pb248VFR5cGUgZXh0ZW5kcyBUeXBlID0gYW55PiBleHRlbmRzIERhdGFUeXBlPFRUeXBlPiB7XG4gICAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IG1vZGU6IFVuaW9uTW9kZSxcbiAgICAgICAgICAgICAgICBwdWJsaWMgcmVhZG9ubHkgdHlwZUlkczogQXJyb3dUeXBlW10sXG4gICAgICAgICAgICAgICAgcHVibGljIHJlYWRvbmx5IGNoaWxkcmVuOiBGaWVsZFtdKSB7XG4gICAgICAgIHN1cGVyKDxUVHlwZT4gVHlwZS5VbmlvbiwgY2hpbGRyZW4pO1xuICAgIH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgJHt0aGlzW1N5bWJvbC50b1N0cmluZ1RhZ119PCR7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4ubWFwKCh4KSA9PiBgJHt4LnR5cGV9YCkuam9pbihgIHwgYClcbiAgICB9PmA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogVW5pb24pID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBJbnQ4QXJyYXk7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ1VuaW9uJztcbiAgICB9KShVbmlvbi5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgY2xhc3MgRGVuc2VVbmlvbiBleHRlbmRzIFVuaW9uPFR5cGUuRGVuc2VVbmlvbj4ge1xuICAgIGNvbnN0cnVjdG9yKHR5cGVJZHM6IEFycm93VHlwZVtdLCBjaGlsZHJlbjogRmllbGRbXSkge1xuICAgICAgICBzdXBlcihVbmlvbk1vZGUuRGVuc2UsIHR5cGVJZHMsIGNoaWxkcmVuKTtcbiAgICB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IERlbnNlVW5pb24pID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnRGVuc2VVbmlvbic7XG4gICAgfSkoRGVuc2VVbmlvbi5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgY2xhc3MgU3BhcnNlVW5pb24gZXh0ZW5kcyBVbmlvbjxUeXBlLlNwYXJzZVVuaW9uPiB7XG4gICAgY29uc3RydWN0b3IodHlwZUlkczogQXJyb3dUeXBlW10sIGNoaWxkcmVuOiBGaWVsZFtdKSB7XG4gICAgICAgIHN1cGVyKFVuaW9uTW9kZS5TcGFyc2UsIHR5cGVJZHMsIGNoaWxkcmVuKTtcbiAgICB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IFNwYXJzZVVuaW9uKSA9PiB7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ1NwYXJzZVVuaW9uJztcbiAgICB9KShTcGFyc2VVbmlvbi5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZpeGVkU2l6ZUJpbmFyeSBleHRlbmRzIERhdGFUeXBlPFR5cGUuRml4ZWRTaXplQmluYXJ5PiB7IFRBcnJheTogVWludDhBcnJheTsgVFZhbHVlOiBVaW50OEFycmF5OyB9XG5leHBvcnQgY2xhc3MgRml4ZWRTaXplQmluYXJ5IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5GaXhlZFNpemVCaW5hcnk+IHtcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgYnl0ZVdpZHRoOiBudW1iZXIpIHtcbiAgICAgICAgc3VwZXIoVHlwZS5GaXhlZFNpemVCaW5hcnkpO1xuICAgIH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgRml4ZWRTaXplQmluYXJ5WyR7dGhpcy5ieXRlV2lkdGh9XWA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogRml4ZWRTaXplQmluYXJ5KSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gVWludDhBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnRml4ZWRTaXplQmluYXJ5JztcbiAgICB9KShGaXhlZFNpemVCaW5hcnkucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGaXhlZFNpemVMaXN0PFQgZXh0ZW5kcyBEYXRhVHlwZSA9IGFueT4gZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkZpeGVkU2l6ZUxpc3Q+IHsgVEFycmF5OiBhbnk7IFRWYWx1ZTogVmVjdG9yPFQ+OyB9XG5leHBvcnQgY2xhc3MgRml4ZWRTaXplTGlzdDxUIGV4dGVuZHMgRGF0YVR5cGUgPSBhbnk+IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5GaXhlZFNpemVMaXN0PiB7XG4gICAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGxpc3RTaXplOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgcHVibGljIHJlYWRvbmx5IGNoaWxkcmVuOiBGaWVsZFtdKSB7XG4gICAgICAgIHN1cGVyKFR5cGUuRml4ZWRTaXplTGlzdCwgY2hpbGRyZW4pO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IEFycmF5VHlwZSgpIHsgcmV0dXJuIHRoaXMudmFsdWVUeXBlLkFycmF5VHlwZTsgfVxuICAgIHB1YmxpYyBnZXQgdmFsdWVUeXBlKCkgeyByZXR1cm4gdGhpcy5jaGlsZHJlblswXS50eXBlIGFzIFQ7IH1cbiAgICBwdWJsaWMgZ2V0IHZhbHVlRmllbGQoKSB7IHJldHVybiB0aGlzLmNoaWxkcmVuWzBdIGFzIEZpZWxkPFQ+OyB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYEZpeGVkU2l6ZUxpc3RbJHt0aGlzLmxpc3RTaXplfV08JHt0aGlzLnZhbHVlVHlwZX0+YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBGaXhlZFNpemVMaXN0KSA9PiB7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ0ZpeGVkU2l6ZUxpc3QnO1xuICAgIH0pKEZpeGVkU2l6ZUxpc3QucHJvdG90eXBlKTtcbn1cblxuLyogdHNsaW50OmRpc2FibGU6Y2xhc3MtbmFtZSAqL1xuZXhwb3J0IGludGVyZmFjZSBNYXBfIGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5NYXA+IHsgVEFycmF5OiBVaW50OEFycmF5OyBUVmFsdWU6IFZpZXc8YW55PjsgfVxuZXhwb3J0IGNsYXNzIE1hcF8gZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLk1hcD4ge1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBrZXlzU29ydGVkOiBib29sZWFuLFxuICAgICAgICAgICAgICAgIHB1YmxpYyByZWFkb25seSBjaGlsZHJlbjogRmllbGRbXSkge1xuICAgICAgICBzdXBlcihUeXBlLk1hcCwgY2hpbGRyZW4pO1xuICAgIH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgTWFwPCR7dGhpcy5jaGlsZHJlbi5qb2luKGAsIGApfT5gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IE1hcF8pID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnTWFwXyc7XG4gICAgfSkoTWFwXy5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERpY3Rpb25hcnk8VCBleHRlbmRzIERhdGFUeXBlID0gYW55PiBleHRlbmRzIERhdGFUeXBlPFR5cGUuRGljdGlvbmFyeT4geyBUQXJyYXk6IFRbJ1RBcnJheSddOyBUVmFsdWU6IFRbJ1RWYWx1ZSddOyB9XG5leHBvcnQgY2xhc3MgRGljdGlvbmFyeTxUIGV4dGVuZHMgRGF0YVR5cGU+IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5EaWN0aW9uYXJ5PiB7XG4gICAgcHVibGljIHJlYWRvbmx5IGlkOiBudW1iZXI7XG4gICAgcHVibGljIHJlYWRvbmx5IGRpY3Rpb25hcnk6IFQ7XG4gICAgcHVibGljIHJlYWRvbmx5IGluZGljZXM6IEludDxhbnk+O1xuICAgIHB1YmxpYyByZWFkb25seSBpc09yZGVyZWQ6IGJvb2xlYW47XG4gICAgY29uc3RydWN0b3IoZGljdGlvbmFyeTogVCwgaW5kaWNlczogSW50PGFueT4sIGlkPzogTG9uZyB8IG51bWJlciB8IG51bGwsIGlzT3JkZXJlZD86IGJvb2xlYW4gfCBudWxsKSB7XG4gICAgICAgIHN1cGVyKFR5cGUuRGljdGlvbmFyeSk7XG4gICAgICAgIHRoaXMuaW5kaWNlcyA9IGluZGljZXM7XG4gICAgICAgIHRoaXMuZGljdGlvbmFyeSA9IGRpY3Rpb25hcnk7XG4gICAgICAgIHRoaXMuaXNPcmRlcmVkID0gaXNPcmRlcmVkIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLmlkID0gaWQgPT0gbnVsbCA/IERpY3Rpb25hcnlCYXRjaC5nZXRJZCgpIDogdHlwZW9mIGlkID09PSAnbnVtYmVyJyA/IGlkIDogaWQubG93O1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IEFycmF5VHlwZSgpIHsgcmV0dXJuIHRoaXMuZGljdGlvbmFyeS5BcnJheVR5cGU7IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgRGljdGlvbmFyeTwke3RoaXMuaW5kaWNlc30sICR7dGhpcy5kaWN0aW9uYXJ5fT5gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IERpY3Rpb25hcnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnRGljdGlvbmFyeSc7XG4gICAgfSkoRGljdGlvbmFyeS5wcm90b3R5cGUpO1xufVxuZXhwb3J0IGludGVyZmFjZSBJdGVyYWJsZUFycmF5TGlrZTxUID0gYW55PiBleHRlbmRzIEFycmF5TGlrZTxUPiwgSXRlcmFibGU8VD4ge31cblxuZXhwb3J0IGludGVyZmFjZSBUeXBlZEFycmF5Q29uc3RydWN0b3I8VCBleHRlbmRzIFR5cGVkQXJyYXkgPSBUeXBlZEFycmF5PiB7XG4gICAgcmVhZG9ubHkgcHJvdG90eXBlOiBUO1xuICAgIHJlYWRvbmx5IEJZVEVTX1BFUl9FTEVNRU5UOiBudW1iZXI7XG4gICAgbmV3IChsZW5ndGg6IG51bWJlcik6IFQ7XG4gICAgbmV3IChlbGVtZW50czogSXRlcmFibGU8bnVtYmVyPik6IFQ7XG4gICAgbmV3IChhcnJheU9yQXJyYXlCdWZmZXI6IEFycmF5TGlrZTxudW1iZXI+IHwgQXJyYXlCdWZmZXJMaWtlKTogVDtcbiAgICBuZXcgKGJ1ZmZlcjogQXJyYXlCdWZmZXJMaWtlLCBieXRlT2Zmc2V0OiBudW1iZXIsIGxlbmd0aD86IG51bWJlcik6IFQ7XG4gICAgb2YoLi4uaXRlbXM6IG51bWJlcltdKTogVDtcbiAgICBmcm9tKGFycmF5TGlrZTogQXJyYXlMaWtlPG51bWJlcj4gfCBJdGVyYWJsZTxudW1iZXI+LCBtYXBmbj86ICh2OiBudW1iZXIsIGs6IG51bWJlcikgPT4gbnVtYmVyLCB0aGlzQXJnPzogYW55KTogVDtcbn1cblxuZXhwb3J0IHR5cGUgRmxvYXRBcnJheSA9IFVpbnQxNkFycmF5IHwgRmxvYXQzMkFycmF5IHwgRmxvYXQ2NEFycmF5O1xuZXhwb3J0IHR5cGUgSW50QXJyYXkgPSBJbnQ4QXJyYXkgfCBJbnQxNkFycmF5IHwgSW50MzJBcnJheSB8IFVpbnQ4QXJyYXkgfCBVaW50MTZBcnJheSB8IFVpbnQzMkFycmF5O1xuXG5leHBvcnQgaW50ZXJmYWNlIFR5cGVkQXJyYXkgZXh0ZW5kcyBJdGVyYWJsZTxudW1iZXI+IHtcbiAgICBbaW5kZXg6IG51bWJlcl06IG51bWJlcjtcbiAgICByZWFkb25seSBsZW5ndGg6IG51bWJlcjtcbiAgICByZWFkb25seSBieXRlTGVuZ3RoOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgYnl0ZU9mZnNldDogbnVtYmVyO1xuICAgIHJlYWRvbmx5IGJ1ZmZlcjogQXJyYXlCdWZmZXJMaWtlO1xuICAgIHJlYWRvbmx5IEJZVEVTX1BFUl9FTEVNRU5UOiBudW1iZXI7XG4gICAgW1N5bWJvbC50b1N0cmluZ1RhZ106IGFueTtcbiAgICBbU3ltYm9sLml0ZXJhdG9yXSgpOiBJdGVyYWJsZUl0ZXJhdG9yPG51bWJlcj47XG4gICAgZW50cmllcygpOiBJdGVyYWJsZUl0ZXJhdG9yPFtudW1iZXIsIG51bWJlcl0+O1xuICAgIGtleXMoKTogSXRlcmFibGVJdGVyYXRvcjxudW1iZXI+O1xuICAgIHZhbHVlcygpOiBJdGVyYWJsZUl0ZXJhdG9yPG51bWJlcj47XG4gICAgY29weVdpdGhpbih0YXJnZXQ6IG51bWJlciwgc3RhcnQ6IG51bWJlciwgZW5kPzogbnVtYmVyKTogdGhpcztcbiAgICBldmVyeShjYWxsYmFja2ZuOiAodmFsdWU6IG51bWJlciwgaW5kZXg6IG51bWJlciwgYXJyYXk6IFR5cGVkQXJyYXkpID0+IGJvb2xlYW4sIHRoaXNBcmc/OiBhbnkpOiBib29sZWFuO1xuICAgIGZpbGwodmFsdWU6IG51bWJlciwgc3RhcnQ/OiBudW1iZXIsIGVuZD86IG51bWJlcik6IHRoaXM7XG4gICAgZmlsdGVyKGNhbGxiYWNrZm46ICh2YWx1ZTogbnVtYmVyLCBpbmRleDogbnVtYmVyLCBhcnJheTogVHlwZWRBcnJheSkgPT4gYW55LCB0aGlzQXJnPzogYW55KTogVHlwZWRBcnJheTtcbiAgICBmaW5kKHByZWRpY2F0ZTogKHZhbHVlOiBudW1iZXIsIGluZGV4OiBudW1iZXIsIG9iajogVHlwZWRBcnJheSkgPT4gYm9vbGVhbiwgdGhpc0FyZz86IGFueSk6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgICBmaW5kSW5kZXgocHJlZGljYXRlOiAodmFsdWU6IG51bWJlciwgaW5kZXg6IG51bWJlciwgb2JqOiBUeXBlZEFycmF5KSA9PiBib29sZWFuLCB0aGlzQXJnPzogYW55KTogbnVtYmVyO1xuICAgIGZvckVhY2goY2FsbGJhY2tmbjogKHZhbHVlOiBudW1iZXIsIGluZGV4OiBudW1iZXIsIGFycmF5OiBUeXBlZEFycmF5KSA9PiB2b2lkLCB0aGlzQXJnPzogYW55KTogdm9pZDtcbiAgICBpbmNsdWRlcyhzZWFyY2hFbGVtZW50OiBudW1iZXIsIGZyb21JbmRleD86IG51bWJlcik6IGJvb2xlYW47XG4gICAgaW5kZXhPZihzZWFyY2hFbGVtZW50OiBudW1iZXIsIGZyb21JbmRleD86IG51bWJlcik6IG51bWJlcjtcbiAgICBqb2luKHNlcGFyYXRvcj86IHN0cmluZyk6IHN0cmluZztcbiAgICBsYXN0SW5kZXhPZihzZWFyY2hFbGVtZW50OiBudW1iZXIsIGZyb21JbmRleD86IG51bWJlcik6IG51bWJlcjtcbiAgICBtYXAoY2FsbGJhY2tmbjogKHZhbHVlOiBudW1iZXIsIGluZGV4OiBudW1iZXIsIGFycmF5OiBUeXBlZEFycmF5KSA9PiBudW1iZXIsIHRoaXNBcmc/OiBhbnkpOiBUeXBlZEFycmF5O1xuICAgIHJlZHVjZShjYWxsYmFja2ZuOiAocHJldmlvdXNWYWx1ZTogbnVtYmVyLCBjdXJyZW50VmFsdWU6IG51bWJlciwgY3VycmVudEluZGV4OiBudW1iZXIsIGFycmF5OiBUeXBlZEFycmF5KSA9PiBudW1iZXIpOiBudW1iZXI7XG4gICAgcmVkdWNlKGNhbGxiYWNrZm46IChwcmV2aW91c1ZhbHVlOiBudW1iZXIsIGN1cnJlbnRWYWx1ZTogbnVtYmVyLCBjdXJyZW50SW5kZXg6IG51bWJlciwgYXJyYXk6IFR5cGVkQXJyYXkpID0+IG51bWJlciwgaW5pdGlhbFZhbHVlOiBudW1iZXIpOiBudW1iZXI7XG4gICAgcmVkdWNlPFU+KGNhbGxiYWNrZm46IChwcmV2aW91c1ZhbHVlOiBVLCBjdXJyZW50VmFsdWU6IG51bWJlciwgY3VycmVudEluZGV4OiBudW1iZXIsIGFycmF5OiBUeXBlZEFycmF5KSA9PiBVLCBpbml0aWFsVmFsdWU6IFUpOiBVO1xuICAgIHJlZHVjZVJpZ2h0KGNhbGxiYWNrZm46IChwcmV2aW91c1ZhbHVlOiBudW1iZXIsIGN1cnJlbnRWYWx1ZTogbnVtYmVyLCBjdXJyZW50SW5kZXg6IG51bWJlciwgYXJyYXk6IFR5cGVkQXJyYXkpID0+IG51bWJlcik6IG51bWJlcjtcbiAgICByZWR1Y2VSaWdodChjYWxsYmFja2ZuOiAocHJldmlvdXNWYWx1ZTogbnVtYmVyLCBjdXJyZW50VmFsdWU6IG51bWJlciwgY3VycmVudEluZGV4OiBudW1iZXIsIGFycmF5OiBUeXBlZEFycmF5KSA9PiBudW1iZXIsIGluaXRpYWxWYWx1ZTogbnVtYmVyKTogbnVtYmVyO1xuICAgIHJlZHVjZVJpZ2h0PFU+KGNhbGxiYWNrZm46IChwcmV2aW91c1ZhbHVlOiBVLCBjdXJyZW50VmFsdWU6IG51bWJlciwgY3VycmVudEluZGV4OiBudW1iZXIsIGFycmF5OiBUeXBlZEFycmF5KSA9PiBVLCBpbml0aWFsVmFsdWU6IFUpOiBVO1xuICAgIHJldmVyc2UoKTogVHlwZWRBcnJheTtcbiAgICBzZXQoYXJyYXk6IEFycmF5TGlrZTxudW1iZXI+LCBvZmZzZXQ/OiBudW1iZXIpOiB2b2lkO1xuICAgIHNsaWNlKHN0YXJ0PzogbnVtYmVyLCBlbmQ/OiBudW1iZXIpOiBUeXBlZEFycmF5O1xuICAgIHNvbWUoY2FsbGJhY2tmbjogKHZhbHVlOiBudW1iZXIsIGluZGV4OiBudW1iZXIsIGFycmF5OiBUeXBlZEFycmF5KSA9PiBib29sZWFuLCB0aGlzQXJnPzogYW55KTogYm9vbGVhbjtcbiAgICBzb3J0KGNvbXBhcmVGbj86IChhOiBudW1iZXIsIGI6IG51bWJlcikgPT4gbnVtYmVyKTogdGhpcztcbiAgICBzdWJhcnJheShiZWdpbjogbnVtYmVyLCBlbmQ/OiBudW1iZXIpOiBUeXBlZEFycmF5O1xuICAgIHRvTG9jYWxlU3RyaW5nKCk6IHN0cmluZztcbiAgICB0b1N0cmluZygpOiBzdHJpbmc7XG59XG4iXX0=
