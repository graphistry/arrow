"use strict";
// Licensed to the Apache Software Foundation (ASF) under one
// or more contributor license agreements.  See the NOTICE file
// distributed with this work for additional information
// regarding copyright ownership.  The ASF licenses this file
// to you under the Apache License, Version 2.0 (the
// "License"); you may not use this file except in compliance
// with the License.  You may obtain a copy of the License at
//
//   http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing,
// software distributed under the License is distributed on an
// "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
// KIND, either express or implied.  See the License for the
// specific language governing permissions and limitations
// under the License.
Object.defineProperty(exports, "__esModule", { value: true });
const interfaces_1 = require("../io/interfaces");
/** @ignore */ const isNumber = (x) => typeof x === 'number';
/** @ignore */ const isBoolean = (x) => typeof x === 'boolean';
/** @ignore */ const isFunction = (x) => typeof x === 'function';
/** @ignore */
exports.isObject = (x) => x != null && Object(x) === x;
/** @ignore */
exports.isPromise = (x) => {
    return exports.isObject(x) && isFunction(x.then);
};
/** @ignore */
exports.isObservable = (x) => {
    return exports.isObject(x) && isFunction(x.subscribe);
};
/** @ignore */
exports.isIterable = (x) => {
    return exports.isObject(x) && isFunction(x[Symbol.iterator]);
};
/** @ignore */
exports.isAsyncIterable = (x) => {
    return exports.isObject(x) && isFunction(x[Symbol.asyncIterator]);
};
/** @ignore */
exports.isArrowJSON = (x) => {
    return exports.isObject(x) && exports.isObject(x['schema']);
};
/** @ignore */
exports.isArrayLike = (x) => {
    return exports.isObject(x) && isNumber(x['length']);
};
/** @ignore */
exports.isIteratorResult = (x) => {
    return exports.isObject(x) && ('done' in x) && ('value' in x);
};
/** @ignore */
exports.isUnderlyingSink = (x) => {
    return exports.isObject(x) &&
        isFunction(x['abort']) &&
        isFunction(x['close']) &&
        isFunction(x['start']) &&
        isFunction(x['write']);
};
/** @ignore */
exports.isFileHandle = (x) => {
    return exports.isObject(x) && isFunction(x['stat']) && isNumber(x['fd']);
};
/** @ignore */
exports.isFSReadStream = (x) => {
    return exports.isReadableNodeStream(x) && isNumber(x['bytesRead']);
};
/** @ignore */
exports.isFetchResponse = (x) => {
    return exports.isObject(x) && exports.isReadableDOMStream(x['body']);
};
/** @ignore */
exports.isWritableDOMStream = (x) => {
    return exports.isObject(x) &&
        isFunction(x['abort']) &&
        isFunction(x['getWriter']) &&
        !(x instanceof interfaces_1.ReadableInterop);
};
/** @ignore */
exports.isReadableDOMStream = (x) => {
    return exports.isObject(x) &&
        isFunction(x['tee']) &&
        isFunction(x['cancel']) &&
        isFunction(x['pipeTo']) &&
        isFunction(x['getReader']) &&
        !(x instanceof interfaces_1.ReadableInterop);
};
/** @ignore */
exports.isWritableNodeStream = (x) => {
    return exports.isObject(x) &&
        isFunction(x['end']) &&
        isFunction(x['write']) &&
        isBoolean(x['writable']) &&
        !(x instanceof interfaces_1.ReadableInterop);
};
/** @ignore */
exports.isReadableNodeStream = (x) => {
    return exports.isObject(x) &&
        isFunction(x['read']) &&
        isFunction(x['pipe']) &&
        isBoolean(x['readable']) &&
        !(x instanceof interfaces_1.ReadableInterop);
};

//# sourceMappingURL=data:application/json;charset=utf8;base64,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QUMzRSxPQUFPLGdCQUFRLENBQUMsQ0FBQyxDQUFDO1FBQ2QsVUFBVSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNwQixVQUFVLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3ZCLFVBQVUsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDdkIsVUFBVSxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUMxQixDQUFDLENBQUMsQ0FBQyxZQUFZLDRCQUFlLENBQUMsQ0FBQztBQUN4QyxDQUFDLENBQUM7QUFFRixjQUFjO0FBQ0QsUUFBQSxvQkFBb0IsR0FBRyxDQUFDLENBQU0sRUFBOEIsRUFBRTtJQUN2RSxPQUFPLGdCQUFRLENBQUMsQ0FBQyxDQUFDO1FBQ2QsVUFBVSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNwQixVQUFVLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3RCLFNBQVMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLENBQUMsWUFBWSw0QkFBZSxDQUFDLENBQUM7QUFDeEMsQ0FBQyxDQUFDO0FBRUYsY0FBYztBQUNELFFBQUEsb0JBQW9CLEdBQUcsQ0FBQyxDQUFNLEVBQThCLEVBQUU7SUFDdkUsT0FBTyxnQkFBUSxDQUFDLENBQUMsQ0FBQztRQUNkLFVBQVUsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDckIsVUFBVSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNyQixTQUFTLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxDQUFDLFlBQVksNEJBQWUsQ0FBQyxDQUFDO0FBQ3hDLENBQUMsQ0FBQyIsImZpbGUiOiJ1dGlsL2NvbXBhdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbi8vIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuLy8gZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbi8vIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbi8vIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbi8vIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuLy8gd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuLy8gc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbi8vIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4vLyBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbi8vIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbi8vIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG5pbXBvcnQgeyBSZWFkYWJsZUludGVyb3AsIEFycm93SlNPTkxpa2UgfSBmcm9tICcuLi9pby9pbnRlcmZhY2VzJztcblxuLyoqIEBpZ25vcmUgKi9cbnR5cGUgRlNSZWFkU3RyZWFtID0gaW1wb3J0KCdmcycpLlJlYWRTdHJlYW07XG4vKiogQGlnbm9yZSAqL1xudHlwZSBGaWxlSGFuZGxlID0gaW1wb3J0KCdmcycpLnByb21pc2VzLkZpbGVIYW5kbGU7XG5cbi8qKiBAaWdub3JlICovXG5leHBvcnQgaW50ZXJmYWNlIFN1YnNjcmlwdGlvbiB7XG4gICAgdW5zdWJzY3JpYmU6ICgpID0+IHZvaWQ7XG59XG5cbi8qKiBAaWdub3JlICovXG5leHBvcnQgaW50ZXJmYWNlIE9ic2VydmVyPFQ+IHtcbiAgICBjbG9zZWQ/OiBib29sZWFuO1xuICAgIG5leHQ6ICh2YWx1ZTogVCkgPT4gdm9pZDtcbiAgICBlcnJvcjogKGVycjogYW55KSA9PiB2b2lkO1xuICAgIGNvbXBsZXRlOiAoKSA9PiB2b2lkO1xufVxuXG4vKiogQGlnbm9yZSAqL1xuZXhwb3J0IGludGVyZmFjZSBPYnNlcnZhYmxlPFQ+IHtcbiAgICBzdWJzY3JpYmU6IChvYnNlcnZlcjogT2JzZXJ2ZXI8VD4pID0+IFN1YnNjcmlwdGlvbjtcbn1cblxuLyoqIEBpZ25vcmUgKi8gY29uc3QgaXNOdW1iZXIgPSAoeDogYW55KSA9PiB0eXBlb2YgeCA9PT0gJ251bWJlcic7XG4vKiogQGlnbm9yZSAqLyBjb25zdCBpc0Jvb2xlYW4gPSAoeDogYW55KSA9PiB0eXBlb2YgeCA9PT0gJ2Jvb2xlYW4nO1xuLyoqIEBpZ25vcmUgKi8gY29uc3QgaXNGdW5jdGlvbiA9ICh4OiBhbnkpID0+IHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nO1xuLyoqIEBpZ25vcmUgKi9cbmV4cG9ydCBjb25zdCBpc09iamVjdCA9ICh4OiBhbnkpOiB4IGlzIE9iamVjdCA9PiB4ICE9IG51bGwgJiYgT2JqZWN0KHgpID09PSB4O1xuXG4vKiogQGlnbm9yZSAqL1xuZXhwb3J0IGNvbnN0IGlzUHJvbWlzZSA9IDxUID0gYW55Pih4OiBhbnkpOiB4IGlzIFByb21pc2VMaWtlPFQ+ID0+IHtcbiAgICByZXR1cm4gaXNPYmplY3QoeCkgJiYgaXNGdW5jdGlvbih4LnRoZW4pO1xufTtcblxuLyoqIEBpZ25vcmUgKi9cbmV4cG9ydCBjb25zdCBpc09ic2VydmFibGUgPSA8VCA9IGFueT4oeDogYW55KTogeCBpcyBPYnNlcnZhYmxlPFQ+ID0+IHtcbiAgICByZXR1cm4gaXNPYmplY3QoeCkgJiYgaXNGdW5jdGlvbih4LnN1YnNjcmliZSk7XG59O1xuXG4vKiogQGlnbm9yZSAqL1xuZXhwb3J0IGNvbnN0IGlzSXRlcmFibGUgPSA8VCA9IGFueT4oeDogYW55KTogeCBpcyBJdGVyYWJsZTxUPiA9PiB7XG4gICAgcmV0dXJuIGlzT2JqZWN0KHgpICYmIGlzRnVuY3Rpb24oeFtTeW1ib2wuaXRlcmF0b3JdKTtcbn07XG5cbi8qKiBAaWdub3JlICovXG5leHBvcnQgY29uc3QgaXNBc3luY0l0ZXJhYmxlID0gPFQgPSBhbnk+KHg6IGFueSk6IHggaXMgQXN5bmNJdGVyYWJsZTxUPiA9PiB7XG4gICAgcmV0dXJuIGlzT2JqZWN0KHgpICYmIGlzRnVuY3Rpb24oeFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0pO1xufTtcblxuLyoqIEBpZ25vcmUgKi9cbmV4cG9ydCBjb25zdCBpc0Fycm93SlNPTiA9ICh4OiBhbnkpOiB4IGlzIEFycm93SlNPTkxpa2UgID0+IHtcbiAgICByZXR1cm4gaXNPYmplY3QoeCkgJiYgaXNPYmplY3QoeFsnc2NoZW1hJ10pO1xufTtcblxuLyoqIEBpZ25vcmUgKi9cbmV4cG9ydCBjb25zdCBpc0FycmF5TGlrZSA9IDxUID0gYW55Pih4OiBhbnkpOiB4IGlzIEFycmF5TGlrZTxUPiA9PiB7XG4gICAgcmV0dXJuIGlzT2JqZWN0KHgpICYmIGlzTnVtYmVyKHhbJ2xlbmd0aCddKTtcbn07XG5cbi8qKiBAaWdub3JlICovXG5leHBvcnQgY29uc3QgaXNJdGVyYXRvclJlc3VsdCA9IDxUID0gYW55Pih4OiBhbnkpOiB4IGlzIEl0ZXJhdG9yUmVzdWx0PFQ+ID0+IHtcbiAgICByZXR1cm4gaXNPYmplY3QoeCkgJiYgKCdkb25lJyBpbiB4KSAmJiAoJ3ZhbHVlJyBpbiB4KTtcbn07XG5cbi8qKiBAaWdub3JlICovXG5leHBvcnQgY29uc3QgaXNVbmRlcmx5aW5nU2luayA9IDxUID0gYW55Pih4OiBhbnkpOiB4IGlzIFVuZGVybHlpbmdTaW5rPFQ+ID0+IHtcbiAgICByZXR1cm4gaXNPYmplY3QoeCkgJiZcbiAgICAgICAgaXNGdW5jdGlvbih4WydhYm9ydCddKSAmJlxuICAgICAgICBpc0Z1bmN0aW9uKHhbJ2Nsb3NlJ10pICYmXG4gICAgICAgIGlzRnVuY3Rpb24oeFsnc3RhcnQnXSkgJiZcbiAgICAgICAgaXNGdW5jdGlvbih4Wyd3cml0ZSddKTtcbn07XG5cbi8qKiBAaWdub3JlICovXG5leHBvcnQgY29uc3QgaXNGaWxlSGFuZGxlID0gKHg6IGFueSk6IHggaXMgRmlsZUhhbmRsZSA9PiB7XG4gICAgcmV0dXJuIGlzT2JqZWN0KHgpICYmIGlzRnVuY3Rpb24oeFsnc3RhdCddKSAmJiBpc051bWJlcih4WydmZCddKTtcbn07XG5cbi8qKiBAaWdub3JlICovXG5leHBvcnQgY29uc3QgaXNGU1JlYWRTdHJlYW0gPSAoeDogYW55KTogeCBpcyBGU1JlYWRTdHJlYW0gPT4ge1xuICAgIHJldHVybiBpc1JlYWRhYmxlTm9kZVN0cmVhbSh4KSAmJiBpc051bWJlcigoPGFueT4geClbJ2J5dGVzUmVhZCddKTtcbn07XG5cbi8qKiBAaWdub3JlICovXG5leHBvcnQgY29uc3QgaXNGZXRjaFJlc3BvbnNlID0gKHg6IGFueSk6IHggaXMgUmVzcG9uc2UgPT4ge1xuICAgIHJldHVybiBpc09iamVjdCh4KSAmJiBpc1JlYWRhYmxlRE9NU3RyZWFtKHhbJ2JvZHknXSk7XG59O1xuXG4vKiogQGlnbm9yZSAqL1xuZXhwb3J0IGNvbnN0IGlzV3JpdGFibGVET01TdHJlYW0gPSA8VCA9IGFueT4oeDogYW55KTogeCBpcyBXcml0YWJsZVN0cmVhbTxUPiA9PiB7XG4gICAgcmV0dXJuIGlzT2JqZWN0KHgpICYmXG4gICAgICAgIGlzRnVuY3Rpb24oeFsnYWJvcnQnXSkgJiZcbiAgICAgICAgaXNGdW5jdGlvbih4WydnZXRXcml0ZXInXSkgJiZcbiAgICAgICAgISh4IGluc3RhbmNlb2YgUmVhZGFibGVJbnRlcm9wKTtcbn07XG5cbi8qKiBAaWdub3JlICovXG5leHBvcnQgY29uc3QgaXNSZWFkYWJsZURPTVN0cmVhbSA9IDxUID0gYW55Pih4OiBhbnkpOiB4IGlzIFJlYWRhYmxlU3RyZWFtPFQ+ID0+IHtcbiAgICByZXR1cm4gaXNPYmplY3QoeCkgJiZcbiAgICAgICAgaXNGdW5jdGlvbih4Wyd0ZWUnXSkgJiZcbiAgICAgICAgaXNGdW5jdGlvbih4WydjYW5jZWwnXSkgJiZcbiAgICAgICAgaXNGdW5jdGlvbih4WydwaXBlVG8nXSkgJiZcbiAgICAgICAgaXNGdW5jdGlvbih4WydnZXRSZWFkZXInXSkgJiZcbiAgICAgICAgISh4IGluc3RhbmNlb2YgUmVhZGFibGVJbnRlcm9wKTtcbn07XG5cbi8qKiBAaWdub3JlICovXG5leHBvcnQgY29uc3QgaXNXcml0YWJsZU5vZGVTdHJlYW0gPSAoeDogYW55KTogeCBpcyBOb2RlSlMuV3JpdGFibGVTdHJlYW0gPT4ge1xuICAgIHJldHVybiBpc09iamVjdCh4KSAmJlxuICAgICAgICBpc0Z1bmN0aW9uKHhbJ2VuZCddKSAmJlxuICAgICAgICBpc0Z1bmN0aW9uKHhbJ3dyaXRlJ10pICYmXG4gICAgICAgIGlzQm9vbGVhbih4Wyd3cml0YWJsZSddKSAmJlxuICAgICAgICAhKHggaW5zdGFuY2VvZiBSZWFkYWJsZUludGVyb3ApO1xufTtcblxuLyoqIEBpZ25vcmUgKi9cbmV4cG9ydCBjb25zdCBpc1JlYWRhYmxlTm9kZVN0cmVhbSA9ICh4OiBhbnkpOiB4IGlzIE5vZGVKUy5SZWFkYWJsZVN0cmVhbSA9PiB7XG4gICAgcmV0dXJuIGlzT2JqZWN0KHgpICYmXG4gICAgICAgIGlzRnVuY3Rpb24oeFsncmVhZCddKSAmJlxuICAgICAgICBpc0Z1bmN0aW9uKHhbJ3BpcGUnXSkgJiZcbiAgICAgICAgaXNCb29sZWFuKHhbJ3JlYWRhYmxlJ10pICYmXG4gICAgICAgICEoeCBpbnN0YW5jZW9mIFJlYWRhYmxlSW50ZXJvcCk7XG59O1xuIl19
