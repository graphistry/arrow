"use strict";
// Licensed to the Apache Software Foundation (ASF) under one
// or more contributor license agreements.  See the NOTICE file
// distributed with this work for additional information
// regarding copyright ownership.  The ASF licenses this file
// to you under the Apache License, Version 2.0 (the
// "License"); you may not use this file except in compliance
// with the License.  You may obtain a copy of the License at
//
//   http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing,
// software distributed under the License is distributed on an
// "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
// KIND, either express or implied.  See the License for the
// specific language governing permissions and limitations
// under the License.
Object.defineProperty(exports, "__esModule", { value: true });
const enum_1 = require("./enum");
class DataType {
    constructor(_TType = enum_1.Type.NONE, _children) {
        this._TType = _TType;
        this._children = _children;
    }
    /** @nocollapse */ static isNull(x) { return x && x.TType === enum_1.Type.Null; }
    /** @nocollapse */ static isInt(x) { return x && x.TType === enum_1.Type.Int; }
    /** @nocollapse */ static isFloat(x) { return x && x.TType === enum_1.Type.Float; }
    /** @nocollapse */ static isBinary(x) { return x && x.TType === enum_1.Type.Binary; }
    /** @nocollapse */ static isUtf8(x) { return x && x.TType === enum_1.Type.Utf8; }
    /** @nocollapse */ static isBool(x) { return x && x.TType === enum_1.Type.Bool; }
    /** @nocollapse */ static isDecimal(x) { return x && x.TType === enum_1.Type.Decimal; }
    /** @nocollapse */ static isDate(x) { return x && x.TType === enum_1.Type.Date; }
    /** @nocollapse */ static isTime(x) { return x && x.TType === enum_1.Type.Time; }
    /** @nocollapse */ static isTimestamp(x) { return x && x.TType === enum_1.Type.Timestamp; }
    /** @nocollapse */ static isInterval(x) { return x && x.TType === enum_1.Type.Interval; }
    /** @nocollapse */ static isList(x) { return x && x.TType === enum_1.Type.List; }
    /** @nocollapse */ static isStruct(x) { return x && x.TType === enum_1.Type.Struct; }
    /** @nocollapse */ static isUnion(x) { return x && x.TType === enum_1.Type.Union; }
    /** @nocollapse */ static isFixedSizeBinary(x) { return x && x.TType === enum_1.Type.FixedSizeBinary; }
    /** @nocollapse */ static isFixedSizeList(x) { return x && x.TType === enum_1.Type.FixedSizeList; }
    /** @nocollapse */ static isMap(x) { return x && x.TType === enum_1.Type.Map; }
    /** @nocollapse */ static isDictionary(x) { return x && x.TType === enum_1.Type.Dictionary; }
    get TType() { return this._TType; }
    get children() { return this._children; }
}
DataType[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Array;
    return proto[Symbol.toStringTag] = 'DataType';
})(DataType.prototype);
exports.DataType = DataType;
class Null extends DataType {
    constructor() {
        super(enum_1.Type.Null);
    }
    toString() { return `Null`; }
}
Null[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Null';
})(Null.prototype);
exports.Null = Null;
class Int extends DataType {
    constructor(_isSigned, _bitWidth) {
        super(enum_1.Type.Int);
        this._isSigned = _isSigned;
        this._bitWidth = _bitWidth;
    }
    get isSigned() { return this._isSigned; }
    get bitWidth() { return this._bitWidth; }
    get ArrayType() {
        switch (this._bitWidth) {
            case 8: return (this._isSigned ? Int8Array : Uint8Array);
            case 16: return (this._isSigned ? Int16Array : Uint16Array);
            case 32: return (this._isSigned ? Int32Array : Uint32Array);
            case 64: return (this._isSigned ? Int32Array : Uint32Array);
        }
        throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`);
    }
    toString() { return `${this._isSigned ? `I` : `Ui`}nt${this._bitWidth}`; }
}
Int[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Int';
})(Int.prototype);
exports.Int = Int;
class Int8 extends Int {
    constructor() { super(true, 8); }
}
exports.Int8 = Int8;
class Int16 extends Int {
    constructor() { super(true, 16); }
}
exports.Int16 = Int16;
class Int32 extends Int {
    constructor() { super(true, 32); }
}
exports.Int32 = Int32;
class Int64 extends Int {
    constructor() { super(true, 64); }
}
exports.Int64 = Int64;
class Uint8 extends Int {
    constructor() { super(false, 8); }
}
exports.Uint8 = Uint8;
class Uint16 extends Int {
    constructor() { super(false, 16); }
}
exports.Uint16 = Uint16;
class Uint32 extends Int {
    constructor() { super(false, 32); }
}
exports.Uint32 = Uint32;
class Uint64 extends Int {
    constructor() { super(false, 64); }
}
exports.Uint64 = Uint64;
class Float extends DataType {
    constructor(_precision) {
        super(enum_1.Type.Float);
        this._precision = _precision;
    }
    get precision() { return this._precision; }
    // @ts-ignore
    get ArrayType() {
        switch (this.precision) {
            case enum_1.Precision.HALF: return Uint16Array;
            case enum_1.Precision.SINGLE: return Float32Array;
            case enum_1.Precision.DOUBLE: return Float64Array;
        }
        throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`);
    }
    toString() { return `Float${(this.precision << 5) || 16}`; }
}
Float[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Float';
})(Float.prototype);
exports.Float = Float;
class Float16 extends Float {
    constructor() { super(enum_1.Precision.HALF); }
}
exports.Float16 = Float16;
class Float32 extends Float {
    constructor() { super(enum_1.Precision.SINGLE); }
}
exports.Float32 = Float32;
class Float64 extends Float {
    constructor() { super(enum_1.Precision.DOUBLE); }
}
exports.Float64 = Float64;
class Binary extends DataType {
    constructor() {
        super(enum_1.Type.Binary);
    }
    toString() { return `Binary`; }
}
Binary[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'Binary';
})(Binary.prototype);
exports.Binary = Binary;
class Utf8 extends DataType {
    constructor() {
        super(enum_1.Type.Utf8);
    }
    toString() { return `Utf8`; }
}
Utf8[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'Utf8';
})(Utf8.prototype);
exports.Utf8 = Utf8;
class Bool extends DataType {
    constructor() {
        super(enum_1.Type.Bool);
    }
    toString() { return `Bool`; }
}
Bool[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'Bool';
})(Bool.prototype);
exports.Bool = Bool;
class Decimal extends DataType {
    constructor(_scale, _precision) {
        super(enum_1.Type.Decimal);
        this._scale = _scale;
        this._precision = _precision;
    }
    get scale() { return this._scale; }
    get precision() { return this._precision; }
    toString() { return `Decimal[${this._precision}e${this._scale > 0 ? `+` : ``}${this._scale}]`; }
}
Decimal[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint32Array;
    return proto[Symbol.toStringTag] = 'Decimal';
})(Decimal.prototype);
exports.Decimal = Decimal;
class Date_ extends DataType {
    constructor(_unit) {
        super(enum_1.Type.Date);
        this._unit = _unit;
    }
    get unit() { return this._unit; }
    toString() { return `Date${(this._unit + 1) * 32}<${enum_1.DateUnit[this._unit]}>`; }
}
Date_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int32Array;
    return proto[Symbol.toStringTag] = 'Date';
})(Date_.prototype);
exports.Date_ = Date_;
class DateDay extends Date_ {
    constructor() { super(enum_1.DateUnit.DAY); }
}
exports.DateDay = DateDay;
class DateMillisecond extends Date_ {
    constructor() { super(enum_1.DateUnit.MILLISECOND); }
}
exports.DateMillisecond = DateMillisecond;
class Time extends DataType {
    constructor(_unit, _bitWidth) {
        super(enum_1.Type.Time);
        this._unit = _unit;
        this._bitWidth = _bitWidth;
    }
    get unit() { return this._unit; }
    get bitWidth() { return this._bitWidth; }
    toString() { return `Time${this._bitWidth}<${enum_1.TimeUnit[this._unit]}>`; }
}
Time[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint32Array;
    return proto[Symbol.toStringTag] = 'Time';
})(Time.prototype);
exports.Time = Time;
class TimeSecond extends Time {
    constructor(bitWidth) { super(enum_1.TimeUnit.SECOND, bitWidth); }
}
exports.TimeSecond = TimeSecond;
class TimeMillisecond extends Time {
    constructor(bitWidth) { super(enum_1.TimeUnit.MILLISECOND, bitWidth); }
}
exports.TimeMillisecond = TimeMillisecond;
class TimeMicrosecond extends Time {
    constructor(bitWidth) { super(enum_1.TimeUnit.MICROSECOND, bitWidth); }
}
exports.TimeMicrosecond = TimeMicrosecond;
class TimeNanosecond extends Time {
    constructor(bitWidth) { super(enum_1.TimeUnit.NANOSECOND, bitWidth); }
}
exports.TimeNanosecond = TimeNanosecond;
class Timestamp extends DataType {
    constructor(_unit, _timezone) {
        super(enum_1.Type.Timestamp);
        this._unit = _unit;
        this._timezone = _timezone;
    }
    get unit() { return this._unit; }
    get timezone() { return this._timezone; }
    toString() { return `Timestamp<${enum_1.TimeUnit[this._unit]}${this._timezone ? `, ${this._timezone}` : ``}>`; }
}
Timestamp[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int32Array;
    return proto[Symbol.toStringTag] = 'Timestamp';
})(Timestamp.prototype);
exports.Timestamp = Timestamp;
class TimestampSecond extends Timestamp {
    constructor(timezone) { super(enum_1.TimeUnit.SECOND, timezone); }
}
exports.TimestampSecond = TimestampSecond;
class TimestampMillisecond extends Timestamp {
    constructor(timezone) { super(enum_1.TimeUnit.MILLISECOND, timezone); }
}
exports.TimestampMillisecond = TimestampMillisecond;
class TimestampMicrosecond extends Timestamp {
    constructor(timezone) { super(enum_1.TimeUnit.MICROSECOND, timezone); }
}
exports.TimestampMicrosecond = TimestampMicrosecond;
class TimestampNanosecond extends Timestamp {
    constructor(timezone) { super(enum_1.TimeUnit.NANOSECOND, timezone); }
}
exports.TimestampNanosecond = TimestampNanosecond;
class Interval extends DataType {
    constructor(_unit) {
        super(enum_1.Type.Interval);
        this._unit = _unit;
    }
    get unit() { return this._unit; }
    toString() { return `Interval<${enum_1.IntervalUnit[this._unit]}>`; }
}
Interval[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int32Array;
    return proto[Symbol.toStringTag] = 'Interval';
})(Interval.prototype);
exports.Interval = Interval;
class IntervalDayTime extends Interval {
    constructor() { super(enum_1.IntervalUnit.DAY_TIME); }
}
exports.IntervalDayTime = IntervalDayTime;
class IntervalYearMonth extends Interval {
    constructor() { super(enum_1.IntervalUnit.YEAR_MONTH); }
}
exports.IntervalYearMonth = IntervalYearMonth;
class List extends DataType {
    constructor(_children) {
        super(enum_1.Type.List, _children);
        this._children = _children;
    }
    toString() { return `List<${this.valueType}>`; }
    get children() { return this._children; }
    get valueType() { return this._children[0].type; }
    get valueField() { return this._children[0]; }
    get ArrayType() { return this.valueType.ArrayType; }
}
List[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'List';
})(List.prototype);
exports.List = List;
class Struct extends DataType {
    constructor(_children) {
        super(enum_1.Type.Struct, _children);
        this._children = _children;
    }
    get children() { return this._children; }
    toString() { return `Struct<${this._children.map((f) => f.type).join(`, `)}>`; }
}
Struct[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Struct';
})(Struct.prototype);
exports.Struct = Struct;
class Union extends DataType {
    constructor(_mode, _typeIds, _children) {
        super(enum_1.Type.Union, _children);
        this._mode = _mode;
        this._typeIds = _typeIds;
        this._children = _children;
        this._typeIdToChildIndex = (_typeIds || []).reduce((typeIdToChildIndex, typeId, idx) => {
            return (typeIdToChildIndex[typeId] = idx) && typeIdToChildIndex || typeIdToChildIndex;
        }, Object.create(null));
    }
    get mode() { return this._mode; }
    get typeIds() { return this._typeIds; }
    get children() { return this._children; }
    get typeIdToChildIndex() { return this._typeIdToChildIndex; }
    toString() {
        return `${this[Symbol.toStringTag]}<${this._children.map((x) => `${x.type}`).join(` | `)}>`;
    }
}
Union[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int8Array;
    return proto[Symbol.toStringTag] = 'Union';
})(Union.prototype);
exports.Union = Union;
class DenseUnion extends Union {
    constructor(typeIds, children) {
        super(enum_1.UnionMode.Dense, typeIds, children);
    }
}
exports.DenseUnion = DenseUnion;
class SparseUnion extends Union {
    constructor(typeIds, children) {
        super(enum_1.UnionMode.Sparse, typeIds, children);
    }
}
exports.SparseUnion = SparseUnion;
class FixedSizeBinary extends DataType {
    constructor(_byteWidth) {
        super(enum_1.Type.FixedSizeBinary);
        this._byteWidth = _byteWidth;
    }
    get byteWidth() { return this._byteWidth; }
    toString() { return `FixedSizeBinary[${this.byteWidth}]`; }
}
FixedSizeBinary[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'FixedSizeBinary';
})(FixedSizeBinary.prototype);
exports.FixedSizeBinary = FixedSizeBinary;
class FixedSizeList extends DataType {
    constructor(_listSize, _children) {
        super(enum_1.Type.FixedSizeList, _children);
        this._listSize = _listSize;
        this._children = _children;
    }
    get listSize() { return this._listSize; }
    get children() { return this._children; }
    get valueType() { return this.children[0].type; }
    get valueField() { return this.children[0]; }
    get ArrayType() { return this.valueType.ArrayType; }
    toString() { return `FixedSizeList[${this._listSize}]<${this.valueType}>`; }
}
FixedSizeList[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'FixedSizeList';
})(FixedSizeList.prototype);
exports.FixedSizeList = FixedSizeList;
class Map_ extends DataType {
    constructor(_children, _keysSorted = false) {
        super(enum_1.Type.Map, _children);
        this._children = _children;
        this._keysSorted = _keysSorted;
    }
    get children() { return this._children; }
    get keysSorted() { return this._keysSorted; }
    toString() { return `Map<${this.children.join(`, `)}>`; }
}
Map_[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Map_';
})(Map_.prototype);
exports.Map_ = Map_;
const getId = ((atomicDictionaryId) => () => ++atomicDictionaryId)(-1);
class Dictionary extends DataType {
    constructor(dictionary, indices, id, isOrdered, dictionaryVector) {
        super(enum_1.Type.Dictionary);
        this._indices = indices;
        this._dictionary = dictionary;
        this._isOrdered = isOrdered || false;
        this.dictionaryVector = dictionaryVector;
        this._id = id == null ? getId() : typeof id === 'number' ? id : id.low;
    }
    get id() { return this._id; }
    get indices() { return this._indices; }
    get dictionary() { return this._dictionary; }
    get isOrdered() { return this._isOrdered; }
    set children(_) { }
    get children() { return this.dictionary.children; }
    get valueType() { return this.dictionary; }
    get ArrayType() { return this.dictionary.ArrayType; }
    toString() { return `Dictionary<${this.indices}, ${this.dictionary}>`; }
}
Dictionary[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Dictionary';
})(Dictionary.prototype);
exports.Dictionary = Dictionary;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInR5cGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLDZEQUE2RDtBQUM3RCwrREFBK0Q7QUFDL0Qsd0RBQXdEO0FBQ3hELDZEQUE2RDtBQUM3RCxvREFBb0Q7QUFDcEQsNkRBQTZEO0FBQzdELDZEQUE2RDtBQUM3RCxFQUFFO0FBQ0YsK0NBQStDO0FBQy9DLEVBQUU7QUFDRiw2REFBNkQ7QUFDN0QsOERBQThEO0FBQzlELHlEQUF5RDtBQUN6RCw0REFBNEQ7QUFDNUQsMERBQTBEO0FBQzFELHFCQUFxQjs7QUFTckIsaUNBSWdCO0FBbUJoQixNQUFhLFFBQVE7SUEyQmpCLFlBQXNCLFNBQXNCLFdBQUksQ0FBQyxJQUFJLEVBQy9CLFNBQStDO1FBRC9DLFdBQU0sR0FBTixNQUFNLENBQXlCO1FBQy9CLGNBQVMsR0FBVCxTQUFTLENBQXNDO0lBQ3RELENBQUM7SUF4QmhCLGtCQUFrQixDQUFDLE1BQU0sQ0FBWSxNQUFNLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxLQUFLLFdBQUksQ0FBQyxJQUFJLENBQUMsQ0FBWSxDQUFDO0lBQzVILGtCQUFrQixDQUFDLE1BQU0sQ0FBYSxLQUFLLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxLQUFLLFdBQUksQ0FBQyxHQUFHLENBQUMsQ0FBYSxDQUFDO0lBQzVILGtCQUFrQixDQUFDLE1BQU0sQ0FBVyxPQUFPLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxLQUFLLFdBQUksQ0FBQyxLQUFLLENBQUMsQ0FBVyxDQUFDO0lBQzVILGtCQUFrQixDQUFDLE1BQU0sQ0FBVSxRQUFRLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxLQUFLLFdBQUksQ0FBQyxNQUFNLENBQUMsQ0FBVSxDQUFDO0lBQzVILGtCQUFrQixDQUFDLE1BQU0sQ0FBWSxNQUFNLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxLQUFLLFdBQUksQ0FBQyxJQUFJLENBQUMsQ0FBWSxDQUFDO0lBQzVILGtCQUFrQixDQUFDLE1BQU0sQ0FBWSxNQUFNLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxLQUFLLFdBQUksQ0FBQyxJQUFJLENBQUMsQ0FBWSxDQUFDO0lBQzVILGtCQUFrQixDQUFDLE1BQU0sQ0FBUyxTQUFTLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxLQUFLLFdBQUksQ0FBQyxPQUFPLENBQUMsQ0FBUyxDQUFDO0lBQzVILGtCQUFrQixDQUFDLE1BQU0sQ0FBWSxNQUFNLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxLQUFLLFdBQUksQ0FBQyxJQUFJLENBQUMsQ0FBWSxDQUFDO0lBQzVILGtCQUFrQixDQUFDLE1BQU0sQ0FBWSxNQUFNLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxLQUFLLFdBQUksQ0FBQyxJQUFJLENBQUMsQ0FBWSxDQUFDO0lBQzVILGtCQUFrQixDQUFDLE1BQU0sQ0FBTyxXQUFXLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxLQUFLLFdBQUksQ0FBQyxTQUFTLENBQUMsQ0FBTyxDQUFDO0lBQzVILGtCQUFrQixDQUFDLE1BQU0sQ0FBUSxVQUFVLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxLQUFLLFdBQUksQ0FBQyxRQUFRLENBQUMsQ0FBUSxDQUFDO0lBQzVILGtCQUFrQixDQUFDLE1BQU0sQ0FBWSxNQUFNLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxLQUFLLFdBQUksQ0FBQyxJQUFJLENBQUMsQ0FBWSxDQUFDO0lBQzVILGtCQUFrQixDQUFDLE1BQU0sQ0FBVSxR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QyxDQUFDO0lBQ3BDLElBQVcsT0FBTyxLQUFLLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7SUFDOUMsSUFBVyxVQUFVLEtBQUssT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztJQUNwRCxJQUFXLFNBQVMsS0FBSyxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO0lBQ2xELElBQVcsUUFBUSxDQUFDLENBQWdCLElBQUcsQ0FBQztJQUN4QyxJQUFXLFFBQVEsS0FBSyxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztJQUMxRCxJQUFXLFNBQVMsS0FBUSxPQUFPLElBQUksQ0FBQyxVQUFlLENBQUMsQ0FBQyxDQUFDO0lBQzFELElBQVcsU0FBUyxLQUFxQixPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztJQUNyRSxRQUFRLEtBQUssT0FBTyxjQUFjLElBQUksQ0FBQyxPQUFPLEtBQUssSUFBSSxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUMsQ0FBQzs7QUFDOUQsV0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQWlCLEVBQUUsRUFBRTtJQUMzRCxPQUFPLEtBQUssQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsWUFBWSxDQUFDO0FBQ3BELENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsQ0FBQztBQTFCN0IsZ0NBMkJDIiwiZmlsZSI6InR5cGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4vLyBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbi8vIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4vLyByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4vLyB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4vLyBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Vcbi8vIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbi8vIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4vLyBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuLy8gS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4vLyBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4vLyB1bmRlciB0aGUgTGljZW5zZS5cblxuaW1wb3J0IHsgRmllbGQgfSBmcm9tICcuL3NjaGVtYSc7XG5pbXBvcnQgeyBWZWN0b3IgfSBmcm9tICcuL3ZlY3Rvcic7XG5pbXBvcnQgeyBmbGF0YnVmZmVycyB9IGZyb20gJ2ZsYXRidWZmZXJzJztcbmltcG9ydCB7IFZlY3RvciBhcyBWVHlwZSB9IGZyb20gJy4vaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBBcnJheUJ1ZmZlclZpZXdDb25zdHJ1Y3RvciB9IGZyb20gJy4vaW50ZXJmYWNlcyc7XG5cbmltcG9ydCBMb25nID0gZmxhdGJ1ZmZlcnMuTG9uZztcbmltcG9ydCB7XG4gICAgVHlwZSwgQXJyb3dUeXBlLFxuICAgIFByZWNpc2lvbiwgVW5pb25Nb2RlLFxuICAgIERhdGVVbml0LCBUaW1lVW5pdCwgSW50ZXJ2YWxVbml0XG59IGZyb20gJy4vZW51bSc7XG5cbmV4cG9ydCB0eXBlIFRpbWVCaXRXaWR0aCA9IDMyIHwgNjQ7XG5leHBvcnQgdHlwZSBJbnRCaXRXaWR0aCA9IDggfCAxNiB8IDMyIHwgNjQ7XG5leHBvcnQgdHlwZSBJc1NpZ25lZCA9IHsgJ3RydWUnOiB0cnVlOyAnZmFsc2UnOiBmYWxzZSB9O1xuXG5leHBvcnQgdHlwZSBSb3dMaWtlPFQgZXh0ZW5kcyB7IFtrZXk6IHN0cmluZ106IERhdGFUeXBlOyB9PiA9XG4gICAgICB7IHJlYWRvbmx5IGxlbmd0aDogbnVtYmVyIH1cbiAgICAmICggSXRlcmFibGU8VFtrZXlvZiBUXVsnVFZhbHVlJ10+IClcbiAgICAmIHsgW1AgaW4ga2V5b2YgVF06IFRbUF1bJ1RWYWx1ZSddIH1cbiAgICAmIHsgZ2V0PEsgZXh0ZW5kcyBrZXlvZiBUPihrZXk6IEspOiBUW0tdWydUVmFsdWUnXTsgfVxuICAgIDtcblxuZXhwb3J0IGludGVyZmFjZSBEYXRhVHlwZTxUVHlwZSBleHRlbmRzIFR5cGUgPSBUeXBlPiB7XG4gICAgcmVhZG9ubHkgVEFycmF5OiBhbnk7XG4gICAgcmVhZG9ubHkgVFZhbHVlOiBhbnk7XG4gICAgcmVhZG9ubHkgQXJyYXlUeXBlOiBhbnk7XG59XG5cbmV4cG9ydCBjbGFzcyBEYXRhVHlwZTxUVHlwZSBleHRlbmRzIFR5cGUgPSBUeXBlLCBUQ2hpbGRyZW4gZXh0ZW5kcyB7IFtrZXk6IHN0cmluZ106IERhdGFUeXBlIH0gPSBhbnk+IHtcblxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBwdWJsaWMgW1N5bWJvbC50b1N0cmluZ1RhZ106IHN0cmluZztcblxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgICAgICBpc051bGwgKHg6IGFueSk6IHggaXMgTnVsbCAgICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5OdWxsOyAgICAgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICAgICAgIGlzSW50ICh4OiBhbnkpOiB4IGlzIEludCAgICAgICAgICAgICB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuSW50OyAgICAgICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICAgICAgaXNGbG9hdCAoeDogYW55KTogeCBpcyBGbG9hdCAgICAgICAgICAgeyByZXR1cm4geCAmJiB4LlRUeXBlID09PSBUeXBlLkZsb2F0OyAgICAgICAgICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgICAgaXNCaW5hcnkgKHg6IGFueSk6IHggaXMgQmluYXJ5ICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5CaW5hcnk7ICAgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICAgICAgaXNVdGY4ICh4OiBhbnkpOiB4IGlzIFV0ZjggICAgICAgICAgICB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuVXRmODsgICAgICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICAgICAgIGlzQm9vbCAoeDogYW55KTogeCBpcyBCb29sICAgICAgICAgICAgeyByZXR1cm4geCAmJiB4LlRUeXBlID09PSBUeXBlLkJvb2w7ICAgICAgICAgICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgICBpc0RlY2ltYWwgKHg6IGFueSk6IHggaXMgRGVjaW1hbCAgICAgICAgIHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5EZWNpbWFsOyAgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICAgICAgaXNEYXRlICh4OiBhbnkpOiB4IGlzIERhdGVfICAgICAgICAgICB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuRGF0ZTsgICAgICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICAgICAgIGlzVGltZSAoeDogYW55KTogeCBpcyBUaW1lICAgICAgICAgICAgeyByZXR1cm4geCAmJiB4LlRUeXBlID09PSBUeXBlLlRpbWU7ICAgICAgICAgICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgaXNUaW1lc3RhbXAgKHg6IGFueSk6IHggaXMgVGltZXN0YW1wICAgICAgIHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5UaW1lc3RhbXA7ICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICBpc0ludGVydmFsICh4OiBhbnkpOiB4IGlzIEludGVydmFsICAgICAgICB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuSW50ZXJ2YWw7ICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICAgICAgIGlzTGlzdCAoeDogYW55KTogeCBpcyBMaXN0ICAgICAgICAgICAgeyByZXR1cm4geCAmJiB4LlRUeXBlID09PSBUeXBlLkxpc3Q7ICAgICAgICAgICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgICAgaXNTdHJ1Y3QgKHg6IGFueSk6IHggaXMgU3RydWN0ICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5TdHJ1Y3Q7ICAgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICAgICBpc1VuaW9uICh4OiBhbnkpOiB4IGlzIFVuaW9uICAgICAgICAgICB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuVW5pb247ICAgICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyBpc0ZpeGVkU2l6ZUJpbmFyeSAoeDogYW55KTogeCBpcyBGaXhlZFNpemVCaW5hcnkgeyByZXR1cm4geCAmJiB4LlRUeXBlID09PSBUeXBlLkZpeGVkU2l6ZUJpbmFyeTsgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICBpc0ZpeGVkU2l6ZUxpc3QgKHg6IGFueSk6IHggaXMgRml4ZWRTaXplTGlzdCAgIHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5GaXhlZFNpemVMaXN0OyAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICAgICAgIGlzTWFwICh4OiBhbnkpOiB4IGlzIE1hcF8gICAgICAgICAgICB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuTWFwOyAgICAgICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgIGlzRGljdGlvbmFyeSAoeDogYW55KTogeCBpcyBEaWN0aW9uYXJ5ICAgICAgeyByZXR1cm4geCAmJiB4LlRUeXBlID09PSBUeXBlLkRpY3Rpb25hcnk7ICAgICAgfVxuXG4gICAgcHVibGljIGdldCBUVHlwZSgpIHsgcmV0dXJuIHRoaXMuX1RUeXBlOyB9XG4gICAgcHVibGljIGdldCBjaGlsZHJlbigpIHsgcmV0dXJuIHRoaXMuX2NoaWxkcmVuOyB9XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX1RUeXBlOiBUVHlwZSA9IDxhbnk+IFR5cGUuTk9ORSxcbiAgICAgICAgICAgICAgICBwcm90ZWN0ZWQgX2NoaWxkcmVuPzogRmllbGQ8VENoaWxkcmVuW2tleW9mIFRDaGlsZHJlbl0+W11cbiAgICAgICAgICAgICAgICApIHt9XG5cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogRGF0YVR5cGUpID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnRGF0YVR5cGUnO1xuICAgIH0pKERhdGFUeXBlLnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTnVsbCBleHRlbmRzIERhdGFUeXBlPFR5cGUuTnVsbD4geyBUQXJyYXk6IHZvaWQ7IFRWYWx1ZTogbnVsbDsgfVxuZXhwb3J0IGNsYXNzIE51bGwgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLk51bGw+IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoVHlwZS5OdWxsKTtcbiAgICB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYE51bGxgOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IE51bGwpID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnTnVsbCc7XG4gICAgfSkoTnVsbC5wcm90b3R5cGUpO1xufVxuXG50eXBlIEludHMgPSBUeXBlLkludCB8IFR5cGUuSW50OCB8IFR5cGUuSW50MTYgfCBUeXBlLkludDMyIHwgVHlwZS5JbnQ2NCB8IFR5cGUuVWludDggfCBUeXBlLlVpbnQxNiB8IFR5cGUuVWludDMyIHwgVHlwZS5VaW50NjQ7XG50eXBlIElUeXBlID0ge1xuICAgIFtUeXBlLkludCAgIF06IHsgYml0V2lkdGg6IEludEJpdFdpZHRoOyBpc1NpZ25lZDogdHJ1ZSB8IGZhbHNlOyBUQXJyYXk6IEludEFycmF5OyAgICBUVmFsdWU6IG51bWJlciB8IEludDMyQXJyYXkgfCBVaW50MzJBcnJheTsgfTtcbiAgICBbVHlwZS5JbnQ4ICBdOiB7IGJpdFdpZHRoOiAgICAgICAgICAgODsgaXNTaWduZWQ6IHRydWU7ICAgICAgICAgVEFycmF5OiBJbnQ4QXJyYXk7ICAgVFZhbHVlOiBudW1iZXI7ICAgICAgICAgICAgfTtcbiAgICBbVHlwZS5JbnQxNiBdOiB7IGJpdFdpZHRoOiAgICAgICAgICAxNjsgaXNTaWduZWQ6IHRydWU7ICAgICAgICAgVEFycmF5OiBJbnQxNkFycmF5OyAgVFZhbHVlOiBudW1iZXI7ICAgICAgICAgICAgfTtcbiAgICBbVHlwZS5JbnQzMiBdOiB7IGJpdFdpZHRoOiAgICAgICAgICAzMjsgaXNTaWduZWQ6IHRydWU7ICAgICAgICAgVEFycmF5OiBJbnQzMkFycmF5OyAgVFZhbHVlOiBudW1iZXI7ICAgICAgICAgICAgfTtcbiAgICBbVHlwZS5JbnQ2NCBdOiB7IGJpdFdpZHRoOiAgICAgICAgICA2NDsgaXNTaWduZWQ6IHRydWU7ICAgICAgICAgVEFycmF5OiBJbnQzMkFycmF5OyAgVFZhbHVlOiBJbnQzMkFycmF5OyAgICAgICAgfTtcbiAgICBbVHlwZS5VaW50OCBdOiB7IGJpdFdpZHRoOiAgICAgICAgICAgODsgaXNTaWduZWQ6IGZhbHNlOyAgICAgICAgVEFycmF5OiBVaW50OEFycmF5OyAgVFZhbHVlOiBudW1iZXI7ICAgICAgICAgICAgfTtcbiAgICBbVHlwZS5VaW50MTZdOiB7IGJpdFdpZHRoOiAgICAgICAgICAxNjsgaXNTaWduZWQ6IGZhbHNlOyAgICAgICAgVEFycmF5OiBVaW50MTZBcnJheTsgVFZhbHVlOiBudW1iZXI7ICAgICAgICAgICAgfTtcbiAgICBbVHlwZS5VaW50MzJdOiB7IGJpdFdpZHRoOiAgICAgICAgICAzMjsgaXNTaWduZWQ6IGZhbHNlOyAgICAgICAgVEFycmF5OiBVaW50MzJBcnJheTsgVFZhbHVlOiBudW1iZXI7ICAgICAgICAgICAgfTtcbiAgICBbVHlwZS5VaW50NjRdOiB7IGJpdFdpZHRoOiAgICAgICAgICA2NDsgaXNTaWduZWQ6IGZhbHNlOyAgICAgICAgVEFycmF5OiBVaW50MzJBcnJheTsgVFZhbHVlOiBVaW50MzJBcnJheTsgICAgICAgfTtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW50PFQgZXh0ZW5kcyBJbnRzID0gSW50cz4gZXh0ZW5kcyBEYXRhVHlwZTxUPiB7IFRBcnJheTogSVR5cGVbVF1bJ1RBcnJheSddOyBUVmFsdWU6IElUeXBlW1RdWydUVmFsdWUnXTsgfVxuZXhwb3J0IGNsYXNzIEludDxUIGV4dGVuZHMgSW50cyA9IEludHM+IGV4dGVuZHMgRGF0YVR5cGU8VD4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfaXNTaWduZWQ6IElUeXBlW1RdWydpc1NpZ25lZCddLFxuICAgICAgICAgICAgICAgIHByb3RlY3RlZCBfYml0V2lkdGg6IElUeXBlW1RdWydiaXRXaWR0aCddKSB7XG4gICAgICAgIHN1cGVyKFR5cGUuSW50IGFzIFQpO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IGlzU2lnbmVkKCkgeyByZXR1cm4gdGhpcy5faXNTaWduZWQ7IH1cbiAgICBwdWJsaWMgZ2V0IGJpdFdpZHRoKCkgeyByZXR1cm4gdGhpcy5fYml0V2lkdGg7IH1cbiAgICBwdWJsaWMgZ2V0IEFycmF5VHlwZSgpOiBBcnJheUJ1ZmZlclZpZXdDb25zdHJ1Y3RvcjxJVHlwZVtUXVsnVEFycmF5J10+IHtcbiAgICAgICAgc3dpdGNoICh0aGlzLl9iaXRXaWR0aCkge1xuICAgICAgICAgICAgY2FzZSAgODogcmV0dXJuICh0aGlzLl9pc1NpZ25lZCA/ICBJbnQ4QXJyYXkgOiAgVWludDhBcnJheSkgYXMgYW55O1xuICAgICAgICAgICAgY2FzZSAxNjogcmV0dXJuICh0aGlzLl9pc1NpZ25lZCA/IEludDE2QXJyYXkgOiBVaW50MTZBcnJheSkgYXMgYW55O1xuICAgICAgICAgICAgY2FzZSAzMjogcmV0dXJuICh0aGlzLl9pc1NpZ25lZCA/IEludDMyQXJyYXkgOiBVaW50MzJBcnJheSkgYXMgYW55O1xuICAgICAgICAgICAgY2FzZSA2NDogcmV0dXJuICh0aGlzLl9pc1NpZ25lZCA/IEludDMyQXJyYXkgOiBVaW50MzJBcnJheSkgYXMgYW55O1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5yZWNvZ25pemVkICR7dGhpc1tTeW1ib2wudG9TdHJpbmdUYWddfSB0eXBlYCk7XG4gICAgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGAke3RoaXMuX2lzU2lnbmVkID8gYElgIDogYFVpYH1udCR7dGhpcy5fYml0V2lkdGh9YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBJbnQpID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnSW50JztcbiAgICB9KShJbnQucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGNsYXNzIEludDggZXh0ZW5kcyBJbnQ8VHlwZS5JbnQ4PiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcih0cnVlLCA4KTsgfSB9XG5leHBvcnQgY2xhc3MgSW50MTYgZXh0ZW5kcyBJbnQ8VHlwZS5JbnQxNj4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIodHJ1ZSwgMTYpOyB9IH1cbmV4cG9ydCBjbGFzcyBJbnQzMiBleHRlbmRzIEludDxUeXBlLkludDMyPiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcih0cnVlLCAzMik7IH0gfVxuZXhwb3J0IGNsYXNzIEludDY0IGV4dGVuZHMgSW50PFR5cGUuSW50NjQ+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKHRydWUsIDY0KTsgfSB9XG5leHBvcnQgY2xhc3MgVWludDggZXh0ZW5kcyBJbnQ8VHlwZS5VaW50OD4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoZmFsc2UsIDgpOyB9IH1cbmV4cG9ydCBjbGFzcyBVaW50MTYgZXh0ZW5kcyBJbnQ8VHlwZS5VaW50MTY+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKGZhbHNlLCAxNik7IH0gfVxuZXhwb3J0IGNsYXNzIFVpbnQzMiBleHRlbmRzIEludDxUeXBlLlVpbnQzMj4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoZmFsc2UsIDMyKTsgfSB9XG5leHBvcnQgY2xhc3MgVWludDY0IGV4dGVuZHMgSW50PFR5cGUuVWludDY0PiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihmYWxzZSwgNjQpOyB9IH1cblxudHlwZSBGbG9hdHMgPSBUeXBlLkZsb2F0IHwgVHlwZS5GbG9hdDE2IHwgVHlwZS5GbG9hdDMyIHwgVHlwZS5GbG9hdDY0O1xudHlwZSBGVHlwZSA9IHtcbiAgICBbVHlwZS5GbG9hdCAgXTogeyBwcmVjaXNpb246IFByZWNpc2lvbjsgICAgICAgIFRBcnJheTogRmxvYXRBcnJheTsgICAgVFZhbHVlOiBudW1iZXI7IH07XG4gICAgW1R5cGUuRmxvYXQxNl06IHsgcHJlY2lzaW9uOiBQcmVjaXNpb24uSEFMRjsgICBUQXJyYXk6IFVpbnQxNkFycmF5OyAgIFRWYWx1ZTogbnVtYmVyOyB9O1xuICAgIFtUeXBlLkZsb2F0MzJdOiB7IHByZWNpc2lvbjogUHJlY2lzaW9uLlNJTkdMRTsgVEFycmF5OiBGbG9hdDMyQXJyYXk7ICBUVmFsdWU6IG51bWJlcjsgfTtcbiAgICBbVHlwZS5GbG9hdDY0XTogeyBwcmVjaXNpb246IFByZWNpc2lvbi5ET1VCTEU7IFRBcnJheTogRmxvYXQzMkFycmF5OyAgVFZhbHVlOiBudW1iZXI7IH07XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIEZsb2F0PFQgZXh0ZW5kcyBGbG9hdHMgPSBGbG9hdHM+IGV4dGVuZHMgRGF0YVR5cGU8VD4geyBUQXJyYXk6IEZUeXBlW1RdWydUQXJyYXknXTsgVFZhbHVlOiBudW1iZXI7IH1cbmV4cG9ydCBjbGFzcyBGbG9hdDxUIGV4dGVuZHMgRmxvYXRzID0gRmxvYXRzPiBleHRlbmRzIERhdGFUeXBlPFQ+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX3ByZWNpc2lvbjogUHJlY2lzaW9uKSB7XG4gICAgICAgIHN1cGVyKFR5cGUuRmxvYXQgYXMgVCk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgcHJlY2lzaW9uKCkgeyByZXR1cm4gdGhpcy5fcHJlY2lzaW9uOyB9XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHB1YmxpYyBnZXQgQXJyYXlUeXBlKCk6IEFycmF5QnVmZmVyVmlld0NvbnN0cnVjdG9yPEZUeXBlW1RdWydUQXJyYXknXT4ge1xuICAgICAgICBzd2l0Y2ggKHRoaXMucHJlY2lzaW9uKSB7XG4gICAgICAgICAgICBjYXNlIFByZWNpc2lvbi5IQUxGOiByZXR1cm4gVWludDE2QXJyYXkgYXMgYW55O1xuICAgICAgICAgICAgY2FzZSBQcmVjaXNpb24uU0lOR0xFOiByZXR1cm4gRmxvYXQzMkFycmF5IGFzIGFueTtcbiAgICAgICAgICAgIGNhc2UgUHJlY2lzaW9uLkRPVUJMRTogcmV0dXJuIEZsb2F0NjRBcnJheSBhcyBhbnk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnJlY29nbml6ZWQgJHt0aGlzW1N5bWJvbC50b1N0cmluZ1RhZ119IHR5cGVgKTtcbiAgICB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYEZsb2F0JHsodGhpcy5wcmVjaXNpb24gPDwgNSkgfHwgMTZ9YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBGbG9hdCkgPT4ge1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdGbG9hdCc7XG4gICAgfSkoRmxvYXQucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGNsYXNzIEZsb2F0MTYgZXh0ZW5kcyBGbG9hdDxUeXBlLkZsb2F0MTY+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKFByZWNpc2lvbi5IQUxGKTsgfSB9XG5leHBvcnQgY2xhc3MgRmxvYXQzMiBleHRlbmRzIEZsb2F0PFR5cGUuRmxvYXQzMj4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoUHJlY2lzaW9uLlNJTkdMRSk7IH0gfVxuZXhwb3J0IGNsYXNzIEZsb2F0NjQgZXh0ZW5kcyBGbG9hdDxUeXBlLkZsb2F0NjQ+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKFByZWNpc2lvbi5ET1VCTEUpOyB9IH1cblxuZXhwb3J0IGludGVyZmFjZSBCaW5hcnkgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkJpbmFyeT4geyBUQXJyYXk6IFVpbnQ4QXJyYXk7IFRWYWx1ZTogVWludDhBcnJheTsgfVxuZXhwb3J0IGNsYXNzIEJpbmFyeSBleHRlbmRzIERhdGFUeXBlPFR5cGUuQmluYXJ5PiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKFR5cGUuQmluYXJ5KTtcbiAgICB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYEJpbmFyeWA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogQmluYXJ5KSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gVWludDhBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnQmluYXJ5JztcbiAgICB9KShCaW5hcnkucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVdGY4IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5VdGY4PiB7IFRBcnJheTogVWludDhBcnJheTsgVFZhbHVlOiBzdHJpbmc7IEFycmF5VHlwZTogdHlwZW9mIFVpbnQ4QXJyYXk7IH1cbmV4cG9ydCBjbGFzcyBVdGY4IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5VdGY4PiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKFR5cGUuVXRmOCk7XG4gICAgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBVdGY4YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBVdGY4KSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gVWludDhBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnVXRmOCc7XG4gICAgfSkoVXRmOC5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJvb2wgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkJvb2w+IHsgVEFycmF5OiBVaW50OEFycmF5OyBUVmFsdWU6IGJvb2xlYW47IEFycmF5VHlwZTogdHlwZW9mIFVpbnQ4QXJyYXk7IH1cbmV4cG9ydCBjbGFzcyBCb29sIGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5Cb29sPiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKFR5cGUuQm9vbCk7XG4gICAgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBCb29sYDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBCb29sKSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gVWludDhBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnQm9vbCc7XG4gICAgfSkoQm9vbC5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERlY2ltYWwgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkRlY2ltYWw+IHsgVEFycmF5OiBVaW50MzJBcnJheTsgVFZhbHVlOiBVaW50MzJBcnJheTsgQXJyYXlUeXBlOiB0eXBlb2YgVWludDMyQXJyYXk7IH1cbmV4cG9ydCBjbGFzcyBEZWNpbWFsIGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5EZWNpbWFsPiB7XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIF9zY2FsZTogbnVtYmVyLFxuICAgICAgICAgICAgICAgIHByb3RlY3RlZCBfcHJlY2lzaW9uOiBudW1iZXIpIHtcbiAgICAgICAgc3VwZXIoVHlwZS5EZWNpbWFsKTtcbiAgICB9XG4gICAgcHVibGljIGdldCBzY2FsZSgpIHsgcmV0dXJuIHRoaXMuX3NjYWxlOyB9XG4gICAgcHVibGljIGdldCBwcmVjaXNpb24oKSB7IHJldHVybiB0aGlzLl9wcmVjaXNpb247IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgRGVjaW1hbFske3RoaXMuX3ByZWNpc2lvbn1lJHt0aGlzLl9zY2FsZSA+IDAgPyBgK2AgOiBgYH0ke3RoaXMuX3NjYWxlfV1gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IERlY2ltYWwpID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBVaW50MzJBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnRGVjaW1hbCc7XG4gICAgfSkoRGVjaW1hbC5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgdHlwZSBEYXRlcyA9IFR5cGUuRGF0ZSB8IFR5cGUuRGF0ZURheSB8IFR5cGUuRGF0ZU1pbGxpc2Vjb25kO1xuLyogdHNsaW50OmRpc2FibGU6Y2xhc3MtbmFtZSAqL1xuZXhwb3J0IGludGVyZmFjZSBEYXRlXzxUIGV4dGVuZHMgRGF0ZXMgPSBEYXRlcz4gZXh0ZW5kcyBEYXRhVHlwZTxUPiB7IFRBcnJheTogSW50MzJBcnJheTsgVFZhbHVlOiBEYXRlOyBBcnJheVR5cGU6IHR5cGVvZiBJbnQzMkFycmF5OyB9XG5leHBvcnQgY2xhc3MgRGF0ZV88VCBleHRlbmRzIERhdGVzID0gRGF0ZXM+IGV4dGVuZHMgRGF0YVR5cGU8VD4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfdW5pdDogRGF0ZVVuaXQpIHtcbiAgICAgICAgc3VwZXIoVHlwZS5EYXRlIGFzIFQpO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHVuaXQoKSB7IHJldHVybiB0aGlzLl91bml0OyB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYERhdGUkeyh0aGlzLl91bml0ICsgMSkgKiAzMn08JHtEYXRlVW5pdFt0aGlzLl91bml0XX0+YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBEYXRlXykgPT4ge1xuICAgICAgICAoPGFueT4gcHJvdG8pLkFycmF5VHlwZSA9IEludDMyQXJyYXk7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ0RhdGUnO1xuICAgIH0pKERhdGVfLnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCBjbGFzcyBEYXRlRGF5IGV4dGVuZHMgRGF0ZV88VHlwZS5EYXRlRGF5PiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihEYXRlVW5pdC5EQVkpOyB9IH1cbmV4cG9ydCBjbGFzcyBEYXRlTWlsbGlzZWNvbmQgZXh0ZW5kcyBEYXRlXzxUeXBlLkRhdGVNaWxsaXNlY29uZD4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoRGF0ZVVuaXQuTUlMTElTRUNPTkQpOyB9IH1cblxudHlwZSBUaW1lcyA9IFR5cGUuVGltZSB8IFR5cGUuVGltZVNlY29uZCB8IFR5cGUuVGltZU1pbGxpc2Vjb25kIHwgVHlwZS5UaW1lTWljcm9zZWNvbmQgfCBUeXBlLlRpbWVOYW5vc2Vjb25kO1xudHlwZSBUaW1lc1R5cGUgPSB7XG4gICAgW1R5cGUuVGltZSAgICAgICAgICAgXTogeyB1bml0OiBUaW1lVW5pdDsgICAgICAgICAgICAgVFZhbHVlOiBudW1iZXIgfCBVaW50MzJBcnJheSB9O1xuICAgIFtUeXBlLlRpbWVTZWNvbmQgICAgIF06IHsgdW5pdDogVGltZVVuaXQuU0VDT05EOyAgICAgIFRWYWx1ZTogbnVtYmVyOyAgICAgICAgICAgICAgfTtcbiAgICBbVHlwZS5UaW1lTWlsbGlzZWNvbmRdOiB7IHVuaXQ6IFRpbWVVbml0Lk1JTExJU0VDT05EOyBUVmFsdWU6IG51bWJlcjsgICAgICAgICAgICAgIH07XG4gICAgW1R5cGUuVGltZU1pY3Jvc2Vjb25kXTogeyB1bml0OiBUaW1lVW5pdC5NSUNST1NFQ09ORDsgVFZhbHVlOiBVaW50MzJBcnJheTsgICAgICAgICB9O1xuICAgIFtUeXBlLlRpbWVOYW5vc2Vjb25kIF06IHsgdW5pdDogVGltZVVuaXQuTkFOT1NFQ09ORDsgIFRWYWx1ZTogVWludDMyQXJyYXk7ICAgICAgICAgfTtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGltZTxUIGV4dGVuZHMgVGltZXMgPSBUaW1lcz4gZXh0ZW5kcyBEYXRhVHlwZTxUPiB7IFRBcnJheTogVWludDMyQXJyYXk7IFRWYWx1ZTogVGltZXNUeXBlW1RdWydUVmFsdWUnXTsgQXJyYXlUeXBlOiB0eXBlb2YgVWludDMyQXJyYXk7IH1cbmV4cG9ydCBjbGFzcyBUaW1lPFQgZXh0ZW5kcyBUaW1lcyA9IFRpbWVzPiBleHRlbmRzIERhdGFUeXBlPFQ+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX3VuaXQ6IFRpbWVzVHlwZVtUXVsndW5pdCddLFxuICAgICAgICAgICAgICAgIHByb3RlY3RlZCBfYml0V2lkdGg6IFRpbWVCaXRXaWR0aCkge1xuICAgICAgICBzdXBlcihUeXBlLlRpbWUgYXMgVCk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgdW5pdCgpIHsgcmV0dXJuIHRoaXMuX3VuaXQ7IH1cbiAgICBwdWJsaWMgZ2V0IGJpdFdpZHRoKCkgeyByZXR1cm4gdGhpcy5fYml0V2lkdGg7IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgVGltZSR7dGhpcy5fYml0V2lkdGh9PCR7VGltZVVuaXRbdGhpcy5fdW5pdF19PmA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogVGltZSkgPT4ge1xuICAgICAgICAoPGFueT4gcHJvdG8pLkFycmF5VHlwZSA9IFVpbnQzMkFycmF5O1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdUaW1lJztcbiAgICB9KShUaW1lLnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCBjbGFzcyBUaW1lU2Vjb25kIGV4dGVuZHMgVGltZTxUeXBlLlRpbWVTZWNvbmQ+IHsgY29uc3RydWN0b3IoYml0V2lkdGg6IFRpbWVCaXRXaWR0aCkgeyBzdXBlcihUaW1lVW5pdC5TRUNPTkQsIGJpdFdpZHRoKTsgfSB9XG5leHBvcnQgY2xhc3MgVGltZU1pbGxpc2Vjb25kIGV4dGVuZHMgVGltZTxUeXBlLlRpbWVNaWxsaXNlY29uZD4geyBjb25zdHJ1Y3RvcihiaXRXaWR0aDogVGltZUJpdFdpZHRoKSB7IHN1cGVyKFRpbWVVbml0Lk1JTExJU0VDT05ELCBiaXRXaWR0aCk7IH0gfVxuZXhwb3J0IGNsYXNzIFRpbWVNaWNyb3NlY29uZCBleHRlbmRzIFRpbWU8VHlwZS5UaW1lTWljcm9zZWNvbmQ+IHsgY29uc3RydWN0b3IoYml0V2lkdGg6IFRpbWVCaXRXaWR0aCkgeyBzdXBlcihUaW1lVW5pdC5NSUNST1NFQ09ORCwgYml0V2lkdGgpOyB9IH1cbmV4cG9ydCBjbGFzcyBUaW1lTmFub3NlY29uZCBleHRlbmRzIFRpbWU8VHlwZS5UaW1lTmFub3NlY29uZD4geyBjb25zdHJ1Y3RvcihiaXRXaWR0aDogVGltZUJpdFdpZHRoKSB7IHN1cGVyKFRpbWVVbml0Lk5BTk9TRUNPTkQsIGJpdFdpZHRoKTsgfSB9XG5cbnR5cGUgVGltZXN0YW1wcyA9IFR5cGUuVGltZXN0YW1wIHwgVHlwZS5UaW1lc3RhbXBTZWNvbmQgfCBUeXBlLlRpbWVzdGFtcE1pbGxpc2Vjb25kIHwgVHlwZS5UaW1lc3RhbXBNaWNyb3NlY29uZCB8IFR5cGUuVGltZXN0YW1wTmFub3NlY29uZDtcbmV4cG9ydCBpbnRlcmZhY2UgVGltZXN0YW1wPFQgZXh0ZW5kcyBUaW1lc3RhbXBzID0gVGltZXN0YW1wcz4gZXh0ZW5kcyBEYXRhVHlwZTxUPiB7IFRBcnJheTogSW50MzJBcnJheTsgVFZhbHVlOiBudW1iZXI7IEFycmF5VHlwZTogdHlwZW9mIEludDMyQXJyYXk7IH1cbmV4cG9ydCBjbGFzcyBUaW1lc3RhbXA8VCBleHRlbmRzIFRpbWVzdGFtcHMgPSBUaW1lc3RhbXBzPiBleHRlbmRzIERhdGFUeXBlPFQ+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX3VuaXQ6IFRpbWVVbml0LCBwcm90ZWN0ZWQgX3RpbWV6b25lPzogc3RyaW5nIHwgbnVsbCkge1xuICAgICAgICBzdXBlcihUeXBlLlRpbWVzdGFtcCBhcyBUKTtcbiAgICB9XG4gICAgcHVibGljIGdldCB1bml0KCkgeyByZXR1cm4gdGhpcy5fdW5pdDsgfVxuICAgIHB1YmxpYyBnZXQgdGltZXpvbmUoKSB7IHJldHVybiB0aGlzLl90aW1lem9uZTsgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBUaW1lc3RhbXA8JHtUaW1lVW5pdFt0aGlzLl91bml0XX0ke3RoaXMuX3RpbWV6b25lID8gYCwgJHt0aGlzLl90aW1lem9uZX1gIDogYGB9PmA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogVGltZXN0YW1wKSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gSW50MzJBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnVGltZXN0YW1wJztcbiAgICB9KShUaW1lc3RhbXAucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGNsYXNzIFRpbWVzdGFtcFNlY29uZCBleHRlbmRzIFRpbWVzdGFtcDxUeXBlLlRpbWVzdGFtcFNlY29uZD4geyBjb25zdHJ1Y3Rvcih0aW1lem9uZT86IHN0cmluZyB8IG51bGwpIHsgc3VwZXIoVGltZVVuaXQuU0VDT05ELCB0aW1lem9uZSk7IH0gfVxuZXhwb3J0IGNsYXNzIFRpbWVzdGFtcE1pbGxpc2Vjb25kIGV4dGVuZHMgVGltZXN0YW1wPFR5cGUuVGltZXN0YW1wTWlsbGlzZWNvbmQ+IHsgY29uc3RydWN0b3IodGltZXpvbmU/OiBzdHJpbmcgfCBudWxsKSB7IHN1cGVyKFRpbWVVbml0Lk1JTExJU0VDT05ELCB0aW1lem9uZSk7IH0gfVxuZXhwb3J0IGNsYXNzIFRpbWVzdGFtcE1pY3Jvc2Vjb25kIGV4dGVuZHMgVGltZXN0YW1wPFR5cGUuVGltZXN0YW1wTWljcm9zZWNvbmQ+IHsgY29uc3RydWN0b3IodGltZXpvbmU/OiBzdHJpbmcgfCBudWxsKSB7IHN1cGVyKFRpbWVVbml0Lk1JQ1JPU0VDT05ELCB0aW1lem9uZSk7IH0gfVxuZXhwb3J0IGNsYXNzIFRpbWVzdGFtcE5hbm9zZWNvbmQgZXh0ZW5kcyBUaW1lc3RhbXA8VHlwZS5UaW1lc3RhbXBOYW5vc2Vjb25kPiB7IGNvbnN0cnVjdG9yKHRpbWV6b25lPzogc3RyaW5nIHwgbnVsbCkgeyBzdXBlcihUaW1lVW5pdC5OQU5PU0VDT05ELCB0aW1lem9uZSk7IH0gfVxuXG50eXBlIEludGVydmFscyA9IFR5cGUuSW50ZXJ2YWwgfCBUeXBlLkludGVydmFsRGF5VGltZSB8IFR5cGUuSW50ZXJ2YWxZZWFyTW9udGg7XG5leHBvcnQgaW50ZXJmYWNlIEludGVydmFsPFQgZXh0ZW5kcyBJbnRlcnZhbHMgPSBJbnRlcnZhbHM+IGV4dGVuZHMgRGF0YVR5cGU8VD4geyBUQXJyYXk6IEludDMyQXJyYXk7IFRWYWx1ZTogSW50MzJBcnJheTsgQXJyYXlUeXBlOiB0eXBlb2YgSW50MzJBcnJheTsgfVxuZXhwb3J0IGNsYXNzIEludGVydmFsPFQgZXh0ZW5kcyBJbnRlcnZhbHMgPSBJbnRlcnZhbHM+IGV4dGVuZHMgRGF0YVR5cGU8VD4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfdW5pdDogSW50ZXJ2YWxVbml0KSB7XG4gICAgICAgIHN1cGVyKFR5cGUuSW50ZXJ2YWwgYXMgVCk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgdW5pdCgpIHsgcmV0dXJuIHRoaXMuX3VuaXQ7IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgSW50ZXJ2YWw8JHtJbnRlcnZhbFVuaXRbdGhpcy5fdW5pdF19PmA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogSW50ZXJ2YWwpID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBJbnQzMkFycmF5O1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdJbnRlcnZhbCc7XG4gICAgfSkoSW50ZXJ2YWwucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGNsYXNzIEludGVydmFsRGF5VGltZSBleHRlbmRzIEludGVydmFsPFR5cGUuSW50ZXJ2YWxEYXlUaW1lPiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihJbnRlcnZhbFVuaXQuREFZX1RJTUUpOyB9IH1cbmV4cG9ydCBjbGFzcyBJbnRlcnZhbFllYXJNb250aCBleHRlbmRzIEludGVydmFsPFR5cGUuSW50ZXJ2YWxZZWFyTW9udGg+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKEludGVydmFsVW5pdC5ZRUFSX01PTlRIKTsgfSB9XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGlzdDxUIGV4dGVuZHMgRGF0YVR5cGUgPSBhbnk+IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5MaXN0PiAgeyBUQXJyYXk6IEl0ZXJhYmxlQXJyYXlMaWtlPFQ+OyBUVmFsdWU6IFZUeXBlPFQ+OyB9XG5leHBvcnQgY2xhc3MgTGlzdDxUIGV4dGVuZHMgRGF0YVR5cGUgPSBhbnk+IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5MaXN0LCB7IFswXTogVCB9PiB7XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIF9jaGlsZHJlbjogRmllbGQ8VD5bXSkge1xuICAgICAgICBzdXBlcihUeXBlLkxpc3QsIF9jaGlsZHJlbik7XG4gICAgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBMaXN0PCR7dGhpcy52YWx1ZVR5cGV9PmA7IH1cbiAgICBwdWJsaWMgZ2V0IGNoaWxkcmVuKCkgeyByZXR1cm4gdGhpcy5fY2hpbGRyZW47IH1cbiAgICBwdWJsaWMgZ2V0IHZhbHVlVHlwZSgpOiBUIHsgcmV0dXJuIHRoaXMuX2NoaWxkcmVuWzBdLnR5cGUgYXMgVDsgfVxuICAgIHB1YmxpYyBnZXQgdmFsdWVGaWVsZCgpOiBGaWVsZDxUPiB7IHJldHVybiB0aGlzLl9jaGlsZHJlblswXSBhcyBGaWVsZDxUPjsgfVxuICAgIHB1YmxpYyBnZXQgQXJyYXlUeXBlKCk6IFRbJ0FycmF5VHlwZSddIHsgcmV0dXJuIHRoaXMudmFsdWVUeXBlLkFycmF5VHlwZTsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBMaXN0KSA9PiB7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ0xpc3QnO1xuICAgIH0pKExpc3QucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJ1Y3Q8VCBleHRlbmRzIHsgW2tleTogc3RyaW5nXTogRGF0YVR5cGU7IH0gPSBhbnk+IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5TdHJ1Y3Q+IHsgVEFycmF5OiBJdGVyYWJsZUFycmF5TGlrZTxSb3dMaWtlPFQ+PjsgVFZhbHVlOiBSb3dMaWtlPFQ+OyBkYXRhVHlwZXM6IFQ7IH1cbmV4cG9ydCBjbGFzcyBTdHJ1Y3Q8VCBleHRlbmRzIHsgW2tleTogc3RyaW5nXTogRGF0YVR5cGU7IH0gPSBhbnk+IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5TdHJ1Y3QsIFQ+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX2NoaWxkcmVuOiBGaWVsZDxUW2tleW9mIFRdPltdKSB7XG4gICAgICAgIHN1cGVyKFR5cGUuU3RydWN0LCBfY2hpbGRyZW4pO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IGNoaWxkcmVuKCkgeyByZXR1cm4gdGhpcy5fY2hpbGRyZW47IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgU3RydWN0PCR7dGhpcy5fY2hpbGRyZW4ubWFwKChmKSA9PiBmLnR5cGUpLmpvaW4oYCwgYCl9PmA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogU3RydWN0KSA9PiB7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ1N0cnVjdCc7XG4gICAgfSkoU3RydWN0LnByb3RvdHlwZSk7XG59XG5cbnR5cGUgVW5pb25zID0gVHlwZS5VbmlvbiB8IFR5cGUuRGVuc2VVbmlvbiB8IFR5cGUuU3BhcnNlVW5pb247XG5leHBvcnQgaW50ZXJmYWNlIFVuaW9uPFQgZXh0ZW5kcyBVbmlvbnMgPSBVbmlvbnM+IGV4dGVuZHMgRGF0YVR5cGU8VD4geyBUQXJyYXk6IEludDhBcnJheTsgVFZhbHVlOiBhbnlbXTsgfVxuZXhwb3J0IGNsYXNzIFVuaW9uPFQgZXh0ZW5kcyBVbmlvbnMgPSBVbmlvbnM+IGV4dGVuZHMgRGF0YVR5cGU8VD4ge1xuICAgIHByb3RlY3RlZCBfdHlwZUlkVG9DaGlsZEluZGV4OiBSZWNvcmQ8VHlwZSwgbnVtYmVyPjtcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX21vZGU6IFVuaW9uTW9kZSxcbiAgICAgICAgICAgICAgICBwcm90ZWN0ZWQgX3R5cGVJZHM6IEFycm93VHlwZVtdLFxuICAgICAgICAgICAgICAgIHByb3RlY3RlZCBfY2hpbGRyZW46IEZpZWxkPGFueT5bXSkge1xuICAgICAgICBzdXBlcihUeXBlLlVuaW9uIGFzIFQsIF9jaGlsZHJlbik7XG4gICAgICAgIHRoaXMuX3R5cGVJZFRvQ2hpbGRJbmRleCA9IChfdHlwZUlkcyB8fCBbXSkucmVkdWNlKCh0eXBlSWRUb0NoaWxkSW5kZXgsIHR5cGVJZCwgaWR4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKHR5cGVJZFRvQ2hpbGRJbmRleFt0eXBlSWRdID0gaWR4KSAmJiB0eXBlSWRUb0NoaWxkSW5kZXggfHwgdHlwZUlkVG9DaGlsZEluZGV4O1xuICAgICAgICB9LCBPYmplY3QuY3JlYXRlKG51bGwpIGFzIFJlY29yZDxUeXBlLCBudW1iZXI+KTtcbiAgICB9XG4gICAgcHVibGljIGdldCBtb2RlKCkgeyByZXR1cm4gdGhpcy5fbW9kZTsgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkcygpIHsgcmV0dXJuIHRoaXMuX3R5cGVJZHM7IH1cbiAgICBwdWJsaWMgZ2V0IGNoaWxkcmVuKCkgeyByZXR1cm4gdGhpcy5fY2hpbGRyZW47IH1cbiAgICBwdWJsaWMgZ2V0IHR5cGVJZFRvQ2hpbGRJbmRleCgpIHsgcmV0dXJuIHRoaXMuX3R5cGVJZFRvQ2hpbGRJbmRleDsgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGAke3RoaXNbU3ltYm9sLnRvU3RyaW5nVGFnXX08JHtcbiAgICAgICAgdGhpcy5fY2hpbGRyZW4ubWFwKCh4KSA9PiBgJHt4LnR5cGV9YCkuam9pbihgIHwgYClcbiAgICB9PmA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogVW5pb24pID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBJbnQ4QXJyYXk7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ1VuaW9uJztcbiAgICB9KShVbmlvbi5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgY2xhc3MgRGVuc2VVbmlvbiBleHRlbmRzIFVuaW9uPFR5cGUuRGVuc2VVbmlvbj4ge1xuICAgIGNvbnN0cnVjdG9yKHR5cGVJZHM6IEFycm93VHlwZVtdLCBjaGlsZHJlbjogRmllbGRbXSkge1xuICAgICAgICBzdXBlcihVbmlvbk1vZGUuRGVuc2UsIHR5cGVJZHMsIGNoaWxkcmVuKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTcGFyc2VVbmlvbiBleHRlbmRzIFVuaW9uPFR5cGUuU3BhcnNlVW5pb24+IHtcbiAgICBjb25zdHJ1Y3Rvcih0eXBlSWRzOiBBcnJvd1R5cGVbXSwgY2hpbGRyZW46IEZpZWxkW10pIHtcbiAgICAgICAgc3VwZXIoVW5pb25Nb2RlLlNwYXJzZSwgdHlwZUlkcywgY2hpbGRyZW4pO1xuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBGaXhlZFNpemVCaW5hcnkgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkZpeGVkU2l6ZUJpbmFyeT4geyBUQXJyYXk6IFVpbnQ4QXJyYXk7IFRWYWx1ZTogVWludDhBcnJheTsgQXJyYXlUeXBlOiB0eXBlb2YgVWludDhBcnJheTsgfVxuZXhwb3J0IGNsYXNzIEZpeGVkU2l6ZUJpbmFyeSBleHRlbmRzIERhdGFUeXBlPFR5cGUuRml4ZWRTaXplQmluYXJ5PiB7XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIF9ieXRlV2lkdGg6IG51bWJlcikge1xuICAgICAgICBzdXBlcihUeXBlLkZpeGVkU2l6ZUJpbmFyeSk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgYnl0ZVdpZHRoKCkgeyByZXR1cm4gdGhpcy5fYnl0ZVdpZHRoOyB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYEZpeGVkU2l6ZUJpbmFyeVske3RoaXMuYnl0ZVdpZHRofV1gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IEZpeGVkU2l6ZUJpbmFyeSkgPT4ge1xuICAgICAgICAoPGFueT4gcHJvdG8pLkFycmF5VHlwZSA9IFVpbnQ4QXJyYXk7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ0ZpeGVkU2l6ZUJpbmFyeSc7XG4gICAgfSkoRml4ZWRTaXplQmluYXJ5LnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRml4ZWRTaXplTGlzdDxUIGV4dGVuZHMgRGF0YVR5cGUgPSBhbnk+IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5GaXhlZFNpemVMaXN0PiB7IFRBcnJheTogSXRlcmFibGVBcnJheUxpa2U8VFsnVEFycmF5J10+OyBUVmFsdWU6IFZUeXBlPFQ+OyB9XG5leHBvcnQgY2xhc3MgRml4ZWRTaXplTGlzdDxUIGV4dGVuZHMgRGF0YVR5cGUgPSBhbnk+IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5GaXhlZFNpemVMaXN0LCB7IFswXTogVCB9PiB7XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIF9saXN0U2l6ZTogbnVtYmVyLFxuICAgICAgICAgICAgICAgIHByb3RlY3RlZCBfY2hpbGRyZW46IEZpZWxkPFQ+W10pIHtcbiAgICAgICAgc3VwZXIoVHlwZS5GaXhlZFNpemVMaXN0LCBfY2hpbGRyZW4pO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IGxpc3RTaXplKCkgeyByZXR1cm4gdGhpcy5fbGlzdFNpemU7IH1cbiAgICBwdWJsaWMgZ2V0IGNoaWxkcmVuKCkgeyByZXR1cm4gdGhpcy5fY2hpbGRyZW47IH1cbiAgICBwdWJsaWMgZ2V0IHZhbHVlVHlwZSgpOiBUIHsgcmV0dXJuIHRoaXMuY2hpbGRyZW5bMF0udHlwZSBhcyBUOyB9XG4gICAgcHVibGljIGdldCB2YWx1ZUZpZWxkKCk6IEZpZWxkPFQ+IHsgcmV0dXJuIHRoaXMuY2hpbGRyZW5bMF0gYXMgRmllbGQ8VD47IH1cbiAgICBwdWJsaWMgZ2V0IEFycmF5VHlwZSgpOiBUWydBcnJheVR5cGUnXSB7IHJldHVybiB0aGlzLnZhbHVlVHlwZS5BcnJheVR5cGU7IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgRml4ZWRTaXplTGlzdFske3RoaXMuX2xpc3RTaXplfV08JHt0aGlzLnZhbHVlVHlwZX0+YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBGaXhlZFNpemVMaXN0KSA9PiB7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ0ZpeGVkU2l6ZUxpc3QnO1xuICAgIH0pKEZpeGVkU2l6ZUxpc3QucHJvdG90eXBlKTtcbn1cblxuLyogdHNsaW50OmRpc2FibGU6Y2xhc3MtbmFtZSAqL1xuZXhwb3J0IGludGVyZmFjZSBNYXBfPFQgZXh0ZW5kcyB7IFtrZXk6IHN0cmluZ106IERhdGFUeXBlOyB9ID0gYW55PiBleHRlbmRzIERhdGFUeXBlPFR5cGUuTWFwPiB7IFRBcnJheTogVWludDhBcnJheTsgVFZhbHVlOiBSb3dMaWtlPFQ+OyBkYXRhVHlwZXM6IFQ7IH1cbmV4cG9ydCBjbGFzcyBNYXBfPFQgZXh0ZW5kcyB7IFtrZXk6IHN0cmluZ106IERhdGFUeXBlOyB9ID0gYW55PiBleHRlbmRzIERhdGFUeXBlPFR5cGUuTWFwLCBUPiB7XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIF9jaGlsZHJlbjogRmllbGQ8VFtrZXlvZiBUXT5bXSxcbiAgICAgICAgICAgICAgICBwcm90ZWN0ZWQgX2tleXNTb3J0ZWQ6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgICBzdXBlcihUeXBlLk1hcCwgX2NoaWxkcmVuKTtcbiAgICB9XG4gICAgcHVibGljIGdldCBjaGlsZHJlbigpIHsgcmV0dXJuIHRoaXMuX2NoaWxkcmVuOyB9XG4gICAgcHVibGljIGdldCBrZXlzU29ydGVkKCkgeyByZXR1cm4gdGhpcy5fa2V5c1NvcnRlZDsgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBNYXA8JHt0aGlzLmNoaWxkcmVuLmpvaW4oYCwgYCl9PmA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogTWFwXykgPT4ge1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdNYXBfJztcbiAgICB9KShNYXBfLnByb3RvdHlwZSk7XG59XG5cbmNvbnN0IGdldElkID0gKChhdG9taWNEaWN0aW9uYXJ5SWQpID0+ICgpID0+ICsrYXRvbWljRGljdGlvbmFyeUlkKSgtMSk7XG5cbmV4cG9ydCB0eXBlIFRLZXlzID0gSW50OCB8IEludDE2IHwgSW50MzIgfCBVaW50OCB8IFVpbnQxNiB8IFVpbnQzMjtcblxuZXhwb3J0IGludGVyZmFjZSBEaWN0aW9uYXJ5PFQgZXh0ZW5kcyBEYXRhVHlwZSA9IGFueSwgVEtleSBleHRlbmRzIFRLZXlzID0gVEtleXM+IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5EaWN0aW9uYXJ5PiB7IFRBcnJheTogVEtleVsnVEFycmF5J107IFRWYWx1ZTogVFsnVFZhbHVlJ107IH1cbmV4cG9ydCBjbGFzcyBEaWN0aW9uYXJ5PFQgZXh0ZW5kcyBEYXRhVHlwZSA9IGFueSwgVEtleSBleHRlbmRzIFRLZXlzID0gVEtleXM+IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5EaWN0aW9uYXJ5PiB7XG4gICAgcHJvdGVjdGVkIF9pZDogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfaW5kaWNlczogVEtleTtcbiAgICBwcm90ZWN0ZWQgX2RpY3Rpb25hcnk6IFQ7XG4gICAgcHJvdGVjdGVkIF9pc09yZGVyZWQ6IGJvb2xlYW47XG4gICAgLy8gQHRzLWlnbm9yZTtcbiAgICBwdWJsaWMgZGljdGlvbmFyeVZlY3RvcjogVmVjdG9yPFQ+O1xuICAgIGNvbnN0cnVjdG9yKGRpY3Rpb25hcnk6IFQsIGluZGljZXM6IFRLZXksIGlkPzogTG9uZyB8IG51bWJlciB8IG51bGwsIGlzT3JkZXJlZD86IGJvb2xlYW4gfCBudWxsLCBkaWN0aW9uYXJ5VmVjdG9yPzogVmVjdG9yPFQ+KSB7XG4gICAgICAgIHN1cGVyKFR5cGUuRGljdGlvbmFyeSk7XG4gICAgICAgIHRoaXMuX2luZGljZXMgPSBpbmRpY2VzO1xuICAgICAgICB0aGlzLl9kaWN0aW9uYXJ5ID0gZGljdGlvbmFyeTtcbiAgICAgICAgdGhpcy5faXNPcmRlcmVkID0gaXNPcmRlcmVkIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLmRpY3Rpb25hcnlWZWN0b3IgPSBkaWN0aW9uYXJ5VmVjdG9yITtcbiAgICAgICAgdGhpcy5faWQgPSBpZCA9PSBudWxsID8gZ2V0SWQoKSA6IHR5cGVvZiBpZCA9PT0gJ251bWJlcicgPyBpZCA6IGlkLmxvdztcbiAgICB9XG4gICAgcHVibGljIGdldCBpZCgpIHsgcmV0dXJuIHRoaXMuX2lkOyB9XG4gICAgcHVibGljIGdldCBpbmRpY2VzKCkgeyByZXR1cm4gdGhpcy5faW5kaWNlczsgfVxuICAgIHB1YmxpYyBnZXQgZGljdGlvbmFyeSgpIHsgcmV0dXJuIHRoaXMuX2RpY3Rpb25hcnk7IH1cbiAgICBwdWJsaWMgZ2V0IGlzT3JkZXJlZCgpIHsgcmV0dXJuIHRoaXMuX2lzT3JkZXJlZDsgfVxuICAgIHB1YmxpYyBzZXQgY2hpbGRyZW4oXzogVFsnY2hpbGRyZW4nXSkge31cbiAgICBwdWJsaWMgZ2V0IGNoaWxkcmVuKCkgeyByZXR1cm4gdGhpcy5kaWN0aW9uYXJ5LmNoaWxkcmVuOyB9XG4gICAgcHVibGljIGdldCB2YWx1ZVR5cGUoKTogVCB7IHJldHVybiB0aGlzLmRpY3Rpb25hcnkgYXMgVDsgfVxuICAgIHB1YmxpYyBnZXQgQXJyYXlUeXBlKCk6IFRbJ0FycmF5VHlwZSddIHsgcmV0dXJuIHRoaXMuZGljdGlvbmFyeS5BcnJheVR5cGU7IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgRGljdGlvbmFyeTwke3RoaXMuaW5kaWNlc30sICR7dGhpcy5kaWN0aW9uYXJ5fT5gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IERpY3Rpb25hcnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnRGljdGlvbmFyeSc7XG4gICAgfSkoRGljdGlvbmFyeS5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEl0ZXJhYmxlQXJyYXlMaWtlPFQgPSBhbnk+IGV4dGVuZHMgQXJyYXlMaWtlPFQ+LCBJdGVyYWJsZTxUPiB7fVxuZXhwb3J0IHR5cGUgRmxvYXRBcnJheSA9IFVpbnQxNkFycmF5IHwgRmxvYXQzMkFycmF5IHwgRmxvYXQ2NEFycmF5O1xuZXhwb3J0IHR5cGUgSW50QXJyYXkgPSBJbnQ4QXJyYXkgfCBJbnQxNkFycmF5IHwgSW50MzJBcnJheSB8IFVpbnQ4QXJyYXkgfCBVaW50MTZBcnJheSB8IFVpbnQzMkFycmF5O1xuIl19
