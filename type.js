"use strict";
// Licensed to the Apache Software Foundation (ASF) under one
// or more contributor license agreements.  See the NOTICE file
// distributed with this work for additional information
// regarding copyright ownership.  The ASF licenses this file
// to you under the Apache License, Version 2.0 (the
// "License"); you may not use this file except in compliance
// with the License.  You may obtain a copy of the License at
//
//   http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing,
// software distributed under the License is distributed on an
// "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
// KIND, either express or implied.  See the License for the
// specific language governing permissions and limitations
// under the License.
Object.defineProperty(exports, "__esModule", { value: true });
const Schema_ = require("./fb/Schema");
const Message_ = require("./fb/Message");
const flatbuffers_1 = require("flatbuffers");
const metadata_1 = require("./ipc/metadata");
const visitor_1 = require("./visitor");
exports.Long = flatbuffers_1.flatbuffers.Long;
exports.ArrowType = Schema_.org.apache.arrow.flatbuf.Type;
exports.DateUnit = Schema_.org.apache.arrow.flatbuf.DateUnit;
exports.TimeUnit = Schema_.org.apache.arrow.flatbuf.TimeUnit;
exports.Precision = Schema_.org.apache.arrow.flatbuf.Precision;
exports.UnionMode = Schema_.org.apache.arrow.flatbuf.UnionMode;
exports.VectorType = Schema_.org.apache.arrow.flatbuf.VectorType;
exports.IntervalUnit = Schema_.org.apache.arrow.flatbuf.IntervalUnit;
exports.MessageHeader = Message_.org.apache.arrow.flatbuf.MessageHeader;
exports.MetadataVersion = Schema_.org.apache.arrow.flatbuf.MetadataVersion;
class Schema {
    constructor(fields, metadata, version = exports.MetadataVersion.V4, dictionaries = new Map()) {
        this.fields = fields;
        this.version = version;
        this.metadata = metadata;
        this.dictionaries = dictionaries;
    }
    static from(vectors) {
        return new Schema(vectors.map((v, i) => new Field('' + i, v.type)));
    }
    get bodyLength() { return this._bodyLength; }
    get headerType() { return this._headerType; }
    select(...fieldNames) {
        const namesToKeep = fieldNames.reduce((xs, x) => (xs[x] = true) && xs, Object.create(null));
        const newDictFields = new Map(), newFields = this.fields.filter((f) => namesToKeep[f.name]);
        this.dictionaries.forEach((f, dictId) => (namesToKeep[f.name]) && newDictFields.set(dictId, f));
        return new Schema(newFields, this.metadata, this.version, newDictFields);
    }
}
Schema[Symbol.toStringTag] = ((prototype) => {
    prototype._bodyLength = 0;
    prototype._headerType = exports.MessageHeader.Schema;
    return 'Schema';
})(Schema.prototype);
exports.Schema = Schema;
class Field {
    constructor(name, type, nullable = false, metadata) {
        this.name = name;
        this.type = type;
        this.nullable = nullable;
        this.metadata = metadata;
    }
    toString() { return `${this.name}: ${this.type}`; }
    get typeId() { return this.type.TType; }
    get [Symbol.toStringTag]() { return 'Field'; }
    get indices() {
        return DataType.isDictionary(this.type) ? this.type.indices : this.type;
    }
}
exports.Field = Field;
/**
 * *
 * Main data type enumeration:
 * *
 * Data types in this library are all *logical*. They can be expressed as
 * either a primitive physical type (bytes or bits of some fixed size), a
 * nested type consisting of other data types, or another data type (e.g. a
 * timestamp encoded as an int64)
 */
var Type;
(function (Type) {
    Type[Type["NONE"] = 0] = "NONE";
    Type[Type["Null"] = 1] = "Null";
    Type[Type["Int"] = 2] = "Int";
    Type[Type["Float"] = 3] = "Float";
    Type[Type["Binary"] = 4] = "Binary";
    Type[Type["Utf8"] = 5] = "Utf8";
    Type[Type["Bool"] = 6] = "Bool";
    Type[Type["Decimal"] = 7] = "Decimal";
    Type[Type["Date"] = 8] = "Date";
    Type[Type["Time"] = 9] = "Time";
    Type[Type["Timestamp"] = 10] = "Timestamp";
    Type[Type["Interval"] = 11] = "Interval";
    Type[Type["List"] = 12] = "List";
    Type[Type["Struct"] = 13] = "Struct";
    Type[Type["Union"] = 14] = "Union";
    Type[Type["FixedSizeBinary"] = 15] = "FixedSizeBinary";
    Type[Type["FixedSizeList"] = 16] = "FixedSizeList";
    Type[Type["Map"] = 17] = "Map";
    Type["Dictionary"] = "Dictionary";
    Type["DenseUnion"] = "DenseUnion";
    Type["SparseUnion"] = "SparseUnion";
})(Type = exports.Type || (exports.Type = {}));
class DataType {
    constructor(TType, children) {
        this.TType = TType;
        this.children = children;
    }
    static isNull(x) { return x && x.TType === Type.Null; }
    static isInt(x) { return x && x.TType === Type.Int; }
    static isFloat(x) { return x && x.TType === Type.Float; }
    static isBinary(x) { return x && x.TType === Type.Binary; }
    static isUtf8(x) { return x && x.TType === Type.Utf8; }
    static isBool(x) { return x && x.TType === Type.Bool; }
    static isDecimal(x) { return x && x.TType === Type.Decimal; }
    static isDate(x) { return x && x.TType === Type.Date; }
    static isTime(x) { return x && x.TType === Type.Time; }
    static isTimestamp(x) { return x && x.TType === Type.Timestamp; }
    static isInterval(x) { return x && x.TType === Type.Interval; }
    static isList(x) { return x && x.TType === Type.List; }
    static isStruct(x) { return x && x.TType === Type.Struct; }
    static isUnion(x) { return x && x.TType === Type.Union; }
    static isDenseUnion(x) { return x && x.TType === Type.DenseUnion; }
    static isSparseUnion(x) { return x && x.TType === Type.SparseUnion; }
    static isFixedSizeBinary(x) { return x && x.TType === Type.FixedSizeBinary; }
    static isFixedSizeList(x) { return x && x.TType === Type.FixedSizeList; }
    static isMap(x) { return x && x.TType === Type.Map; }
    static isDictionary(x) { return x && x.TType === Type.Dictionary; }
    acceptTypeVisitor(visitor) {
        return visitor_1.TypeVisitor.visitTypeInline(visitor, this);
    }
}
DataType[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Array;
    return proto[Symbol.toStringTag] = 'DataType';
})(DataType.prototype);
exports.DataType = DataType;
class Null extends DataType {
    constructor() {
        super(Type.Null);
    }
    toString() { return `Null`; }
}
Null[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Null';
})(Null.prototype);
exports.Null = Null;
class Int extends DataType {
    constructor(isSigned, bitWidth) {
        super(Type.Int);
        this.isSigned = isSigned;
        this.bitWidth = bitWidth;
    }
    get ArrayType() {
        switch (this.bitWidth) {
            case 8: return (this.isSigned ? Int8Array : Uint8Array);
            case 16: return (this.isSigned ? Int16Array : Uint16Array);
            case 32: return (this.isSigned ? Int32Array : Uint32Array);
            case 64: return (this.isSigned ? Int32Array : Uint32Array);
        }
        throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`);
    }
    toString() { return `${this.isSigned ? `I` : `Ui`}nt${this.bitWidth}`; }
}
Int[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Int';
})(Int.prototype);
exports.Int = Int;
class Int8 extends Int {
    constructor() { super(true, 8); }
}
exports.Int8 = Int8;
class Int16 extends Int {
    constructor() { super(true, 16); }
}
exports.Int16 = Int16;
class Int32 extends Int {
    constructor() { super(true, 32); }
}
exports.Int32 = Int32;
class Int64 extends Int {
    constructor() { super(true, 64); }
}
exports.Int64 = Int64;
class Uint8 extends Int {
    constructor() { super(false, 8); }
}
exports.Uint8 = Uint8;
class Uint16 extends Int {
    constructor() { super(false, 16); }
}
exports.Uint16 = Uint16;
class Uint32 extends Int {
    constructor() { super(false, 32); }
}
exports.Uint32 = Uint32;
class Uint64 extends Int {
    constructor() { super(false, 64); }
}
exports.Uint64 = Uint64;
class Float extends DataType {
    constructor(precision) {
        super(Type.Float);
        this.precision = precision;
    }
    // @ts-ignore
    get ArrayType() {
        switch (this.precision) {
            case exports.Precision.HALF: return Uint16Array;
            case exports.Precision.SINGLE: return Float32Array;
            case exports.Precision.DOUBLE: return Float64Array;
        }
        throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`);
    }
    toString() { return `Float${(this.precision << 5) || 16}`; }
}
Float[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Float';
})(Float.prototype);
exports.Float = Float;
class Float16 extends Float {
    constructor() { super(exports.Precision.HALF); }
}
exports.Float16 = Float16;
class Float32 extends Float {
    constructor() { super(exports.Precision.SINGLE); }
}
exports.Float32 = Float32;
class Float64 extends Float {
    constructor() { super(exports.Precision.DOUBLE); }
}
exports.Float64 = Float64;
class Binary extends DataType {
    constructor() {
        super(Type.Binary);
    }
    toString() { return `Binary`; }
}
Binary[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'Binary';
})(Binary.prototype);
exports.Binary = Binary;
class Utf8 extends DataType {
    constructor() {
        super(Type.Utf8);
    }
    toString() { return `Utf8`; }
}
Utf8[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'Utf8';
})(Utf8.prototype);
exports.Utf8 = Utf8;
class Bool extends DataType {
    constructor() {
        super(Type.Bool);
    }
    toString() { return `Bool`; }
}
Bool[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'Bool';
})(Bool.prototype);
exports.Bool = Bool;
class Decimal extends DataType {
    constructor(scale, precision) {
        super(Type.Decimal);
        this.scale = scale;
        this.precision = precision;
    }
    toString() { return `Decimal[${this.precision}e${this.scale > 0 ? `+` : ``}${this.scale}]`; }
}
Decimal[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint32Array;
    return proto[Symbol.toStringTag] = 'Decimal';
})(Decimal.prototype);
exports.Decimal = Decimal;
class Date_ extends DataType {
    constructor(unit) {
        super(Type.Date);
        this.unit = unit;
    }
    toString() { return `Date${(this.unit + 1) * 32}<${exports.DateUnit[this.unit]}>`; }
}
Date_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int32Array;
    return proto[Symbol.toStringTag] = 'Date';
})(Date_.prototype);
exports.Date_ = Date_;
class Time extends DataType {
    constructor(unit, bitWidth) {
        super(Type.Time);
        this.unit = unit;
        this.bitWidth = bitWidth;
    }
    toString() { return `Time${this.bitWidth}<${exports.TimeUnit[this.unit]}>`; }
}
Time[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint32Array;
    return proto[Symbol.toStringTag] = 'Time';
})(Time.prototype);
exports.Time = Time;
class Timestamp extends DataType {
    constructor(unit, timezone) {
        super(Type.Timestamp);
        this.unit = unit;
        this.timezone = timezone;
    }
    toString() { return `Timestamp<${exports.TimeUnit[this.unit]}${this.timezone ? `, ${this.timezone}` : ``}>`; }
}
Timestamp[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int32Array;
    return proto[Symbol.toStringTag] = 'Timestamp';
})(Timestamp.prototype);
exports.Timestamp = Timestamp;
class Interval extends DataType {
    constructor(unit) {
        super(Type.Interval);
        this.unit = unit;
    }
    toString() { return `Interval<${exports.IntervalUnit[this.unit]}>`; }
}
Interval[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int32Array;
    return proto[Symbol.toStringTag] = 'Interval';
})(Interval.prototype);
exports.Interval = Interval;
class List extends DataType {
    constructor(children) {
        super(Type.List, children);
        this.children = children;
    }
    toString() { return `List<${this.valueType}>`; }
    get ArrayType() { return this.valueType.ArrayType; }
    get valueType() { return this.children[0].type; }
    get valueField() { return this.children[0]; }
}
List[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'List';
})(List.prototype);
exports.List = List;
class Struct extends DataType {
    constructor(children) {
        super(Type.Struct, children);
        this.children = children;
    }
    toString() { return `Struct<${this.children.map((f) => f.type).join(`, `)}>`; }
}
Struct[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Struct';
})(Struct.prototype);
exports.Struct = Struct;
class Union extends DataType {
    constructor(mode, typeIds, children) {
        super(Type.Union, children);
        this.mode = mode;
        this.typeIds = typeIds;
        this.children = children;
    }
    toString() {
        return `${this[Symbol.toStringTag]}<${this.children.map((x) => `${x.type}`).join(` | `)}>`;
    }
}
Union[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int8Array;
    return proto[Symbol.toStringTag] = 'Union';
})(Union.prototype);
exports.Union = Union;
class DenseUnion extends Union {
    constructor(typeIds, children) {
        super(exports.UnionMode.Dense, typeIds, children);
    }
}
DenseUnion[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'DenseUnion';
})(DenseUnion.prototype);
exports.DenseUnion = DenseUnion;
class SparseUnion extends Union {
    constructor(typeIds, children) {
        super(exports.UnionMode.Sparse, typeIds, children);
    }
}
SparseUnion[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'SparseUnion';
})(SparseUnion.prototype);
exports.SparseUnion = SparseUnion;
class FixedSizeBinary extends DataType {
    constructor(byteWidth) {
        super(Type.FixedSizeBinary);
        this.byteWidth = byteWidth;
    }
    toString() { return `FixedSizeBinary[${this.byteWidth}]`; }
}
FixedSizeBinary[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'FixedSizeBinary';
})(FixedSizeBinary.prototype);
exports.FixedSizeBinary = FixedSizeBinary;
class FixedSizeList extends DataType {
    constructor(listSize, children) {
        super(Type.FixedSizeList, children);
        this.listSize = listSize;
        this.children = children;
    }
    get ArrayType() { return this.valueType.ArrayType; }
    get valueType() { return this.children[0].type; }
    get valueField() { return this.children[0]; }
    toString() { return `FixedSizeList[${this.listSize}]<${this.valueType}>`; }
}
FixedSizeList[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'FixedSizeList';
})(FixedSizeList.prototype);
exports.FixedSizeList = FixedSizeList;
class Map_ extends DataType {
    constructor(keysSorted, children) {
        super(Type.Map, children);
        this.keysSorted = keysSorted;
        this.children = children;
    }
    toString() { return `Map<${this.children.join(`, `)}>`; }
}
Map_[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Map_';
})(Map_.prototype);
exports.Map_ = Map_;
class Dictionary extends DataType {
    constructor(dictionary, indices, id, isOrdered) {
        super(Type.Dictionary);
        this.indices = indices;
        this.dictionary = dictionary;
        this.isOrdered = isOrdered || false;
        this.id = id == null ? metadata_1.DictionaryBatch.getId() : typeof id === 'number' ? id : id.low;
    }
    get ArrayType() { return this.dictionary.ArrayType; }
    toString() { return `Dictionary<${this.indices}, ${this.dictionary}>`; }
}
Dictionary[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Dictionary';
})(Dictionary.prototype);
exports.Dictionary = Dictionary;

//# sourceMappingURL=data:application/json;charset=utf8;base64,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LEdBQUwsS0FBSyxDQUFPO1FBQ1osYUFBUSxHQUFSLFFBQVEsQ0FBVTtJQUFHLENBQUM7SUF0QmxELE1BQU0sQ0FBWSxNQUFNLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBWSxDQUFDO0lBQ3pHLE1BQU0sQ0FBYSxLQUFLLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBYSxDQUFDO0lBQ3pHLE1BQU0sQ0FBVyxPQUFPLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxLQUFLLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBVyxDQUFDO0lBQ3pHLE1BQU0sQ0FBVSxRQUFRLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxLQUFLLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBVSxDQUFDO0lBQ3pHLE1BQU0sQ0FBWSxNQUFNLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBWSxDQUFDO0lBQ3pHLE1BQU0sQ0FBWSxNQUFNLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBWSxDQUFDO0lBQ3pHLE1BQU0sQ0FBUyxTQUFTLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxLQUFLLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBUyxDQUFDO0lBQ3pHLE1BQU0sQ0FBWSxNQUFNLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBWSxDQUFDO0lBQ3pHLE1BQU0sQ0FBWSxNQUFNLENBQUUsQ0FBTSxJ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LElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUN2QixJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUN2QixJQUFJLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQztRQUM3QixJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsSUFBSSxLQUFLLENBQUM7UUFDcEMsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQywwQkFBZSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLEVBQUUsS0FBSyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQztJQUMxRixDQUFDO0lBQ0QsSUFBVyxTQUFTLEtBQUssT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7SUFDckQsUUFBUSxLQUFLLE9BQU8sY0FBYyxJQUFJLENBQUMsT0FBTyxLQUFLLElBQUksQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDLENBQUM7O0FBQzlELFdBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFpQixFQUFFLEVBQUU7SUFDM0QsT0FBTyxLQUFLLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxHQUFHLFlBQVksQ0FBQztBQUNwRCxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUM7QUFoQjdCLGdDQWlCQyIsImZpbGUiOiJ0eXBlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxuLy8gb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4vLyBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuLy8gcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxuLy8gdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuLy8gXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4vLyB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4vLyBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuLy8gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbi8vIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuLy8gc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuLy8gdW5kZXIgdGhlIExpY2Vuc2UuXG5cbmltcG9ydCAqIGFzIFNjaGVtYV8gZnJvbSAnLi9mYi9TY2hlbWEnO1xuaW1wb3J0ICogYXMgTWVzc2FnZV8gZnJvbSAnLi9mYi9NZXNzYWdlJztcbmltcG9ydCB7IFZlY3RvciwgVmlldyB9IGZyb20gJy4vdmVjdG9yJztcbmltcG9ydCB7IGZsYXRidWZmZXJzIH0gZnJvbSAnZmxhdGJ1ZmZlcnMnO1xuaW1wb3J0IHsgRGljdGlvbmFyeUJhdGNoIH0gZnJvbSAnLi9pcGMvbWV0YWRhdGEnO1xuaW1wb3J0IHsgVHlwZVZpc2l0b3IsIFZpc2l0b3JOb2RlIH0gZnJvbSAnLi92aXNpdG9yJztcblxuZXhwb3J0IGltcG9ydCBMb25nID0gZmxhdGJ1ZmZlcnMuTG9uZztcbmV4cG9ydCBpbXBvcnQgQXJyb3dUeXBlID0gU2NoZW1hXy5vcmcuYXBhY2hlLmFycm93LmZsYXRidWYuVHlwZTtcbmV4cG9ydCBpbXBvcnQgRGF0ZVVuaXQgPSBTY2hlbWFfLm9yZy5hcGFjaGUuYXJyb3cuZmxhdGJ1Zi5EYXRlVW5pdDtcbmV4cG9ydCBpbXBvcnQgVGltZVVuaXQgPSBTY2hlbWFfLm9yZy5hcGFjaGUuYXJyb3cuZmxhdGJ1Zi5UaW1lVW5pdDtcbmV4cG9ydCBpbXBvcnQgUHJlY2lzaW9uID0gU2NoZW1hXy5vcmcuYXBhY2hlLmFycm93LmZsYXRidWYuUHJlY2lzaW9uO1xuZXhwb3J0IGltcG9ydCBVbmlvbk1vZGUgPSBTY2hlbWFfLm9yZy5hcGFjaGUuYXJyb3cuZmxhdGJ1Zi5Vbmlvbk1vZGU7XG5leHBvcnQgaW1wb3J0IFZlY3RvclR5cGUgPSBTY2hlbWFfLm9yZy5hcGFjaGUuYXJyb3cuZmxhdGJ1Zi5WZWN0b3JUeXBlO1xuZXhwb3J0IGltcG9ydCBJbnRlcnZhbFVuaXQgPSBTY2hlbWFfLm9yZy5hcGFjaGUuYXJyb3cuZmxhdGJ1Zi5JbnRlcnZhbFVuaXQ7XG5leHBvcnQgaW1wb3J0IE1lc3NhZ2VIZWFkZXIgPSBNZXNzYWdlXy5vcmcuYXBhY2hlLmFycm93LmZsYXRidWYuTWVzc2FnZUhlYWRlcjtcbmV4cG9ydCBpbXBvcnQgTWV0YWRhdGFWZXJzaW9uID0gU2NoZW1hXy5vcmcuYXBhY2hlLmFycm93LmZsYXRidWYuTWV0YWRhdGFWZXJzaW9uO1xuXG5leHBvcnQgY2xhc3MgU2NoZW1hIHtcbiAgICBwdWJsaWMgc3RhdGljIGZyb20odmVjdG9yczogVmVjdG9yW10pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTY2hlbWEodmVjdG9ycy5tYXAoKHYsIGkpID0+IG5ldyBGaWVsZCgnJyArIGksIHYudHlwZSkpKTtcbiAgICB9XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHByb3RlY3RlZCBfYm9keUxlbmd0aDogbnVtYmVyO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBwcm90ZWN0ZWQgX2hlYWRlclR5cGU6IE1lc3NhZ2VIZWFkZXI7XG4gICAgcHVibGljIHJlYWRvbmx5IGZpZWxkczogRmllbGRbXTtcbiAgICBwdWJsaWMgcmVhZG9ubHkgdmVyc2lvbjogTWV0YWRhdGFWZXJzaW9uO1xuICAgIHB1YmxpYyByZWFkb25seSBtZXRhZGF0YT86IE1hcDxzdHJpbmcsIHN0cmluZz47XG4gICAgcHVibGljIHJlYWRvbmx5IGRpY3Rpb25hcmllczogTWFwPG51bWJlciwgRmllbGQ8RGljdGlvbmFyeT4+O1xuICAgIGNvbnN0cnVjdG9yKGZpZWxkczogRmllbGRbXSxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YT86IE1hcDxzdHJpbmcsIHN0cmluZz4sXG4gICAgICAgICAgICAgICAgdmVyc2lvbjogTWV0YWRhdGFWZXJzaW9uID0gTWV0YWRhdGFWZXJzaW9uLlY0LFxuICAgICAgICAgICAgICAgIGRpY3Rpb25hcmllczogTWFwPG51bWJlciwgRmllbGQ8RGljdGlvbmFyeT4+ID0gbmV3IE1hcCgpKSB7XG4gICAgICAgIHRoaXMuZmllbGRzID0gZmllbGRzO1xuICAgICAgICB0aGlzLnZlcnNpb24gPSB2ZXJzaW9uO1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgICAgIHRoaXMuZGljdGlvbmFyaWVzID0gZGljdGlvbmFyaWVzO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IGJvZHlMZW5ndGgoKSB7IHJldHVybiB0aGlzLl9ib2R5TGVuZ3RoOyB9XG4gICAgcHVibGljIGdldCBoZWFkZXJUeXBlKCkgeyByZXR1cm4gdGhpcy5faGVhZGVyVHlwZTsgfVxuICAgIHB1YmxpYyBzZWxlY3QoLi4uZmllbGROYW1lczogc3RyaW5nW10pOiBTY2hlbWEge1xuICAgICAgICBjb25zdCBuYW1lc1RvS2VlcCA9IGZpZWxkTmFtZXMucmVkdWNlKCh4cywgeCkgPT4gKHhzW3hdID0gdHJ1ZSkgJiYgeHMsIE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICAgICAgICBjb25zdCBuZXdEaWN0RmllbGRzID0gbmV3IE1hcCgpLCBuZXdGaWVsZHMgPSB0aGlzLmZpZWxkcy5maWx0ZXIoKGYpID0+IG5hbWVzVG9LZWVwW2YubmFtZV0pO1xuICAgICAgICB0aGlzLmRpY3Rpb25hcmllcy5mb3JFYWNoKChmLCBkaWN0SWQpID0+IChuYW1lc1RvS2VlcFtmLm5hbWVdKSAmJiBuZXdEaWN0RmllbGRzLnNldChkaWN0SWQsIGYpKTtcbiAgICAgICAgcmV0dXJuIG5ldyBTY2hlbWEobmV3RmllbGRzLCB0aGlzLm1ldGFkYXRhLCB0aGlzLnZlcnNpb24sIG5ld0RpY3RGaWVsZHMpO1xuICAgIH1cbiAgICBwdWJsaWMgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90b3R5cGU6IFNjaGVtYSkgPT4ge1xuICAgICAgICBwcm90b3R5cGUuX2JvZHlMZW5ndGggPSAwO1xuICAgICAgICBwcm90b3R5cGUuX2hlYWRlclR5cGUgPSBNZXNzYWdlSGVhZGVyLlNjaGVtYTtcbiAgICAgICAgcmV0dXJuICdTY2hlbWEnO1xuICAgIH0pKFNjaGVtYS5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgY2xhc3MgRmllbGQ8VCBleHRlbmRzIERhdGFUeXBlID0gRGF0YVR5cGU+IHtcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHlwZTogVDtcbiAgICBwdWJsaWMgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xuICAgIHB1YmxpYyByZWFkb25seSBudWxsYWJsZTogYm9vbGVhbjtcbiAgICBwdWJsaWMgcmVhZG9ubHkgbWV0YWRhdGE/OiBNYXA8c3RyaW5nLCBzdHJpbmc+IHwgbnVsbDtcbiAgICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIHR5cGU6IFQsIG51bGxhYmxlID0gZmFsc2UsIG1ldGFkYXRhPzogTWFwPHN0cmluZywgc3RyaW5nPiB8IG51bGwpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5udWxsYWJsZSA9IG51bGxhYmxlO1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGAke3RoaXMubmFtZX06ICR7dGhpcy50eXBlfWA7IH1cbiAgICBwdWJsaWMgZ2V0IHR5cGVJZCgpOiBUWydUVHlwZSddIHsgcmV0dXJuIHRoaXMudHlwZS5UVHlwZTsgfVxuICAgIHB1YmxpYyBnZXQgW1N5bWJvbC50b1N0cmluZ1RhZ10oKTogc3RyaW5nIHsgcmV0dXJuICdGaWVsZCc7IH1cbiAgICBwdWJsaWMgZ2V0IGluZGljZXMoKTogVCB8IEludDxhbnk+IHtcbiAgICAgICAgcmV0dXJuIERhdGFUeXBlLmlzRGljdGlvbmFyeSh0aGlzLnR5cGUpID8gdGhpcy50eXBlLmluZGljZXMgOiB0aGlzLnR5cGU7XG4gICAgfVxufVxuXG5leHBvcnQgdHlwZSBUaW1lQml0V2lkdGggPSAzMiB8IDY0O1xuZXhwb3J0IHR5cGUgSW50Qml0V2lkdGggPSA4IHwgMTYgfCAzMiB8IDY0O1xuXG5leHBvcnQgdHlwZSBOdW1lcmljVHlwZSA9IEludCB8IEZsb2F0IHwgRGF0ZV8gfCBUaW1lIHwgSW50ZXJ2YWwgfCBUaW1lc3RhbXA7XG5leHBvcnQgdHlwZSBGaXhlZFNpemVUeXBlID0gSW50NjQgfCAgVWludDY0IHwgRGVjaW1hbCB8IEZpeGVkU2l6ZUJpbmFyeTtcbmV4cG9ydCB0eXBlIFByaW1pdGl2ZVR5cGUgPSBOdW1lcmljVHlwZSB8IEZpeGVkU2l6ZVR5cGU7XG5cbmV4cG9ydCB0eXBlIEZsYXRMaXN0VHlwZSA9IFV0ZjggfCBCaW5hcnk7IC8vIDwtLSB0aGVzZSB0eXBlcyBoYXZlIGBvZmZzZXRgLCBgZGF0YWAsIGFuZCBgdmFsaWRpdHlgIGJ1ZmZlcnNcbmV4cG9ydCB0eXBlIEZsYXRUeXBlID0gQm9vbCB8IFByaW1pdGl2ZVR5cGUgfCBGbGF0TGlzdFR5cGU7IC8vIDwtLSB0aGVzZSB0eXBlcyBoYXZlIGBkYXRhYCBhbmQgYHZhbGlkaXR5YCBidWZmZXJzXG5leHBvcnQgdHlwZSBMaXN0VHlwZSA9IExpc3Q8YW55PjsgLy8gPC0tIHRoZXNlIHR5cGVzIGhhdmUgYG9mZnNldGAgYW5kIGB2YWxpZGl0eWAgYnVmZmVyc1xuZXhwb3J0IHR5cGUgTmVzdGVkVHlwZSA9IE1hcF8gfCBTdHJ1Y3QgfCBMaXN0PGFueT4gfCBGaXhlZFNpemVMaXN0PGFueT4gfCBVbmlvbjxhbnk+OyAvLyA8LS0gdGhlc2UgdHlwZXMgaGF2ZSBgdmFsaWRpdHlgIGJ1ZmZlciBhbmQgbmVzdGVkIGNoaWxkRGF0YVxuZXhwb3J0IHR5cGUgU2luZ2xlTmVzdGVkVHlwZSA9IExpc3Q8YW55PiB8IEZpeGVkU2l6ZUxpc3Q8YW55PjsgLy8gPC0tIHRoZXNlIGFyZSBuZXN0ZWQgdHlwZXMgdGhhdCBjYW4gb25seSBoYXZlIGEgc2luZ2xlIGNoaWxkXG5cbi8qKlxuICogKlxuICogTWFpbiBkYXRhIHR5cGUgZW51bWVyYXRpb246XG4gKiAqXG4gKiBEYXRhIHR5cGVzIGluIHRoaXMgbGlicmFyeSBhcmUgYWxsICpsb2dpY2FsKi4gVGhleSBjYW4gYmUgZXhwcmVzc2VkIGFzXG4gKiBlaXRoZXIgYSBwcmltaXRpdmUgcGh5c2ljYWwgdHlwZSAoYnl0ZXMgb3IgYml0cyBvZiBzb21lIGZpeGVkIHNpemUpLCBhXG4gKiBuZXN0ZWQgdHlwZSBjb25zaXN0aW5nIG9mIG90aGVyIGRhdGEgdHlwZXMsIG9yIGFub3RoZXIgZGF0YSB0eXBlIChlLmcuIGFcbiAqIHRpbWVzdGFtcCBlbmNvZGVkIGFzIGFuIGludDY0KVxuICovXG4gZXhwb3J0IGVudW0gVHlwZSB7XG4gICAgTk9ORSAgICAgICAgICAgID0gIDAsICAvLyBUaGUgZGVmYXVsdCBwbGFjZWhvbGRlciB0eXBlXG4gICAgTnVsbCAgICAgICAgICAgID0gIDEsICAvLyBBIE5VTEwgdHlwZSBoYXZpbmcgbm8gcGh5c2ljYWwgc3RvcmFnZVxuICAgIEludCAgICAgICAgICAgICA9ICAyLCAgLy8gU2lnbmVkIG9yIHVuc2lnbmVkIDgsIDE2LCAzMiwgb3IgNjQtYml0IGxpdHRsZS1lbmRpYW4gaW50ZWdlclxuICAgIEZsb2F0ICAgICAgICAgICA9ICAzLCAgLy8gMiwgNCwgb3IgOC1ieXRlIGZsb2F0aW5nIHBvaW50IHZhbHVlXG4gICAgQmluYXJ5ICAgICAgICAgID0gIDQsICAvLyBWYXJpYWJsZS1sZW5ndGggYnl0ZXMgKG5vIGd1YXJhbnRlZSBvZiBVVEY4LW5lc3MpXG4gICAgVXRmOCAgICAgICAgICAgID0gIDUsICAvLyBVVEY4IHZhcmlhYmxlLWxlbmd0aCBzdHJpbmcgYXMgTGlzdDxDaGFyPlxuICAgIEJvb2wgICAgICAgICAgICA9ICA2LCAgLy8gQm9vbGVhbiBhcyAxIGJpdCwgTFNCIGJpdC1wYWNrZWQgb3JkZXJpbmdcbiAgICBEZWNpbWFsICAgICAgICAgPSAgNywgIC8vIFByZWNpc2lvbi1hbmQtc2NhbGUtYmFzZWQgZGVjaW1hbCB0eXBlLiBTdG9yYWdlIHR5cGUgZGVwZW5kcyBvbiB0aGUgcGFyYW1ldGVycy5cbiAgICBEYXRlICAgICAgICAgICAgPSAgOCwgIC8vIGludDMyX3QgZGF5cyBvciBpbnQ2NF90IG1pbGxpc2Vjb25kcyBzaW5jZSB0aGUgVU5JWCBlcG9jaFxuICAgIFRpbWUgICAgICAgICAgICA9ICA5LCAgLy8gVGltZSBhcyBzaWduZWQgMzIgb3IgNjQtYml0IGludGVnZXIsIHJlcHJlc2VudGluZyBlaXRoZXIgc2Vjb25kcywgbWlsbGlzZWNvbmRzLCBtaWNyb3NlY29uZHMsIG9yIG5hbm9zZWNvbmRzIHNpbmNlIG1pZG5pZ2h0IHNpbmNlIG1pZG5pZ2h0XG4gICAgVGltZXN0YW1wICAgICAgID0gMTAsICAvLyBFeGFjdCB0aW1lc3RhbXAgZW5jb2RlZCB3aXRoIGludDY0IHNpbmNlIFVOSVggZXBvY2ggKERlZmF1bHQgdW5pdCBtaWxsaXNlY29uZClcbiAgICBJbnRlcnZhbCAgICAgICAgPSAxMSwgIC8vIFlFQVJfTU9OVEggb3IgREFZX1RJTUUgaW50ZXJ2YWwgaW4gU1FMIHN0eWxlXG4gICAgTGlzdCAgICAgICAgICAgID0gMTIsICAvLyBBIGxpc3Qgb2Ygc29tZSBsb2dpY2FsIGRhdGEgdHlwZVxuICAgIFN0cnVjdCAgICAgICAgICA9IDEzLCAgLy8gU3RydWN0IG9mIGxvZ2ljYWwgdHlwZXNcbiAgICBVbmlvbiAgICAgICAgICAgPSAxNCwgIC8vIFVuaW9uIG9mIGxvZ2ljYWwgdHlwZXNcbiAgICBGaXhlZFNpemVCaW5hcnkgPSAxNSwgIC8vIEZpeGVkLXNpemUgYmluYXJ5LiBFYWNoIHZhbHVlIG9jY3VwaWVzIHRoZSBzYW1lIG51bWJlciBvZiBieXRlc1xuICAgIEZpeGVkU2l6ZUxpc3QgICA9IDE2LCAgLy8gRml4ZWQtc2l6ZSBsaXN0LiBFYWNoIHZhbHVlIG9jY3VwaWVzIHRoZSBzYW1lIG51bWJlciBvZiBieXRlc1xuICAgIE1hcCAgICAgICAgICAgICA9IDE3LCAgLy8gTWFwIG9mIG5hbWVkIGxvZ2ljYWwgdHlwZXNcbiAgICBEaWN0aW9uYXJ5ICAgICAgPSAnRGljdGlvbmFyeScsICAvLyBEaWN0aW9uYXJ5IGFrYSBDYXRlZ29yeSB0eXBlXG4gICAgRGVuc2VVbmlvbiAgICAgID0gJ0RlbnNlVW5pb24nLCAgLy8gRGVuc2UgVW5pb24gb2YgbG9naWNhbCB0eXBlc1xuICAgIFNwYXJzZVVuaW9uICAgICA9ICdTcGFyc2VVbmlvbicsICAvLyBTcGFyc2UgVW5pb24gb2YgbG9naWNhbCB0eXBlc1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERhdGFUeXBlPFRUeXBlIGV4dGVuZHMgVHlwZSA9IGFueT4ge1xuICAgIHJlYWRvbmx5IFRUeXBlOiBUVHlwZTtcbiAgICByZWFkb25seSBUQXJyYXk6IGFueTtcbiAgICByZWFkb25seSBUVmFsdWU6IGFueTtcbiAgICByZWFkb25seSBBcnJheVR5cGU6IGFueTtcbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIERhdGFUeXBlPFRUeXBlIGV4dGVuZHMgVHlwZSA9IGFueT4gaW1wbGVtZW50cyBQYXJ0aWFsPFZpc2l0b3JOb2RlPiB7XG5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcHVibGljIFtTeW1ib2wudG9TdHJpbmdUYWddOiBzdHJpbmc7XG5cbiAgICBzdGF0aWMgICAgICAgICAgICBpc051bGwgKHg6IGFueSk6IHggaXMgTnVsbCAgICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5OdWxsOyAgICAgICAgICAgIH1cbiAgICBzdGF0aWMgICAgICAgICAgICAgaXNJbnQgKHg6IGFueSk6IHggaXMgSW50ICAgICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5JbnQ7ICAgICAgICAgICAgIH1cbiAgICBzdGF0aWMgICAgICAgICAgIGlzRmxvYXQgKHg6IGFueSk6IHggaXMgRmxvYXQgICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5GbG9hdDsgICAgICAgICAgIH1cbiAgICBzdGF0aWMgICAgICAgICAgaXNCaW5hcnkgKHg6IGFueSk6IHggaXMgQmluYXJ5ICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5CaW5hcnk7ICAgICAgICAgIH1cbiAgICBzdGF0aWMgICAgICAgICAgICBpc1V0ZjggKHg6IGFueSk6IHggaXMgVXRmOCAgICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5VdGY4OyAgICAgICAgICAgIH1cbiAgICBzdGF0aWMgICAgICAgICAgICBpc0Jvb2wgKHg6IGFueSk6IHggaXMgQm9vbCAgICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5Cb29sOyAgICAgICAgICAgIH1cbiAgICBzdGF0aWMgICAgICAgICBpc0RlY2ltYWwgKHg6IGFueSk6IHggaXMgRGVjaW1hbCAgICAgICAgIHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5EZWNpbWFsOyAgICAgICAgIH1cbiAgICBzdGF0aWMgICAgICAgICAgICBpc0RhdGUgKHg6IGFueSk6IHggaXMgRGF0ZV8gICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5EYXRlOyAgICAgICAgICAgIH1cbiAgICBzdGF0aWMgICAgICAgICAgICBpc1RpbWUgKHg6IGFueSk6IHggaXMgVGltZSAgICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5UaW1lOyAgICAgICAgICAgIH1cbiAgICBzdGF0aWMgICAgICAgaXNUaW1lc3RhbXAgKHg6IGFueSk6IHggaXMgVGltZXN0YW1wICAgICAgIHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5UaW1lc3RhbXA7ICAgICAgIH1cbiAgICBzdGF0aWMgICAgICAgIGlzSW50ZXJ2YWwgKHg6IGFueSk6IHggaXMgSW50ZXJ2YWwgICAgICAgIHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5JbnRlcnZhbDsgICAgICAgIH1cbiAgICBzdGF0aWMgICAgICAgICAgICBpc0xpc3QgKHg6IGFueSk6IHggaXMgTGlzdCAgICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5MaXN0OyAgICAgICAgICAgIH1cbiAgICBzdGF0aWMgICAgICAgICAgaXNTdHJ1Y3QgKHg6IGFueSk6IHggaXMgU3RydWN0ICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5TdHJ1Y3Q7ICAgICAgICAgIH1cbiAgICBzdGF0aWMgICAgICAgICAgIGlzVW5pb24gKHg6IGFueSk6IHggaXMgVW5pb24gICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5VbmlvbjsgICAgICAgICAgIH1cbiAgICBzdGF0aWMgICAgICBpc0RlbnNlVW5pb24gKHg6IGFueSk6IHggaXMgRGVuc2VVbmlvbiAgICAgIHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5EZW5zZVVuaW9uOyAgICAgIH1cbiAgICBzdGF0aWMgICAgIGlzU3BhcnNlVW5pb24gKHg6IGFueSk6IHggaXMgU3BhcnNlVW5pb24gICAgIHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5TcGFyc2VVbmlvbjsgICAgIH1cbiAgICBzdGF0aWMgaXNGaXhlZFNpemVCaW5hcnkgKHg6IGFueSk6IHggaXMgRml4ZWRTaXplQmluYXJ5IHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5GaXhlZFNpemVCaW5hcnk7IH1cbiAgICBzdGF0aWMgICBpc0ZpeGVkU2l6ZUxpc3QgKHg6IGFueSk6IHggaXMgRml4ZWRTaXplTGlzdCAgIHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5GaXhlZFNpemVMaXN0OyAgIH1cbiAgICBzdGF0aWMgICAgICAgICAgICAgaXNNYXAgKHg6IGFueSk6IHggaXMgTWFwXyAgICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5NYXA7ICAgICAgICAgICAgIH1cbiAgICBzdGF0aWMgICAgICBpc0RpY3Rpb25hcnkgKHg6IGFueSk6IHggaXMgRGljdGlvbmFyeSAgICAgIHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5EaWN0aW9uYXJ5OyAgICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBUVHlwZTogVFR5cGUsXG4gICAgICAgICAgICAgICAgcHVibGljIHJlYWRvbmx5IGNoaWxkcmVuPzogRmllbGRbXSkge31cbiAgICBwdWJsaWMgYWNjZXB0VHlwZVZpc2l0b3IodmlzaXRvcjogVHlwZVZpc2l0b3IpOiBhbnkge1xuICAgICAgICByZXR1cm4gVHlwZVZpc2l0b3IudmlzaXRUeXBlSW5saW5lKHZpc2l0b3IsIHRoaXMpO1xuICAgIH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogRGF0YVR5cGUpID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnRGF0YVR5cGUnO1xuICAgIH0pKERhdGFUeXBlLnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTnVsbCBleHRlbmRzIERhdGFUeXBlPFR5cGUuTnVsbD4geyBUQXJyYXk6IHZvaWQ7IFRWYWx1ZTogbnVsbDsgfVxuZXhwb3J0IGNsYXNzIE51bGwgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLk51bGw+IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoVHlwZS5OdWxsKTtcbiAgICB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYE51bGxgOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IE51bGwpID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnTnVsbCc7XG4gICAgfSkoTnVsbC5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEludDxUVmFsdWVUeXBlID0gYW55LCBUQXJyYXlUeXBlIGV4dGVuZHMgSW50QXJyYXkgPSBJbnRBcnJheT4gZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkludD4geyBUQXJyYXk6IFRBcnJheVR5cGU7IFRWYWx1ZTogVFZhbHVlVHlwZTsgfVxuZXhwb3J0IGNsYXNzIEludDxUVmFsdWVUeXBlID0gYW55LCBUQXJyYXlUeXBlIGV4dGVuZHMgSW50QXJyYXkgPSBJbnRBcnJheT4gZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkludD4ge1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBpc1NpZ25lZDogYm9vbGVhbixcbiAgICAgICAgICAgICAgICBwdWJsaWMgcmVhZG9ubHkgYml0V2lkdGg6IEludEJpdFdpZHRoKSB7XG4gICAgICAgIHN1cGVyKFR5cGUuSW50KTtcbiAgICB9XG4gICAgcHVibGljIGdldCBBcnJheVR5cGUoKTogVHlwZWRBcnJheUNvbnN0cnVjdG9yPFRBcnJheVR5cGU+IHtcbiAgICAgICAgc3dpdGNoICh0aGlzLmJpdFdpZHRoKSB7XG4gICAgICAgICAgICBjYXNlICA4OiByZXR1cm4gKHRoaXMuaXNTaWduZWQgPyAgSW50OEFycmF5IDogIFVpbnQ4QXJyYXkpIGFzIGFueTtcbiAgICAgICAgICAgIGNhc2UgMTY6IHJldHVybiAodGhpcy5pc1NpZ25lZCA/IEludDE2QXJyYXkgOiBVaW50MTZBcnJheSkgYXMgYW55O1xuICAgICAgICAgICAgY2FzZSAzMjogcmV0dXJuICh0aGlzLmlzU2lnbmVkID8gSW50MzJBcnJheSA6IFVpbnQzMkFycmF5KSBhcyBhbnk7XG4gICAgICAgICAgICBjYXNlIDY0OiByZXR1cm4gKHRoaXMuaXNTaWduZWQgPyBJbnQzMkFycmF5IDogVWludDMyQXJyYXkpIGFzIGFueTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVucmVjb2duaXplZCAke3RoaXNbU3ltYm9sLnRvU3RyaW5nVGFnXX0gdHlwZWApO1xuICAgIH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgJHt0aGlzLmlzU2lnbmVkID8gYElgIDogYFVpYH1udCR7dGhpcy5iaXRXaWR0aH1gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IEludCkgPT4ge1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdJbnQnO1xuICAgIH0pKEludC5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgY2xhc3MgSW50OCBleHRlbmRzIEludDxudW1iZXIsIEludDhBcnJheT4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIodHJ1ZSwgOCk7IH0gfVxuZXhwb3J0IGNsYXNzIEludDE2IGV4dGVuZHMgSW50PG51bWJlciwgSW50MTZBcnJheT4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIodHJ1ZSwgMTYpOyB9IH1cbmV4cG9ydCBjbGFzcyBJbnQzMiBleHRlbmRzIEludDxudW1iZXIsIEludDMyQXJyYXk+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKHRydWUsIDMyKTsgfSB9XG5leHBvcnQgY2xhc3MgSW50NjQgZXh0ZW5kcyBJbnQ8SW50MzJBcnJheSwgSW50MzJBcnJheT4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIodHJ1ZSwgNjQpOyB9IH1cbmV4cG9ydCBjbGFzcyBVaW50OCBleHRlbmRzIEludDxudW1iZXIsIFVpbnQ4QXJyYXk+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKGZhbHNlLCA4KTsgfSB9XG5leHBvcnQgY2xhc3MgVWludDE2IGV4dGVuZHMgSW50PG51bWJlciwgVWludDE2QXJyYXk+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKGZhbHNlLCAxNik7IH0gfVxuZXhwb3J0IGNsYXNzIFVpbnQzMiBleHRlbmRzIEludDxudW1iZXIsIFVpbnQzMkFycmF5PiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihmYWxzZSwgMzIpOyB9IH1cbmV4cG9ydCBjbGFzcyBVaW50NjQgZXh0ZW5kcyBJbnQ8VWludDMyQXJyYXksIFVpbnQzMkFycmF5PiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihmYWxzZSwgNjQpOyB9IH1cblxuZXhwb3J0IGludGVyZmFjZSBGbG9hdDxUQXJyYXlUeXBlIGV4dGVuZHMgRmxvYXRBcnJheSA9IEZsb2F0QXJyYXk+IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5GbG9hdD4geyBUQXJyYXk6IFRBcnJheVR5cGU7IFRWYWx1ZTogbnVtYmVyOyB9XG5leHBvcnQgY2xhc3MgRmxvYXQ8VEFycmF5VHlwZSBleHRlbmRzIEZsb2F0QXJyYXkgPSBGbG9hdEFycmF5PiBleHRlbmRzIERhdGFUeXBlPFR5cGUuRmxvYXQ+IHtcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgcHJlY2lzaW9uOiBQcmVjaXNpb24pIHtcbiAgICAgICAgc3VwZXIoVHlwZS5GbG9hdCk7XG4gICAgfVxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBwdWJsaWMgZ2V0IEFycmF5VHlwZSgpOiBUeXBlZEFycmF5Q29uc3RydWN0b3I8VEFycmF5VHlwZT4ge1xuICAgICAgICBzd2l0Y2ggKHRoaXMucHJlY2lzaW9uKSB7XG4gICAgICAgICAgICBjYXNlIFByZWNpc2lvbi5IQUxGOiByZXR1cm4gVWludDE2QXJyYXkgYXMgYW55O1xuICAgICAgICAgICAgY2FzZSBQcmVjaXNpb24uU0lOR0xFOiByZXR1cm4gRmxvYXQzMkFycmF5IGFzIGFueTtcbiAgICAgICAgICAgIGNhc2UgUHJlY2lzaW9uLkRPVUJMRTogcmV0dXJuIEZsb2F0NjRBcnJheSBhcyBhbnk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnJlY29nbml6ZWQgJHt0aGlzW1N5bWJvbC50b1N0cmluZ1RhZ119IHR5cGVgKTtcbiAgICB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYEZsb2F0JHsodGhpcy5wcmVjaXNpb24gPDwgNSkgfHwgMTZ9YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBGbG9hdCkgPT4ge1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdGbG9hdCc7XG4gICAgfSkoRmxvYXQucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGNsYXNzIEZsb2F0MTYgZXh0ZW5kcyBGbG9hdDxVaW50MTZBcnJheT4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoUHJlY2lzaW9uLkhBTEYpOyB9IH1cbmV4cG9ydCBjbGFzcyBGbG9hdDMyIGV4dGVuZHMgRmxvYXQ8RmxvYXQzMkFycmF5PiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihQcmVjaXNpb24uU0lOR0xFKTsgfSB9XG5leHBvcnQgY2xhc3MgRmxvYXQ2NCBleHRlbmRzIEZsb2F0PEZsb2F0NjRBcnJheT4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoUHJlY2lzaW9uLkRPVUJMRSk7IH0gfVxuXG5leHBvcnQgaW50ZXJmYWNlIEJpbmFyeSBleHRlbmRzIERhdGFUeXBlPFR5cGUuQmluYXJ5PiB7IFRBcnJheTogVWludDhBcnJheTsgVFZhbHVlOiBVaW50OEFycmF5OyB9XG5leHBvcnQgY2xhc3MgQmluYXJ5IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5CaW5hcnk+IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoVHlwZS5CaW5hcnkpO1xuICAgIH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgQmluYXJ5YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBCaW5hcnkpID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBVaW50OEFycmF5O1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdCaW5hcnknO1xuICAgIH0pKEJpbmFyeS5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFV0ZjggZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLlV0Zjg+IHsgVEFycmF5OiBVaW50OEFycmF5OyBUVmFsdWU6IHN0cmluZzsgfVxuZXhwb3J0IGNsYXNzIFV0ZjggZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLlV0Zjg+IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoVHlwZS5VdGY4KTtcbiAgICB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYFV0ZjhgOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IFV0ZjgpID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBVaW50OEFycmF5O1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdVdGY4JztcbiAgICB9KShVdGY4LnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQm9vbCBleHRlbmRzIERhdGFUeXBlPFR5cGUuQm9vbD4geyBUQXJyYXk6IFVpbnQ4QXJyYXk7IFRWYWx1ZTogYm9vbGVhbjsgfVxuZXhwb3J0IGNsYXNzIEJvb2wgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkJvb2w+IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoVHlwZS5Cb29sKTtcbiAgICB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYEJvb2xgOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IEJvb2wpID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBVaW50OEFycmF5O1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdCb29sJztcbiAgICB9KShCb29sLnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVjaW1hbCBleHRlbmRzIERhdGFUeXBlPFR5cGUuRGVjaW1hbD4geyBUQXJyYXk6IFVpbnQzMkFycmF5OyBUVmFsdWU6IFVpbnQzMkFycmF5OyB9XG5leHBvcnQgY2xhc3MgRGVjaW1hbCBleHRlbmRzIERhdGFUeXBlPFR5cGUuRGVjaW1hbD4ge1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBzY2FsZTogbnVtYmVyLFxuICAgICAgICAgICAgICAgIHB1YmxpYyByZWFkb25seSBwcmVjaXNpb246IG51bWJlcikge1xuICAgICAgICBzdXBlcihUeXBlLkRlY2ltYWwpO1xuICAgIH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgRGVjaW1hbFske3RoaXMucHJlY2lzaW9ufWUke3RoaXMuc2NhbGUgPiAwID8gYCtgIDogYGB9JHt0aGlzLnNjYWxlfV1gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IERlY2ltYWwpID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBVaW50MzJBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnRGVjaW1hbCc7XG4gICAgfSkoRGVjaW1hbC5wcm90b3R5cGUpO1xufVxuXG4vKiB0c2xpbnQ6ZGlzYWJsZTpjbGFzcy1uYW1lICovXG5leHBvcnQgaW50ZXJmYWNlIERhdGVfIGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5EYXRlPiB7IFRBcnJheTogSW50MzJBcnJheTsgVFZhbHVlOiBEYXRlOyB9XG5leHBvcnQgY2xhc3MgRGF0ZV8gZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkRhdGU+IHtcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgdW5pdDogRGF0ZVVuaXQpIHtcbiAgICAgICAgc3VwZXIoVHlwZS5EYXRlKTtcbiAgICB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYERhdGUkeyh0aGlzLnVuaXQgKyAxKSAqIDMyfTwke0RhdGVVbml0W3RoaXMudW5pdF19PmA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogRGF0ZV8pID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBJbnQzMkFycmF5O1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdEYXRlJztcbiAgICB9KShEYXRlXy5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRpbWUgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLlRpbWU+IHsgVEFycmF5OiBVaW50MzJBcnJheTsgVFZhbHVlOiBudW1iZXI7IH1cbmV4cG9ydCBjbGFzcyBUaW1lIGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5UaW1lPiB7XG4gICAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IHVuaXQ6IFRpbWVVbml0LFxuICAgICAgICAgICAgICAgIHB1YmxpYyByZWFkb25seSBiaXRXaWR0aDogVGltZUJpdFdpZHRoKSB7XG4gICAgICAgIHN1cGVyKFR5cGUuVGltZSk7XG4gICAgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBUaW1lJHt0aGlzLmJpdFdpZHRofTwke1RpbWVVbml0W3RoaXMudW5pdF19PmA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogVGltZSkgPT4ge1xuICAgICAgICAoPGFueT4gcHJvdG8pLkFycmF5VHlwZSA9IFVpbnQzMkFycmF5O1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdUaW1lJztcbiAgICB9KShUaW1lLnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGltZXN0YW1wIGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5UaW1lc3RhbXA+IHsgVEFycmF5OiBJbnQzMkFycmF5OyBUVmFsdWU6IG51bWJlcjsgfVxuZXhwb3J0IGNsYXNzIFRpbWVzdGFtcCBleHRlbmRzIERhdGFUeXBlPFR5cGUuVGltZXN0YW1wPiB7XG4gICAgY29uc3RydWN0b3IocHVibGljIHVuaXQ6IFRpbWVVbml0LCBwdWJsaWMgdGltZXpvbmU/OiBzdHJpbmcgfCBudWxsKSB7XG4gICAgICAgIHN1cGVyKFR5cGUuVGltZXN0YW1wKTtcbiAgICB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYFRpbWVzdGFtcDwke1RpbWVVbml0W3RoaXMudW5pdF19JHt0aGlzLnRpbWV6b25lID8gYCwgJHt0aGlzLnRpbWV6b25lfWAgOiBgYH0+YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBUaW1lc3RhbXApID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBJbnQzMkFycmF5O1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdUaW1lc3RhbXAnO1xuICAgIH0pKFRpbWVzdGFtcC5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEludGVydmFsIGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5JbnRlcnZhbD4geyBUQXJyYXk6IEludDMyQXJyYXk7IFRWYWx1ZTogSW50MzJBcnJheTsgfVxuZXhwb3J0IGNsYXNzIEludGVydmFsIGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5JbnRlcnZhbD4ge1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyB1bml0OiBJbnRlcnZhbFVuaXQpIHtcbiAgICAgICAgc3VwZXIoVHlwZS5JbnRlcnZhbCk7XG4gICAgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBJbnRlcnZhbDwke0ludGVydmFsVW5pdFt0aGlzLnVuaXRdfT5gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IEludGVydmFsKSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gSW50MzJBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnSW50ZXJ2YWwnO1xuICAgIH0pKEludGVydmFsLnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGlzdDxUIGV4dGVuZHMgRGF0YVR5cGUgPSBhbnk+IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5MaXN0PiAgeyBUQXJyYXk6IGFueTsgVFZhbHVlOiBWZWN0b3I8VD47IH1cbmV4cG9ydCBjbGFzcyBMaXN0PFQgZXh0ZW5kcyBEYXRhVHlwZSA9IGFueT4gZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkxpc3Q+IHtcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgY2hpbGRyZW46IEZpZWxkW10pIHtcbiAgICAgICAgc3VwZXIoVHlwZS5MaXN0LCBjaGlsZHJlbik7XG4gICAgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBMaXN0PCR7dGhpcy52YWx1ZVR5cGV9PmA7IH1cbiAgICBwdWJsaWMgZ2V0IEFycmF5VHlwZSgpIHsgcmV0dXJuIHRoaXMudmFsdWVUeXBlLkFycmF5VHlwZTsgfVxuICAgIHB1YmxpYyBnZXQgdmFsdWVUeXBlKCkgeyByZXR1cm4gdGhpcy5jaGlsZHJlblswXS50eXBlIGFzIFQ7IH1cbiAgICBwdWJsaWMgZ2V0IHZhbHVlRmllbGQoKSB7IHJldHVybiB0aGlzLmNoaWxkcmVuWzBdIGFzIEZpZWxkPFQ+OyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IExpc3QpID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnTGlzdCc7XG4gICAgfSkoTGlzdC5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cnVjdCBleHRlbmRzIERhdGFUeXBlPFR5cGUuU3RydWN0PiB7IFRBcnJheTogYW55OyBUVmFsdWU6IFZpZXc8YW55PjsgfVxuZXhwb3J0IGNsYXNzIFN0cnVjdCBleHRlbmRzIERhdGFUeXBlPFR5cGUuU3RydWN0PiB7XG4gICAgY29uc3RydWN0b3IocHVibGljIGNoaWxkcmVuOiBGaWVsZFtdKSB7XG4gICAgICAgIHN1cGVyKFR5cGUuU3RydWN0LCBjaGlsZHJlbik7XG4gICAgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBTdHJ1Y3Q8JHt0aGlzLmNoaWxkcmVuLm1hcCgoZikgPT4gZi50eXBlKS5qb2luKGAsIGApfT5gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IFN0cnVjdCkgPT4ge1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdTdHJ1Y3QnO1xuICAgIH0pKFN0cnVjdC5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVuaW9uPFRUeXBlIGV4dGVuZHMgVHlwZSA9IGFueT4gZXh0ZW5kcyBEYXRhVHlwZTxUVHlwZT4geyBUQXJyYXk6IEludDhBcnJheTsgVFZhbHVlOiBhbnk7IH1cbmV4cG9ydCBjbGFzcyBVbmlvbjxUVHlwZSBleHRlbmRzIFR5cGUgPSBhbnk+IGV4dGVuZHMgRGF0YVR5cGU8VFR5cGU+IHtcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgbW9kZTogVW5pb25Nb2RlLFxuICAgICAgICAgICAgICAgIHB1YmxpYyByZWFkb25seSB0eXBlSWRzOiBBcnJvd1R5cGVbXSxcbiAgICAgICAgICAgICAgICBwdWJsaWMgcmVhZG9ubHkgY2hpbGRyZW46IEZpZWxkW10pIHtcbiAgICAgICAgc3VwZXIoPFRUeXBlPiBUeXBlLlVuaW9uLCBjaGlsZHJlbik7XG4gICAgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGAke3RoaXNbU3ltYm9sLnRvU3RyaW5nVGFnXX08JHtcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5tYXAoKHgpID0+IGAke3gudHlwZX1gKS5qb2luKGAgfCBgKVxuICAgIH0+YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBVbmlvbikgPT4ge1xuICAgICAgICAoPGFueT4gcHJvdG8pLkFycmF5VHlwZSA9IEludDhBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnVW5pb24nO1xuICAgIH0pKFVuaW9uLnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCBjbGFzcyBEZW5zZVVuaW9uIGV4dGVuZHMgVW5pb248VHlwZS5EZW5zZVVuaW9uPiB7XG4gICAgY29uc3RydWN0b3IodHlwZUlkczogQXJyb3dUeXBlW10sIGNoaWxkcmVuOiBGaWVsZFtdKSB7XG4gICAgICAgIHN1cGVyKFVuaW9uTW9kZS5EZW5zZSwgdHlwZUlkcywgY2hpbGRyZW4pO1xuICAgIH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogRGVuc2VVbmlvbikgPT4ge1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdEZW5zZVVuaW9uJztcbiAgICB9KShEZW5zZVVuaW9uLnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCBjbGFzcyBTcGFyc2VVbmlvbiBleHRlbmRzIFVuaW9uPFR5cGUuU3BhcnNlVW5pb24+IHtcbiAgICBjb25zdHJ1Y3Rvcih0eXBlSWRzOiBBcnJvd1R5cGVbXSwgY2hpbGRyZW46IEZpZWxkW10pIHtcbiAgICAgICAgc3VwZXIoVW5pb25Nb2RlLlNwYXJzZSwgdHlwZUlkcywgY2hpbGRyZW4pO1xuICAgIH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogU3BhcnNlVW5pb24pID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnU3BhcnNlVW5pb24nO1xuICAgIH0pKFNwYXJzZVVuaW9uLnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRml4ZWRTaXplQmluYXJ5IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5GaXhlZFNpemVCaW5hcnk+IHsgVEFycmF5OiBVaW50OEFycmF5OyBUVmFsdWU6IFVpbnQ4QXJyYXk7IH1cbmV4cG9ydCBjbGFzcyBGaXhlZFNpemVCaW5hcnkgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkZpeGVkU2l6ZUJpbmFyeT4ge1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBieXRlV2lkdGg6IG51bWJlcikge1xuICAgICAgICBzdXBlcihUeXBlLkZpeGVkU2l6ZUJpbmFyeSk7XG4gICAgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBGaXhlZFNpemVCaW5hcnlbJHt0aGlzLmJ5dGVXaWR0aH1dYDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBGaXhlZFNpemVCaW5hcnkpID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBVaW50OEFycmF5O1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdGaXhlZFNpemVCaW5hcnknO1xuICAgIH0pKEZpeGVkU2l6ZUJpbmFyeS5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZpeGVkU2l6ZUxpc3Q8VCBleHRlbmRzIERhdGFUeXBlID0gYW55PiBleHRlbmRzIERhdGFUeXBlPFR5cGUuRml4ZWRTaXplTGlzdD4geyBUQXJyYXk6IGFueTsgVFZhbHVlOiBWZWN0b3I8VD47IH1cbmV4cG9ydCBjbGFzcyBGaXhlZFNpemVMaXN0PFQgZXh0ZW5kcyBEYXRhVHlwZSA9IGFueT4gZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkZpeGVkU2l6ZUxpc3Q+IHtcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgbGlzdFNpemU6IG51bWJlcixcbiAgICAgICAgICAgICAgICBwdWJsaWMgcmVhZG9ubHkgY2hpbGRyZW46IEZpZWxkW10pIHtcbiAgICAgICAgc3VwZXIoVHlwZS5GaXhlZFNpemVMaXN0LCBjaGlsZHJlbik7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgQXJyYXlUeXBlKCkgeyByZXR1cm4gdGhpcy52YWx1ZVR5cGUuQXJyYXlUeXBlOyB9XG4gICAgcHVibGljIGdldCB2YWx1ZVR5cGUoKSB7IHJldHVybiB0aGlzLmNoaWxkcmVuWzBdLnR5cGUgYXMgVDsgfVxuICAgIHB1YmxpYyBnZXQgdmFsdWVGaWVsZCgpIHsgcmV0dXJuIHRoaXMuY2hpbGRyZW5bMF0gYXMgRmllbGQ8VD47IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgRml4ZWRTaXplTGlzdFske3RoaXMubGlzdFNpemV9XTwke3RoaXMudmFsdWVUeXBlfT5gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IEZpeGVkU2l6ZUxpc3QpID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnRml4ZWRTaXplTGlzdCc7XG4gICAgfSkoRml4ZWRTaXplTGlzdC5wcm90b3R5cGUpO1xufVxuXG4vKiB0c2xpbnQ6ZGlzYWJsZTpjbGFzcy1uYW1lICovXG5leHBvcnQgaW50ZXJmYWNlIE1hcF8gZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLk1hcD4geyBUQXJyYXk6IFVpbnQ4QXJyYXk7IFRWYWx1ZTogVmlldzxhbnk+OyB9XG5leHBvcnQgY2xhc3MgTWFwXyBleHRlbmRzIERhdGFUeXBlPFR5cGUuTWFwPiB7XG4gICAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGtleXNTb3J0ZWQ6IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgcHVibGljIHJlYWRvbmx5IGNoaWxkcmVuOiBGaWVsZFtdKSB7XG4gICAgICAgIHN1cGVyKFR5cGUuTWFwLCBjaGlsZHJlbik7XG4gICAgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBNYXA8JHt0aGlzLmNoaWxkcmVuLmpvaW4oYCwgYCl9PmA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogTWFwXykgPT4ge1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdNYXBfJztcbiAgICB9KShNYXBfLnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGljdGlvbmFyeTxUIGV4dGVuZHMgRGF0YVR5cGUgPSBhbnk+IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5EaWN0aW9uYXJ5PiB7IFRBcnJheTogVFsnVEFycmF5J107IFRWYWx1ZTogVFsnVFZhbHVlJ107IH1cbmV4cG9ydCBjbGFzcyBEaWN0aW9uYXJ5PFQgZXh0ZW5kcyBEYXRhVHlwZT4gZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkRpY3Rpb25hcnk+IHtcbiAgICBwdWJsaWMgcmVhZG9ubHkgaWQ6IG51bWJlcjtcbiAgICBwdWJsaWMgcmVhZG9ubHkgZGljdGlvbmFyeTogVDtcbiAgICBwdWJsaWMgcmVhZG9ubHkgaW5kaWNlczogSW50PGFueT47XG4gICAgcHVibGljIHJlYWRvbmx5IGlzT3JkZXJlZDogYm9vbGVhbjtcbiAgICBjb25zdHJ1Y3RvcihkaWN0aW9uYXJ5OiBULCBpbmRpY2VzOiBJbnQ8YW55PiwgaWQ/OiBMb25nIHwgbnVtYmVyIHwgbnVsbCwgaXNPcmRlcmVkPzogYm9vbGVhbiB8IG51bGwpIHtcbiAgICAgICAgc3VwZXIoVHlwZS5EaWN0aW9uYXJ5KTtcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gaW5kaWNlcztcbiAgICAgICAgdGhpcy5kaWN0aW9uYXJ5ID0gZGljdGlvbmFyeTtcbiAgICAgICAgdGhpcy5pc09yZGVyZWQgPSBpc09yZGVyZWQgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMuaWQgPSBpZCA9PSBudWxsID8gRGljdGlvbmFyeUJhdGNoLmdldElkKCkgOiB0eXBlb2YgaWQgPT09ICdudW1iZXInID8gaWQgOiBpZC5sb3c7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgQXJyYXlUeXBlKCkgeyByZXR1cm4gdGhpcy5kaWN0aW9uYXJ5LkFycmF5VHlwZTsgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBEaWN0aW9uYXJ5PCR7dGhpcy5pbmRpY2VzfSwgJHt0aGlzLmRpY3Rpb25hcnl9PmA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogRGljdGlvbmFyeSkgPT4ge1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdEaWN0aW9uYXJ5JztcbiAgICB9KShEaWN0aW9uYXJ5LnByb3RvdHlwZSk7XG59XG5leHBvcnQgaW50ZXJmYWNlIEl0ZXJhYmxlQXJyYXlMaWtlPFQgPSBhbnk+IGV4dGVuZHMgQXJyYXlMaWtlPFQ+LCBJdGVyYWJsZTxUPiB7fVxuXG5leHBvcnQgaW50ZXJmYWNlIFR5cGVkQXJyYXlDb25zdHJ1Y3RvcjxUIGV4dGVuZHMgVHlwZWRBcnJheSA9IFR5cGVkQXJyYXk+IHtcbiAgICByZWFkb25seSBwcm90b3R5cGU6IFQ7XG4gICAgcmVhZG9ubHkgQllURVNfUEVSX0VMRU1FTlQ6IG51bWJlcjtcbiAgICBuZXcgKGxlbmd0aDogbnVtYmVyKTogVDtcbiAgICBuZXcgKGVsZW1lbnRzOiBJdGVyYWJsZTxudW1iZXI+KTogVDtcbiAgICBuZXcgKGFycmF5T3JBcnJheUJ1ZmZlcjogQXJyYXlMaWtlPG51bWJlcj4gfCBBcnJheUJ1ZmZlckxpa2UpOiBUO1xuICAgIG5ldyAoYnVmZmVyOiBBcnJheUJ1ZmZlckxpa2UsIGJ5dGVPZmZzZXQ6IG51bWJlciwgbGVuZ3RoPzogbnVtYmVyKTogVDtcbiAgICBvZiguLi5pdGVtczogbnVtYmVyW10pOiBUO1xuICAgIGZyb20oYXJyYXlMaWtlOiBBcnJheUxpa2U8bnVtYmVyPiB8IEl0ZXJhYmxlPG51bWJlcj4sIG1hcGZuPzogKHY6IG51bWJlciwgazogbnVtYmVyKSA9PiBudW1iZXIsIHRoaXNBcmc/OiBhbnkpOiBUO1xufVxuXG5leHBvcnQgdHlwZSBGbG9hdEFycmF5ID0gVWludDE2QXJyYXkgfCBGbG9hdDMyQXJyYXkgfCBGbG9hdDY0QXJyYXk7XG5leHBvcnQgdHlwZSBJbnRBcnJheSA9IEludDhBcnJheSB8IEludDE2QXJyYXkgfCBJbnQzMkFycmF5IHwgVWludDhBcnJheSB8IFVpbnQxNkFycmF5IHwgVWludDMyQXJyYXk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHlwZWRBcnJheSBleHRlbmRzIEl0ZXJhYmxlPG51bWJlcj4ge1xuICAgIFtpbmRleDogbnVtYmVyXTogbnVtYmVyO1xuICAgIHJlYWRvbmx5IGxlbmd0aDogbnVtYmVyO1xuICAgIHJlYWRvbmx5IGJ5dGVMZW5ndGg6IG51bWJlcjtcbiAgICByZWFkb25seSBieXRlT2Zmc2V0OiBudW1iZXI7XG4gICAgcmVhZG9ubHkgYnVmZmVyOiBBcnJheUJ1ZmZlckxpa2U7XG4gICAgcmVhZG9ubHkgQllURVNfUEVSX0VMRU1FTlQ6IG51bWJlcjtcbiAgICBbU3ltYm9sLnRvU3RyaW5nVGFnXTogYW55O1xuICAgIFtTeW1ib2wuaXRlcmF0b3JdKCk6IEl0ZXJhYmxlSXRlcmF0b3I8bnVtYmVyPjtcbiAgICBlbnRyaWVzKCk6IEl0ZXJhYmxlSXRlcmF0b3I8W251bWJlciwgbnVtYmVyXT47XG4gICAga2V5cygpOiBJdGVyYWJsZUl0ZXJhdG9yPG51bWJlcj47XG4gICAgdmFsdWVzKCk6IEl0ZXJhYmxlSXRlcmF0b3I8bnVtYmVyPjtcbiAgICBjb3B5V2l0aGluKHRhcmdldDogbnVtYmVyLCBzdGFydDogbnVtYmVyLCBlbmQ/OiBudW1iZXIpOiB0aGlzO1xuICAgIGV2ZXJ5KGNhbGxiYWNrZm46ICh2YWx1ZTogbnVtYmVyLCBpbmRleDogbnVtYmVyLCBhcnJheTogVHlwZWRBcnJheSkgPT4gYm9vbGVhbiwgdGhpc0FyZz86IGFueSk6IGJvb2xlYW47XG4gICAgZmlsbCh2YWx1ZTogbnVtYmVyLCBzdGFydD86IG51bWJlciwgZW5kPzogbnVtYmVyKTogdGhpcztcbiAgICBmaWx0ZXIoY2FsbGJhY2tmbjogKHZhbHVlOiBudW1iZXIsIGluZGV4OiBudW1iZXIsIGFycmF5OiBUeXBlZEFycmF5KSA9PiBhbnksIHRoaXNBcmc/OiBhbnkpOiBUeXBlZEFycmF5O1xuICAgIGZpbmQocHJlZGljYXRlOiAodmFsdWU6IG51bWJlciwgaW5kZXg6IG51bWJlciwgb2JqOiBUeXBlZEFycmF5KSA9PiBib29sZWFuLCB0aGlzQXJnPzogYW55KTogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAgIGZpbmRJbmRleChwcmVkaWNhdGU6ICh2YWx1ZTogbnVtYmVyLCBpbmRleDogbnVtYmVyLCBvYmo6IFR5cGVkQXJyYXkpID0+IGJvb2xlYW4sIHRoaXNBcmc/OiBhbnkpOiBudW1iZXI7XG4gICAgZm9yRWFjaChjYWxsYmFja2ZuOiAodmFsdWU6IG51bWJlciwgaW5kZXg6IG51bWJlciwgYXJyYXk6IFR5cGVkQXJyYXkpID0+IHZvaWQsIHRoaXNBcmc/OiBhbnkpOiB2b2lkO1xuICAgIGluY2x1ZGVzKHNlYXJjaEVsZW1lbnQ6IG51bWJlciwgZnJvbUluZGV4PzogbnVtYmVyKTogYm9vbGVhbjtcbiAgICBpbmRleE9mKHNlYXJjaEVsZW1lbnQ6IG51bWJlciwgZnJvbUluZGV4PzogbnVtYmVyKTogbnVtYmVyO1xuICAgIGpvaW4oc2VwYXJhdG9yPzogc3RyaW5nKTogc3RyaW5nO1xuICAgIGxhc3RJbmRleE9mKHNlYXJjaEVsZW1lbnQ6IG51bWJlciwgZnJvbUluZGV4PzogbnVtYmVyKTogbnVtYmVyO1xuICAgIG1hcChjYWxsYmFja2ZuOiAodmFsdWU6IG51bWJlciwgaW5kZXg6IG51bWJlciwgYXJyYXk6IFR5cGVkQXJyYXkpID0+IG51bWJlciwgdGhpc0FyZz86IGFueSk6IFR5cGVkQXJyYXk7XG4gICAgcmVkdWNlKGNhbGxiYWNrZm46IChwcmV2aW91c1ZhbHVlOiBudW1iZXIsIGN1cnJlbnRWYWx1ZTogbnVtYmVyLCBjdXJyZW50SW5kZXg6IG51bWJlciwgYXJyYXk6IFR5cGVkQXJyYXkpID0+IG51bWJlcik6IG51bWJlcjtcbiAgICByZWR1Y2UoY2FsbGJhY2tmbjogKHByZXZpb3VzVmFsdWU6IG51bWJlciwgY3VycmVudFZhbHVlOiBudW1iZXIsIGN1cnJlbnRJbmRleDogbnVtYmVyLCBhcnJheTogVHlwZWRBcnJheSkgPT4gbnVtYmVyLCBpbml0aWFsVmFsdWU6IG51bWJlcik6IG51bWJlcjtcbiAgICByZWR1Y2U8VT4oY2FsbGJhY2tmbjogKHByZXZpb3VzVmFsdWU6IFUsIGN1cnJlbnRWYWx1ZTogbnVtYmVyLCBjdXJyZW50SW5kZXg6IG51bWJlciwgYXJyYXk6IFR5cGVkQXJyYXkpID0+IFUsIGluaXRpYWxWYWx1ZTogVSk6IFU7XG4gICAgcmVkdWNlUmlnaHQoY2FsbGJhY2tmbjogKHByZXZpb3VzVmFsdWU6IG51bWJlciwgY3VycmVudFZhbHVlOiBudW1iZXIsIGN1cnJlbnRJbmRleDogbnVtYmVyLCBhcnJheTogVHlwZWRBcnJheSkgPT4gbnVtYmVyKTogbnVtYmVyO1xuICAgIHJlZHVjZVJpZ2h0KGNhbGxiYWNrZm46IChwcmV2aW91c1ZhbHVlOiBudW1iZXIsIGN1cnJlbnRWYWx1ZTogbnVtYmVyLCBjdXJyZW50SW5kZXg6IG51bWJlciwgYXJyYXk6IFR5cGVkQXJyYXkpID0+IG51bWJlciwgaW5pdGlhbFZhbHVlOiBudW1iZXIpOiBudW1iZXI7XG4gICAgcmVkdWNlUmlnaHQ8VT4oY2FsbGJhY2tmbjogKHByZXZpb3VzVmFsdWU6IFUsIGN1cnJlbnRWYWx1ZTogbnVtYmVyLCBjdXJyZW50SW5kZXg6IG51bWJlciwgYXJyYXk6IFR5cGVkQXJyYXkpID0+IFUsIGluaXRpYWxWYWx1ZTogVSk6IFU7XG4gICAgcmV2ZXJzZSgpOiBUeXBlZEFycmF5O1xuICAgIHNldChhcnJheTogQXJyYXlMaWtlPG51bWJlcj4sIG9mZnNldD86IG51bWJlcik6IHZvaWQ7XG4gICAgc2xpY2Uoc3RhcnQ/OiBudW1iZXIsIGVuZD86IG51bWJlcik6IFR5cGVkQXJyYXk7XG4gICAgc29tZShjYWxsYmFja2ZuOiAodmFsdWU6IG51bWJlciwgaW5kZXg6IG51bWJlciwgYXJyYXk6IFR5cGVkQXJyYXkpID0+IGJvb2xlYW4sIHRoaXNBcmc/OiBhbnkpOiBib29sZWFuO1xuICAgIHNvcnQoY29tcGFyZUZuPzogKGE6IG51bWJlciwgYjogbnVtYmVyKSA9PiBudW1iZXIpOiB0aGlzO1xuICAgIHN1YmFycmF5KGJlZ2luOiBudW1iZXIsIGVuZD86IG51bWJlcik6IFR5cGVkQXJyYXk7XG4gICAgdG9Mb2NhbGVTdHJpbmcoKTogc3RyaW5nO1xuICAgIHRvU3RyaW5nKCk6IHN0cmluZztcbn1cbiJdfQ==
