"use strict";
// Licensed to the Apache Software Foundation (ASF) under one
// or more contributor license agreements.  See the NOTICE file
// distributed with this work for additional information
// regarding copyright ownership.  The ASF licenses this file
// to you under the Apache License, Version 2.0 (the
// "License"); you may not use this file except in compliance
// with the License.  You may obtain a copy of the License at
//
//   http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing,
// software distributed under the License is distributed on an
// "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
// KIND, either express or implied.  See the License for the
// specific language governing permissions and limitations
// under the License.
Object.defineProperty(exports, "__esModule", { value: true });
const typecomparator_1 = require("./visitor/typecomparator");
const enum_1 = require("./enum");
class DataType {
    constructor(_children) {
        this._children = _children;
    }
    /** @nocollapse */ static isNull(x) { return x && x.typeId === enum_1.Type.Null; }
    /** @nocollapse */ static isInt(x) { return x && x.typeId === enum_1.Type.Int; }
    /** @nocollapse */ static isFloat(x) { return x && x.typeId === enum_1.Type.Float; }
    /** @nocollapse */ static isBinary(x) { return x && x.typeId === enum_1.Type.Binary; }
    /** @nocollapse */ static isUtf8(x) { return x && x.typeId === enum_1.Type.Utf8; }
    /** @nocollapse */ static isBool(x) { return x && x.typeId === enum_1.Type.Bool; }
    /** @nocollapse */ static isDecimal(x) { return x && x.typeId === enum_1.Type.Decimal; }
    /** @nocollapse */ static isDate(x) { return x && x.typeId === enum_1.Type.Date; }
    /** @nocollapse */ static isTime(x) { return x && x.typeId === enum_1.Type.Time; }
    /** @nocollapse */ static isTimestamp(x) { return x && x.typeId === enum_1.Type.Timestamp; }
    /** @nocollapse */ static isInterval(x) { return x && x.typeId === enum_1.Type.Interval; }
    /** @nocollapse */ static isList(x) { return x && x.typeId === enum_1.Type.List; }
    /** @nocollapse */ static isStruct(x) { return x && x.typeId === enum_1.Type.Struct; }
    /** @nocollapse */ static isUnion(x) { return x && x.typeId === enum_1.Type.Union; }
    /** @nocollapse */ static isFixedSizeBinary(x) { return x && x.typeId === enum_1.Type.FixedSizeBinary; }
    /** @nocollapse */ static isFixedSizeList(x) { return x && x.typeId === enum_1.Type.FixedSizeList; }
    /** @nocollapse */ static isMap(x) { return x && x.typeId === enum_1.Type.Map; }
    /** @nocollapse */ static isDictionary(x) { return x && x.typeId === enum_1.Type.Dictionary; }
    get children() { return this._children; }
    get typeId() { return enum_1.Type.NONE; }
    compareTo(other) {
        return typecomparator_1.instance.visit(this, other);
    }
}
DataType[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Array;
    return proto[Symbol.toStringTag] = 'DataType';
})(DataType.prototype);
exports.DataType = DataType;
class Null extends DataType {
    toString() { return `Null`; }
    get typeId() { return enum_1.Type.Null; }
}
Null[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Null';
})(Null.prototype);
exports.Null = Null;
class Int_ extends DataType {
    constructor(_isSigned, _bitWidth) {
        super();
        this._isSigned = _isSigned;
        this._bitWidth = _bitWidth;
    }
    get typeId() { return enum_1.Type.Int; }
    get isSigned() { return this._isSigned; }
    get bitWidth() { return this._bitWidth; }
    get ArrayType() {
        switch (this._bitWidth) {
            case 8: return (this._isSigned ? Int8Array : Uint8Array);
            case 16: return (this._isSigned ? Int16Array : Uint16Array);
            case 32: return (this._isSigned ? Int32Array : Uint32Array);
            case 64: return (this._isSigned ? Int32Array : Uint32Array);
        }
        throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`);
    }
    toString() { return `${this._isSigned ? `I` : `Ui`}nt${this._bitWidth}`; }
}
Int_[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Int';
})(Int_.prototype);
exports.Int = Int_;
class Int8 extends Int_ {
    constructor() { super(true, 8); }
}
exports.Int8 = Int8;
class Int16 extends Int_ {
    constructor() { super(true, 16); }
}
exports.Int16 = Int16;
class Int32 extends Int_ {
    constructor() { super(true, 32); }
}
exports.Int32 = Int32;
class Int64 extends Int_ {
    constructor() { super(true, 64); }
}
exports.Int64 = Int64;
class Uint8 extends Int_ {
    constructor() { super(false, 8); }
}
exports.Uint8 = Uint8;
class Uint16 extends Int_ {
    constructor() { super(false, 16); }
}
exports.Uint16 = Uint16;
class Uint32 extends Int_ {
    constructor() { super(false, 32); }
}
exports.Uint32 = Uint32;
class Uint64 extends Int_ {
    constructor() { super(false, 64); }
}
exports.Uint64 = Uint64;
class Float extends DataType {
    constructor(_precision) {
        super();
        this._precision = _precision;
    }
    get typeId() { return enum_1.Type.Float; }
    get precision() { return this._precision; }
    get ArrayType() {
        switch (this.precision) {
            case enum_1.Precision.HALF: return Uint16Array;
            case enum_1.Precision.SINGLE: return Float32Array;
            case enum_1.Precision.DOUBLE: return Float64Array;
        }
        throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`);
    }
    toString() { return `Float${(this.precision << 5) || 16}`; }
}
Float[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Float';
})(Float.prototype);
exports.Float = Float;
class Float16 extends Float {
    constructor() { super(enum_1.Precision.HALF); }
}
exports.Float16 = Float16;
class Float32 extends Float {
    constructor() { super(enum_1.Precision.SINGLE); }
}
exports.Float32 = Float32;
class Float64 extends Float {
    constructor() { super(enum_1.Precision.DOUBLE); }
}
exports.Float64 = Float64;
class Binary extends DataType {
    constructor() {
        super();
    }
    get typeId() { return enum_1.Type.Binary; }
    toString() { return `Binary`; }
}
Binary[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'Binary';
})(Binary.prototype);
exports.Binary = Binary;
class Utf8 extends DataType {
    constructor() {
        super();
    }
    get typeId() { return enum_1.Type.Utf8; }
    toString() { return `Utf8`; }
}
Utf8[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'Utf8';
})(Utf8.prototype);
exports.Utf8 = Utf8;
class Bool extends DataType {
    constructor() {
        super();
    }
    get typeId() { return enum_1.Type.Bool; }
    toString() { return `Bool`; }
}
Bool[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'Bool';
})(Bool.prototype);
exports.Bool = Bool;
class Decimal extends DataType {
    constructor(_scale, _precision) {
        super();
        this._scale = _scale;
        this._precision = _precision;
    }
    get typeId() { return enum_1.Type.Decimal; }
    get scale() { return this._scale; }
    get precision() { return this._precision; }
    toString() { return `Decimal[${this._precision}e${this._scale > 0 ? `+` : ``}${this._scale}]`; }
}
Decimal[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint32Array;
    return proto[Symbol.toStringTag] = 'Decimal';
})(Decimal.prototype);
exports.Decimal = Decimal;
class Date_ extends DataType {
    constructor(_unit) {
        super();
        this._unit = _unit;
    }
    get typeId() { return enum_1.Type.Date; }
    get unit() { return this._unit; }
    toString() { return `Date${(this._unit + 1) * 32}<${enum_1.DateUnit[this._unit]}>`; }
}
Date_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int32Array;
    return proto[Symbol.toStringTag] = 'Date';
})(Date_.prototype);
exports.Date_ = Date_;
class DateDay extends Date_ {
    constructor() { super(enum_1.DateUnit.DAY); }
}
exports.DateDay = DateDay;
class DateMillisecond extends Date_ {
    constructor() { super(enum_1.DateUnit.MILLISECOND); }
}
exports.DateMillisecond = DateMillisecond;
class Time_ extends DataType {
    constructor(_unit, _bitWidth) {
        super();
        this._unit = _unit;
        this._bitWidth = _bitWidth;
    }
    get typeId() { return enum_1.Type.Time; }
    get unit() { return this._unit; }
    get bitWidth() { return this._bitWidth; }
    toString() { return `Time${this._bitWidth}<${enum_1.TimeUnit[this._unit]}>`; }
}
Time_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int32Array;
    return proto[Symbol.toStringTag] = 'Time';
})(Time_.prototype);
exports.Time = Time_;
class TimeSecond extends Time_ {
    constructor() { super(enum_1.TimeUnit.SECOND, 32); }
}
exports.TimeSecond = TimeSecond;
class TimeMillisecond extends Time_ {
    constructor() { super(enum_1.TimeUnit.MILLISECOND, 32); }
}
exports.TimeMillisecond = TimeMillisecond;
class TimeMicrosecond extends Time_ {
    constructor() { super(enum_1.TimeUnit.MICROSECOND, 64); }
}
exports.TimeMicrosecond = TimeMicrosecond;
class TimeNanosecond extends Time_ {
    constructor() { super(enum_1.TimeUnit.NANOSECOND, 64); }
}
exports.TimeNanosecond = TimeNanosecond;
class Timestamp_ extends DataType {
    constructor(_unit, _timezone) {
        super();
        this._unit = _unit;
        this._timezone = _timezone;
    }
    get typeId() { return enum_1.Type.Timestamp; }
    get unit() { return this._unit; }
    get timezone() { return this._timezone; }
    toString() { return `Timestamp<${enum_1.TimeUnit[this._unit]}${this._timezone ? `, ${this._timezone}` : ``}>`; }
}
Timestamp_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int32Array;
    return proto[Symbol.toStringTag] = 'Timestamp';
})(Timestamp_.prototype);
exports.Timestamp = Timestamp_;
class TimestampSecond extends Timestamp_ {
    constructor(timezone) { super(enum_1.TimeUnit.SECOND, timezone); }
}
exports.TimestampSecond = TimestampSecond;
class TimestampMillisecond extends Timestamp_ {
    constructor(timezone) { super(enum_1.TimeUnit.MILLISECOND, timezone); }
}
exports.TimestampMillisecond = TimestampMillisecond;
class TimestampMicrosecond extends Timestamp_ {
    constructor(timezone) { super(enum_1.TimeUnit.MICROSECOND, timezone); }
}
exports.TimestampMicrosecond = TimestampMicrosecond;
class TimestampNanosecond extends Timestamp_ {
    constructor(timezone) { super(enum_1.TimeUnit.NANOSECOND, timezone); }
}
exports.TimestampNanosecond = TimestampNanosecond;
class Interval_ extends DataType {
    constructor(_unit) {
        super();
        this._unit = _unit;
    }
    get typeId() { return enum_1.Type.Interval; }
    get unit() { return this._unit; }
    toString() { return `Interval<${enum_1.IntervalUnit[this._unit]}>`; }
}
Interval_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int32Array;
    return proto[Symbol.toStringTag] = 'Interval';
})(Interval_.prototype);
exports.Interval = Interval_;
class IntervalDayTime extends Interval_ {
    constructor() { super(enum_1.IntervalUnit.DAY_TIME); }
}
exports.IntervalDayTime = IntervalDayTime;
class IntervalYearMonth extends Interval_ {
    constructor() { super(enum_1.IntervalUnit.YEAR_MONTH); }
}
exports.IntervalYearMonth = IntervalYearMonth;
class List extends DataType {
    constructor(child) {
        super([child]);
    }
    get typeId() { return enum_1.Type.List; }
    toString() { return `List<${this.valueType}>`; }
    get children() { return this._children; }
    get valueType() { return this._children[0].type; }
    get valueField() { return this._children[0]; }
    get ArrayType() { return this.valueType.ArrayType; }
}
List[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'List';
})(List.prototype);
exports.List = List;
class Struct extends DataType {
    constructor(_children) {
        super(_children);
        this._children = _children;
    }
    get typeId() { return enum_1.Type.Struct; }
    get children() { return this._children; }
    toString() { return `Struct<[${this._children.map((f) => f.type).join(`, `)}]>`; }
}
Struct[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Struct';
})(Struct.prototype);
exports.Struct = Struct;
class Union_ extends DataType {
    constructor(_mode, _typeIds, _children) {
        super(_children);
        this._mode = _mode;
        this._children = _children;
        this._typeIds = _typeIds = Int32Array.from(_typeIds);
        this._typeIdToChildIndex = _typeIds.reduce((typeIdToChildIndex, typeId, idx) => {
            return (typeIdToChildIndex[typeId] = idx) && typeIdToChildIndex || typeIdToChildIndex;
        }, Object.create(null));
    }
    get typeId() { return enum_1.Type.Union; }
    get mode() { return this._mode; }
    get typeIds() { return this._typeIds; }
    get children() { return this._children; }
    get typeIdToChildIndex() { return this._typeIdToChildIndex; }
    toString() {
        return `${this[Symbol.toStringTag]}<${this._children.map((x) => `${x.type}`).join(` | `)}>`;
    }
}
Union_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int32Array;
    return proto[Symbol.toStringTag] = 'Union';
})(Union_.prototype);
exports.Union = Union_;
class DenseUnion extends Union_ {
    constructor(typeIds, children) {
        super(enum_1.UnionMode.Dense, typeIds, children);
    }
}
exports.DenseUnion = DenseUnion;
class SparseUnion extends Union_ {
    constructor(typeIds, children) {
        super(enum_1.UnionMode.Sparse, typeIds, children);
    }
}
exports.SparseUnion = SparseUnion;
class FixedSizeBinary extends DataType {
    constructor(_byteWidth) {
        super();
        this._byteWidth = _byteWidth;
    }
    get typeId() { return enum_1.Type.FixedSizeBinary; }
    get byteWidth() { return this._byteWidth; }
    toString() { return `FixedSizeBinary[${this.byteWidth}]`; }
}
FixedSizeBinary[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'FixedSizeBinary';
})(FixedSizeBinary.prototype);
exports.FixedSizeBinary = FixedSizeBinary;
class FixedSizeList extends DataType {
    constructor(_listSize, child) {
        super([child]);
        this._listSize = _listSize;
    }
    get typeId() { return enum_1.Type.FixedSizeList; }
    get listSize() { return this._listSize; }
    get children() { return this._children; }
    get valueType() { return this.children[0].type; }
    get valueField() { return this.children[0]; }
    get ArrayType() { return this.valueType.ArrayType; }
    toString() { return `FixedSizeList[${this._listSize}]<${this.valueType}>`; }
}
FixedSizeList[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'FixedSizeList';
})(FixedSizeList.prototype);
exports.FixedSizeList = FixedSizeList;
class Map_ extends DataType {
    constructor(_children, _keysSorted = false) {
        super(_children);
        this._children = _children;
        this._keysSorted = _keysSorted;
    }
    get typeId() { return enum_1.Type.Map; }
    get children() { return this._children; }
    get keysSorted() { return this._keysSorted; }
    toString() { return `Map<{${this._children.map((f) => `${f.name}:${f.type}`).join(`, `)}}>`; }
}
Map_[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Map_';
})(Map_.prototype);
exports.Map_ = Map_;
/** @ignore */
const getId = ((atomicDictionaryId) => () => ++atomicDictionaryId)(-1);
class Dictionary extends DataType {
    constructor(dictionary, indices, id, isOrdered, dictionaryVector) {
        super();
        this._indices = indices;
        this._dictionary = dictionary;
        this._isOrdered = isOrdered || false;
        this._dictionaryVector = dictionaryVector;
        this._id = id == null ? getId() : typeof id === 'number' ? id : id.low;
    }
    set dictionaryVector(v) { this._dictionaryVector = v; }
    get dictionaryVector() { return this._dictionaryVector; }
    get typeId() { return enum_1.Type.Dictionary; }
    get id() { return this._id; }
    get indices() { return this._indices; }
    get dictionary() { return this._dictionary; }
    get isOrdered() { return this._isOrdered; }
    set children(_) { }
    get children() { return this.dictionary.children; }
    get valueType() { return this.dictionary; }
    get ArrayType() { return this.dictionary.ArrayType; }
    toString() { return `Dictionary<${this.indices}, ${this.dictionary}>`; }
}
Dictionary[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Dictionary';
})(Dictionary.prototype);
exports.Dictionary = Dictionary;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInR5cGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLDZEQUE2RDtBQUM3RCwrREFBK0Q7QUFDL0Qsd0RBQXdEO0FBQ3hELDZEQUE2RDtBQUM3RCxvREFBb0Q7QUFDcEQsNkRBQTZEO0FBQzdELDZEQUE2RDtBQUM3RCxFQUFFO0FBQ0YsK0NBQStDO0FBQy9DLEVBQUU7QUFDRiw2REFBNkQ7QUFDN0QsOERBQThEO0FBQzlELHlEQUF5RDtBQUN6RCw0REFBNEQ7QUFDNUQsMERBQTBEO0FBQzFELHFCQUFxQjs7QUFTckIsNkRBQWdFO0FBR2hFLGlDQUlnQjtBQXVCaEIsTUFBYSxRQUFRO0lBMkJqQixZQUFzQixTQUErQztRQUEvQyxjQUFTLEdBQVQsU0FBUyxDQUFzQztJQUFHLENBQUM7SUF0QnpFLGtCQUFrQixDQUFDLE1BQU0sQ0FBWSxNQUFNLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxLQUFLLFdBQUksQ0FBQyxJQUFJLENBQUMsQ0FBWSxDQUFDO0lBQzdILGtCQUFrQixDQUFDLE1BQU0sQ0FBYSxLQUFLLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxLQUFLLFdBQUksQ0FBQyxHQUFHLENBQUMsQ0FBYSxDQUFDO0lBQzdILGtCQUFrQixDQUFDLE1BQU0sQ0FBVyxPQUFPLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxLQUFLLFdBQUksQ0FBQyxLQUFLLENBQUMsQ0FBVyxDQUFDO0lBQzdILGtCQUFrQixDQUFDLE1BQU0sQ0FBVSxRQUFRLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxLQUFLLFdBQUksQ0FBQyxNQUFNLENBQUMsQ0FBVSxDQUFDO0lBQzdILGtCQUFrQixDQUFDLE1BQU0sQ0FBWSxNQUFNLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxLQUFLLFdBQUksQ0FBQyxJQUFJLENBQUMsQ0FBWSxDQUFDO0lBQzdILGtCQUFrQixDQUFDLE1BQU0sQ0FBWSxNQUFNLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxLQUFLLFdBQUksQ0FBQyxJQUFJLENBQUMsQ0FBWSxDQUFDO0lBQzdILGtCQUFrQixDQUFDLE1BQU0sQ0FBUyxTQUFTLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxLQUFLLFdBQUksQ0FBQyxPQUFPLENBQUMsQ0FBUyxDQUFDO0lBQzdILGtCQUFrQixDQUFDLE1BQU0sQ0FBWSxNQUFNLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxLQUFLLFdBQUksQ0FBQyxJQUFJLENBQUMsQ0FBWSxDQUFDO0lBQzdILGtCQUFrQixDQUFDLE1BQU0sQ0FBWSxNQUFNLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxLQUFLLFdBQUksQ0FBQyxJQUFJLENBQUMsQ0FBWSxDQUFDO0lBQzdILGtCQUFrQixDQUFDLE1BQU0sQ0FBTyxXQUFXLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxLQUFLLFdBQUksQ0FBQyxTQUFTLENBQUMsQ0FBTyxDQUFDO0lBQzdILGtCQUFrQixDQUFDLE1BQU0sQ0FBUSxVQUFVLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxLQUFLLFdBQUksQ0FBQyxRQUFRLENBQUMsQ0FBUSxDQUFDO0lBQzdILGtCQUFrQixDQUFDLE1BQU0sQ0FBWSxNQUFNLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxLQUFLLFdBQUksQ0FBQyxJQUFJLENBQUMsQ0FBWSxDQUFDO0lBQzdILGtCQUFrQixDQUFDLE1BQU0sQ0FBVSxRQUFRLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENB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QyxDQUFDLENBQUM7SUFDOUMsSUFBVyxVQUFVLEtBQUssT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztJQUNwRCxJQUFXLFNBQVMsS0FBSyxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO0lBQ2xELElBQVcsUUFBUSxDQUFDLENBQWdCLElBQUcsQ0FBQztJQUN4QyxJQUFXLFFBQVEsS0FBSyxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztJQUMxRCxJQUFXLFNBQVMsS0FBUSxPQUFPLElBQUksQ0FBQyxVQUFlLENBQUMsQ0FBQyxDQUFDO0lBQzFELElBQVcsU0FBUyxLQUFxQixPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztJQUNyRSxRQUFRLEtBQUssT0FBTyxjQUFjLElBQUksQ0FBQyxPQUFPLEtBQUssSUFBSSxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUMsQ0FBQzs7QUFDOUQsV0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQWlCLEVBQUUsRUFBRTtJQUMzRCxPQUFPLEtBQUssQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsWUFBWSxDQUFDO0FBQ3BELENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsQ0FBQztBQTVCN0IsZ0NBNkJDIiwiZmlsZSI6InR5cGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4vLyBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbi8vIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4vLyByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4vLyB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4vLyBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Vcbi8vIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbi8vIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4vLyBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuLy8gS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4vLyBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4vLyB1bmRlciB0aGUgTGljZW5zZS5cblxuLyogdHNsaW50OmRpc2FibGU6Y2xhc3MtbmFtZSAqL1xuXG5pbXBvcnQgeyBGaWVsZCB9IGZyb20gJy4vc2NoZW1hJztcbmltcG9ydCB7IFZlY3RvciB9IGZyb20gJy4vdmVjdG9yJztcbmltcG9ydCB7IGZsYXRidWZmZXJzIH0gZnJvbSAnZmxhdGJ1ZmZlcnMnO1xuaW1wb3J0IHsgQXJyYXlCdWZmZXJWaWV3Q29uc3RydWN0b3IgfSBmcm9tICcuL2ludGVyZmFjZXMnO1xuaW1wb3J0IHsgVmVjdG9yIGFzIFZUeXBlLCBUeXBlVG9EYXRhVHlwZSB9IGZyb20gJy4vaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBpbnN0YW5jZSBhcyBjb21wYXJlciB9IGZyb20gJy4vdmlzaXRvci90eXBlY29tcGFyYXRvcic7XG5cbmltcG9ydCBMb25nID0gZmxhdGJ1ZmZlcnMuTG9uZztcbmltcG9ydCB7XG4gICAgVHlwZSxcbiAgICBQcmVjaXNpb24sIFVuaW9uTW9kZSxcbiAgICBEYXRlVW5pdCwgVGltZVVuaXQsIEludGVydmFsVW5pdFxufSBmcm9tICcuL2VudW0nO1xuXG4vKiogQGlnbm9yZSAqL1xuZXhwb3J0IHR5cGUgVGltZUJpdFdpZHRoID0gMzIgfCA2NDtcbi8qKiBAaWdub3JlICovXG5leHBvcnQgdHlwZSBJbnRCaXRXaWR0aCA9IDggfCAxNiB8IDMyIHwgNjQ7XG4vKiogQGlnbm9yZSAqL1xuZXhwb3J0IHR5cGUgSXNTaWduZWQgPSB7ICd0cnVlJzogdHJ1ZTsgJ2ZhbHNlJzogZmFsc2UgfTtcbi8qKiBAaWdub3JlICovXG5leHBvcnQgdHlwZSBSb3dMaWtlPFQgZXh0ZW5kcyB7IFtrZXk6IHN0cmluZ106IERhdGFUeXBlOyB9PiA9XG4gICAgICB7IHJlYWRvbmx5IGxlbmd0aDogbnVtYmVyIH1cbiAgICAmICggSXRlcmFibGU8VFtrZXlvZiBUXVsnVFZhbHVlJ10+IClcbiAgICAmIHsgW1AgaW4ga2V5b2YgVF06IFRbUF1bJ1RWYWx1ZSddIH1cbiAgICAmIHsgZ2V0PEsgZXh0ZW5kcyBrZXlvZiBUPihrZXk6IEspOiBUW0tdWydUVmFsdWUnXTsgfVxuICAgIDtcblxuZXhwb3J0IGludGVyZmFjZSBEYXRhVHlwZTxUVHlwZSBleHRlbmRzIFR5cGUgPSBUeXBlPiB7XG4gICAgcmVhZG9ubHkgVFR5cGU6IFRUeXBlO1xuICAgIHJlYWRvbmx5IFRBcnJheTogYW55O1xuICAgIHJlYWRvbmx5IFRWYWx1ZTogYW55O1xuICAgIHJlYWRvbmx5IEFycmF5VHlwZTogYW55O1xufVxuXG5leHBvcnQgY2xhc3MgRGF0YVR5cGU8VFR5cGUgZXh0ZW5kcyBUeXBlID0gVHlwZSwgVENoaWxkcmVuIGV4dGVuZHMgeyBba2V5OiBzdHJpbmddOiBEYXRhVHlwZSB9ID0gYW55PiB7XG5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcHVibGljIFtTeW1ib2wudG9TdHJpbmdUYWddOiBzdHJpbmc7XG5cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICAgICAgaXNOdWxsICh4OiBhbnkpOiB4IGlzIE51bGwgICAgICAgICAgICB7IHJldHVybiB4ICYmIHgudHlwZUlkID09PSBUeXBlLk51bGw7ICAgICAgICAgICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgICAgICAgaXNJbnQgKHg6IGFueSk6IHggaXMgSW50XyAgICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC50eXBlSWQgPT09IFR5cGUuSW50OyAgICAgICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICAgICAgaXNGbG9hdCAoeDogYW55KTogeCBpcyBGbG9hdCAgICAgICAgICAgeyByZXR1cm4geCAmJiB4LnR5cGVJZCA9PT0gVHlwZS5GbG9hdDsgICAgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICAgIGlzQmluYXJ5ICh4OiBhbnkpOiB4IGlzIEJpbmFyeSAgICAgICAgICB7IHJldHVybiB4ICYmIHgudHlwZUlkID09PSBUeXBlLkJpbmFyeTsgICAgICAgICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgICAgICBpc1V0ZjggKHg6IGFueSk6IHggaXMgVXRmOCAgICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC50eXBlSWQgPT09IFR5cGUuVXRmODsgICAgICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICAgICAgIGlzQm9vbCAoeDogYW55KTogeCBpcyBCb29sICAgICAgICAgICAgeyByZXR1cm4geCAmJiB4LnR5cGVJZCA9PT0gVHlwZS5Cb29sOyAgICAgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICAgaXNEZWNpbWFsICh4OiBhbnkpOiB4IGlzIERlY2ltYWwgICAgICAgICB7IHJldHVybiB4ICYmIHgudHlwZUlkID09PSBUeXBlLkRlY2ltYWw7ICAgICAgICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgICAgICBpc0RhdGUgKHg6IGFueSk6IHggaXMgRGF0ZV8gICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC50eXBlSWQgPT09IFR5cGUuRGF0ZTsgICAgICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICAgICAgIGlzVGltZSAoeDogYW55KTogeCBpcyBUaW1lXyAgICAgICAgICAgeyByZXR1cm4geCAmJiB4LnR5cGVJZCA9PT0gVHlwZS5UaW1lOyAgICAgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgIGlzVGltZXN0YW1wICh4OiBhbnkpOiB4IGlzIFRpbWVzdGFtcF8gICAgICB7IHJldHVybiB4ICYmIHgudHlwZUlkID09PSBUeXBlLlRpbWVzdGFtcDsgICAgICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgIGlzSW50ZXJ2YWwgKHg6IGFueSk6IHggaXMgSW50ZXJ2YWxfICAgICAgIHsgcmV0dXJuIHggJiYgeC50eXBlSWQgPT09IFR5cGUuSW50ZXJ2YWw7ICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICAgICAgIGlzTGlzdCAoeDogYW55KTogeCBpcyBMaXN0ICAgICAgICAgICAgeyByZXR1cm4geCAmJiB4LnR5cGVJZCA9PT0gVHlwZS5MaXN0OyAgICAgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICAgIGlzU3RydWN0ICh4OiBhbnkpOiB4IGlzIFN0cnVjdCAgICAgICAgICB7IHJldHVybiB4ICYmIHgudHlwZUlkID09PSBUeXBlLlN0cnVjdDsgICAgICAgICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgICAgIGlzVW5pb24gKHg6IGFueSk6IHggaXMgVW5pb25fICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC50eXBlSWQgPT09IFR5cGUuVW5pb247ICAgICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyBpc0ZpeGVkU2l6ZUJpbmFyeSAoeDogYW55KTogeCBpcyBGaXhlZFNpemVCaW5hcnkgeyByZXR1cm4geCAmJiB4LnR5cGVJZCA9PT0gVHlwZS5GaXhlZFNpemVCaW5hcnk7IH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgaXNGaXhlZFNpemVMaXN0ICh4OiBhbnkpOiB4IGlzIEZpeGVkU2l6ZUxpc3QgICB7IHJldHVybiB4ICYmIHgudHlwZUlkID09PSBUeXBlLkZpeGVkU2l6ZUxpc3Q7ICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgICAgICAgaXNNYXAgKHg6IGFueSk6IHggaXMgTWFwXyAgICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC50eXBlSWQgPT09IFR5cGUuTWFwOyAgICAgICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgIGlzRGljdGlvbmFyeSAoeDogYW55KTogeCBpcyBEaWN0aW9uYXJ5ICAgICAgeyByZXR1cm4geCAmJiB4LnR5cGVJZCA9PT0gVHlwZS5EaWN0aW9uYXJ5OyAgICAgIH1cblxuICAgIHB1YmxpYyBnZXQgY2hpbGRyZW4oKSB7IHJldHVybiB0aGlzLl9jaGlsZHJlbjsgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkKCk6IFRUeXBlIHsgcmV0dXJuIDxhbnk+IFR5cGUuTk9ORTsgfVxuXG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIF9jaGlsZHJlbj86IEZpZWxkPFRDaGlsZHJlbltrZXlvZiBUQ2hpbGRyZW5dPltdKSB7fVxuXG4gICAgcHVibGljIGNvbXBhcmVUbyhvdGhlcjogRGF0YVR5cGUpOiBvdGhlciBpcyBUeXBlVG9EYXRhVHlwZTxUVHlwZT4ge1xuICAgICAgICByZXR1cm4gY29tcGFyZXIudmlzaXQodGhpcywgb3RoZXIpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBEYXRhVHlwZSkgPT4ge1xuICAgICAgICAoPGFueT4gcHJvdG8pLkFycmF5VHlwZSA9IEFycmF5O1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdEYXRhVHlwZSc7XG4gICAgfSkoRGF0YVR5cGUucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBOdWxsIGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5OdWxsPiB7IFRBcnJheTogdm9pZDsgVFZhbHVlOiBudWxsOyB9XG5leHBvcnQgY2xhc3MgTnVsbCBleHRlbmRzIERhdGFUeXBlPFR5cGUuTnVsbD4ge1xuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBOdWxsYDsgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkKCkgeyByZXR1cm4gVHlwZS5OdWxsIGFzIFR5cGUuTnVsbDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBOdWxsKSA9PiB7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ051bGwnO1xuICAgIH0pKE51bGwucHJvdG90eXBlKTtcbn1cblxuLyoqIEBpZ25vcmUgKi9cbnR5cGUgSW50cyA9IFR5cGUuSW50IHwgVHlwZS5JbnQ4IHwgVHlwZS5JbnQxNiB8IFR5cGUuSW50MzIgfCBUeXBlLkludDY0IHwgVHlwZS5VaW50OCB8IFR5cGUuVWludDE2IHwgVHlwZS5VaW50MzIgfCBUeXBlLlVpbnQ2NDtcbi8qKiBAaWdub3JlICovXG50eXBlIElUeXBlID0ge1xuICAgIFtUeXBlLkludCAgIF06IHsgYml0V2lkdGg6IEludEJpdFdpZHRoOyBpc1NpZ25lZDogdHJ1ZSB8IGZhbHNlOyBUQXJyYXk6IEludEFycmF5OyAgICBUVmFsdWU6IG51bWJlciB8IEludDMyQXJyYXkgfCBVaW50MzJBcnJheTsgfTtcbiAgICBbVHlwZS5JbnQ4ICBdOiB7IGJpdFdpZHRoOiAgICAgICAgICAgODsgaXNTaWduZWQ6IHRydWU7ICAgICAgICAgVEFycmF5OiBJbnQ4QXJyYXk7ICAgVFZhbHVlOiBudW1iZXI7ICAgICAgICAgICAgfTtcbiAgICBbVHlwZS5JbnQxNiBdOiB7IGJpdFdpZHRoOiAgICAgICAgICAxNjsgaXNTaWduZWQ6IHRydWU7ICAgICAgICAgVEFycmF5OiBJbnQxNkFycmF5OyAgVFZhbHVlOiBudW1iZXI7ICAgICAgICAgICAgfTtcbiAgICBbVHlwZS5JbnQzMiBdOiB7IGJpdFdpZHRoOiAgICAgICAgICAzMjsgaXNTaWduZWQ6IHRydWU7ICAgICAgICAgVEFycmF5OiBJbnQzMkFycmF5OyAgVFZhbHVlOiBudW1iZXI7ICAgICAgICAgICAgfTtcbiAgICBbVHlwZS5JbnQ2NCBdOiB7IGJpdFdpZHRoOiAgICAgICAgICA2NDsgaXNTaWduZWQ6IHRydWU7ICAgICAgICAgVEFycmF5OiBJbnQzMkFycmF5OyAgVFZhbHVlOiBJbnQzMkFycmF5OyAgICAgICAgfTtcbiAgICBbVHlwZS5VaW50OCBdOiB7IGJpdFdpZHRoOiAgICAgICAgICAgODsgaXNTaWduZWQ6IGZhbHNlOyAgICAgICAgVEFycmF5OiBVaW50OEFycmF5OyAgVFZhbHVlOiBudW1iZXI7ICAgICAgICAgICAgfTtcbiAgICBbVHlwZS5VaW50MTZdOiB7IGJpdFdpZHRoOiAgICAgICAgICAxNjsgaXNTaWduZWQ6IGZhbHNlOyAgICAgICAgVEFycmF5OiBVaW50MTZBcnJheTsgVFZhbHVlOiBudW1iZXI7ICAgICAgICAgICAgfTtcbiAgICBbVHlwZS5VaW50MzJdOiB7IGJpdFdpZHRoOiAgICAgICAgICAzMjsgaXNTaWduZWQ6IGZhbHNlOyAgICAgICAgVEFycmF5OiBVaW50MzJBcnJheTsgVFZhbHVlOiBudW1iZXI7ICAgICAgICAgICAgfTtcbiAgICBbVHlwZS5VaW50NjRdOiB7IGJpdFdpZHRoOiAgICAgICAgICA2NDsgaXNTaWduZWQ6IGZhbHNlOyAgICAgICAgVEFycmF5OiBVaW50MzJBcnJheTsgVFZhbHVlOiBVaW50MzJBcnJheTsgICAgICAgfTtcbn07XG5cbmludGVyZmFjZSBJbnRfPFQgZXh0ZW5kcyBJbnRzID0gSW50cz4gZXh0ZW5kcyBEYXRhVHlwZTxUPiB7IFRBcnJheTogSVR5cGVbVF1bJ1RBcnJheSddOyBUVmFsdWU6IElUeXBlW1RdWydUVmFsdWUnXTsgfVxuY2xhc3MgSW50XzxUIGV4dGVuZHMgSW50cyA9IEludHM+IGV4dGVuZHMgRGF0YVR5cGU8VD4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfaXNTaWduZWQ6IElUeXBlW1RdWydpc1NpZ25lZCddLFxuICAgICAgICAgICAgICAgIHByb3RlY3RlZCBfYml0V2lkdGg6IElUeXBlW1RdWydiaXRXaWR0aCddKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkKCkgeyByZXR1cm4gVHlwZS5JbnQgYXMgVDsgfVxuICAgIHB1YmxpYyBnZXQgaXNTaWduZWQoKSB7IHJldHVybiB0aGlzLl9pc1NpZ25lZDsgfVxuICAgIHB1YmxpYyBnZXQgYml0V2lkdGgoKSB7IHJldHVybiB0aGlzLl9iaXRXaWR0aDsgfVxuICAgIHB1YmxpYyBnZXQgQXJyYXlUeXBlKCk6IEFycmF5QnVmZmVyVmlld0NvbnN0cnVjdG9yPElUeXBlW1RdWydUQXJyYXknXT4ge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuX2JpdFdpZHRoKSB7XG4gICAgICAgICAgICBjYXNlICA4OiByZXR1cm4gKHRoaXMuX2lzU2lnbmVkID8gIEludDhBcnJheSA6ICBVaW50OEFycmF5KSBhcyBhbnk7XG4gICAgICAgICAgICBjYXNlIDE2OiByZXR1cm4gKHRoaXMuX2lzU2lnbmVkID8gSW50MTZBcnJheSA6IFVpbnQxNkFycmF5KSBhcyBhbnk7XG4gICAgICAgICAgICBjYXNlIDMyOiByZXR1cm4gKHRoaXMuX2lzU2lnbmVkID8gSW50MzJBcnJheSA6IFVpbnQzMkFycmF5KSBhcyBhbnk7XG4gICAgICAgICAgICBjYXNlIDY0OiByZXR1cm4gKHRoaXMuX2lzU2lnbmVkID8gSW50MzJBcnJheSA6IFVpbnQzMkFycmF5KSBhcyBhbnk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnJlY29nbml6ZWQgJHt0aGlzW1N5bWJvbC50b1N0cmluZ1RhZ119IHR5cGVgKTtcbiAgICB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYCR7dGhpcy5faXNTaWduZWQgPyBgSWAgOiBgVWlgfW50JHt0aGlzLl9iaXRXaWR0aH1gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IEludF8pID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnSW50JztcbiAgICB9KShJbnRfLnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCB7IEludF8gYXMgSW50IH07XG5cbmV4cG9ydCBjbGFzcyBJbnQ4IGV4dGVuZHMgSW50XzxUeXBlLkludDg+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKHRydWUsIDgpOyB9IH1cbmV4cG9ydCBjbGFzcyBJbnQxNiBleHRlbmRzIEludF88VHlwZS5JbnQxNj4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIodHJ1ZSwgMTYpOyB9IH1cbmV4cG9ydCBjbGFzcyBJbnQzMiBleHRlbmRzIEludF88VHlwZS5JbnQzMj4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIodHJ1ZSwgMzIpOyB9IH1cbmV4cG9ydCBjbGFzcyBJbnQ2NCBleHRlbmRzIEludF88VHlwZS5JbnQ2ND4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIodHJ1ZSwgNjQpOyB9IH1cbmV4cG9ydCBjbGFzcyBVaW50OCBleHRlbmRzIEludF88VHlwZS5VaW50OD4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoZmFsc2UsIDgpOyB9IH1cbmV4cG9ydCBjbGFzcyBVaW50MTYgZXh0ZW5kcyBJbnRfPFR5cGUuVWludDE2PiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihmYWxzZSwgMTYpOyB9IH1cbmV4cG9ydCBjbGFzcyBVaW50MzIgZXh0ZW5kcyBJbnRfPFR5cGUuVWludDMyPiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihmYWxzZSwgMzIpOyB9IH1cbmV4cG9ydCBjbGFzcyBVaW50NjQgZXh0ZW5kcyBJbnRfPFR5cGUuVWludDY0PiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihmYWxzZSwgNjQpOyB9IH1cblxuLyoqIEBpZ25vcmUgKi9cbnR5cGUgRmxvYXRzID0gVHlwZS5GbG9hdCB8IFR5cGUuRmxvYXQxNiB8IFR5cGUuRmxvYXQzMiB8IFR5cGUuRmxvYXQ2NDtcbi8qKiBAaWdub3JlICovXG50eXBlIEZUeXBlID0ge1xuICAgIFtUeXBlLkZsb2F0ICBdOiB7IHByZWNpc2lvbjogUHJlY2lzaW9uOyAgICAgICAgVEFycmF5OiBGbG9hdEFycmF5OyAgICBUVmFsdWU6IG51bWJlcjsgfTtcbiAgICBbVHlwZS5GbG9hdDE2XTogeyBwcmVjaXNpb246IFByZWNpc2lvbi5IQUxGOyAgIFRBcnJheTogVWludDE2QXJyYXk7ICAgVFZhbHVlOiBudW1iZXI7IH07XG4gICAgW1R5cGUuRmxvYXQzMl06IHsgcHJlY2lzaW9uOiBQcmVjaXNpb24uU0lOR0xFOyBUQXJyYXk6IEZsb2F0MzJBcnJheTsgIFRWYWx1ZTogbnVtYmVyOyB9O1xuICAgIFtUeXBlLkZsb2F0NjRdOiB7IHByZWNpc2lvbjogUHJlY2lzaW9uLkRPVUJMRTsgVEFycmF5OiBGbG9hdDY0QXJyYXk7ICBUVmFsdWU6IG51bWJlcjsgfTtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmxvYXQ8VCBleHRlbmRzIEZsb2F0cyA9IEZsb2F0cz4gZXh0ZW5kcyBEYXRhVHlwZTxUPiB7IFRBcnJheTogRlR5cGVbVF1bJ1RBcnJheSddOyBUVmFsdWU6IG51bWJlcjsgfVxuZXhwb3J0IGNsYXNzIEZsb2F0PFQgZXh0ZW5kcyBGbG9hdHMgPSBGbG9hdHM+IGV4dGVuZHMgRGF0YVR5cGU8VD4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfcHJlY2lzaW9uOiBQcmVjaXNpb24pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG4gICAgcHVibGljIGdldCB0eXBlSWQoKSB7IHJldHVybiBUeXBlLkZsb2F0IGFzIFQ7IH1cbiAgICBwdWJsaWMgZ2V0IHByZWNpc2lvbigpIHsgcmV0dXJuIHRoaXMuX3ByZWNpc2lvbjsgfVxuICAgIHB1YmxpYyBnZXQgQXJyYXlUeXBlKCk6IEFycmF5QnVmZmVyVmlld0NvbnN0cnVjdG9yPEZUeXBlW1RdWydUQXJyYXknXT4ge1xuICAgICAgICBzd2l0Y2ggKHRoaXMucHJlY2lzaW9uKSB7XG4gICAgICAgICAgICBjYXNlIFByZWNpc2lvbi5IQUxGOiByZXR1cm4gVWludDE2QXJyYXk7XG4gICAgICAgICAgICBjYXNlIFByZWNpc2lvbi5TSU5HTEU6IHJldHVybiBGbG9hdDMyQXJyYXk7XG4gICAgICAgICAgICBjYXNlIFByZWNpc2lvbi5ET1VCTEU6IHJldHVybiBGbG9hdDY0QXJyYXk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnJlY29nbml6ZWQgJHt0aGlzW1N5bWJvbC50b1N0cmluZ1RhZ119IHR5cGVgKTtcbiAgICB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYEZsb2F0JHsodGhpcy5wcmVjaXNpb24gPDwgNSkgfHwgMTZ9YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBGbG9hdCkgPT4ge1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdGbG9hdCc7XG4gICAgfSkoRmxvYXQucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGNsYXNzIEZsb2F0MTYgZXh0ZW5kcyBGbG9hdDxUeXBlLkZsb2F0MTY+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKFByZWNpc2lvbi5IQUxGKTsgfSB9XG5leHBvcnQgY2xhc3MgRmxvYXQzMiBleHRlbmRzIEZsb2F0PFR5cGUuRmxvYXQzMj4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoUHJlY2lzaW9uLlNJTkdMRSk7IH0gfVxuZXhwb3J0IGNsYXNzIEZsb2F0NjQgZXh0ZW5kcyBGbG9hdDxUeXBlLkZsb2F0NjQ+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKFByZWNpc2lvbi5ET1VCTEUpOyB9IH1cblxuZXhwb3J0IGludGVyZmFjZSBCaW5hcnkgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkJpbmFyeT4geyBUQXJyYXk6IFVpbnQ4QXJyYXk7IFRWYWx1ZTogVWludDhBcnJheTsgfVxuZXhwb3J0IGNsYXNzIEJpbmFyeSBleHRlbmRzIERhdGFUeXBlPFR5cGUuQmluYXJ5PiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkKCkgeyByZXR1cm4gVHlwZS5CaW5hcnkgYXMgVHlwZS5CaW5hcnk7IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgQmluYXJ5YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBCaW5hcnkpID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBVaW50OEFycmF5O1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdCaW5hcnknO1xuICAgIH0pKEJpbmFyeS5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFV0ZjggZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLlV0Zjg+IHsgVEFycmF5OiBVaW50OEFycmF5OyBUVmFsdWU6IHN0cmluZzsgQXJyYXlUeXBlOiB0eXBlb2YgVWludDhBcnJheTsgfVxuZXhwb3J0IGNsYXNzIFV0ZjggZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLlV0Zjg+IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG4gICAgcHVibGljIGdldCB0eXBlSWQoKSB7IHJldHVybiBUeXBlLlV0ZjggYXMgVHlwZS5VdGY4OyB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYFV0ZjhgOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IFV0ZjgpID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBVaW50OEFycmF5O1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdVdGY4JztcbiAgICB9KShVdGY4LnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQm9vbCBleHRlbmRzIERhdGFUeXBlPFR5cGUuQm9vbD4geyBUQXJyYXk6IFVpbnQ4QXJyYXk7IFRWYWx1ZTogYm9vbGVhbjsgQXJyYXlUeXBlOiB0eXBlb2YgVWludDhBcnJheTsgfVxuZXhwb3J0IGNsYXNzIEJvb2wgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkJvb2w+IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG4gICAgcHVibGljIGdldCB0eXBlSWQoKSB7IHJldHVybiBUeXBlLkJvb2wgYXMgVHlwZS5Cb29sOyB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYEJvb2xgOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IEJvb2wpID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBVaW50OEFycmF5O1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdCb29sJztcbiAgICB9KShCb29sLnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVjaW1hbCBleHRlbmRzIERhdGFUeXBlPFR5cGUuRGVjaW1hbD4geyBUQXJyYXk6IFVpbnQzMkFycmF5OyBUVmFsdWU6IFVpbnQzMkFycmF5OyBBcnJheVR5cGU6IHR5cGVvZiBVaW50MzJBcnJheTsgfVxuZXhwb3J0IGNsYXNzIERlY2ltYWwgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkRlY2ltYWw+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX3NjYWxlOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgcHJvdGVjdGVkIF9wcmVjaXNpb246IG51bWJlcikge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHR5cGVJZCgpIHsgcmV0dXJuIFR5cGUuRGVjaW1hbCBhcyBUeXBlLkRlY2ltYWw7IH1cbiAgICBwdWJsaWMgZ2V0IHNjYWxlKCkgeyByZXR1cm4gdGhpcy5fc2NhbGU7IH1cbiAgICBwdWJsaWMgZ2V0IHByZWNpc2lvbigpIHsgcmV0dXJuIHRoaXMuX3ByZWNpc2lvbjsgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBEZWNpbWFsWyR7dGhpcy5fcHJlY2lzaW9ufWUke3RoaXMuX3NjYWxlID4gMCA/IGArYCA6IGBgfSR7dGhpcy5fc2NhbGV9XWA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogRGVjaW1hbCkgPT4ge1xuICAgICAgICAoPGFueT4gcHJvdG8pLkFycmF5VHlwZSA9IFVpbnQzMkFycmF5O1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdEZWNpbWFsJztcbiAgICB9KShEZWNpbWFsLnByb3RvdHlwZSk7XG59XG5cbi8qKiBAaWdub3JlICovXG5leHBvcnQgdHlwZSBEYXRlcyA9IFR5cGUuRGF0ZSB8IFR5cGUuRGF0ZURheSB8IFR5cGUuRGF0ZU1pbGxpc2Vjb25kO1xuZXhwb3J0IGludGVyZmFjZSBEYXRlXzxUIGV4dGVuZHMgRGF0ZXMgPSBEYXRlcz4gZXh0ZW5kcyBEYXRhVHlwZTxUPiB7IFRBcnJheTogSW50MzJBcnJheTsgVFZhbHVlOiBEYXRlOyBBcnJheVR5cGU6IHR5cGVvZiBJbnQzMkFycmF5OyB9XG5leHBvcnQgY2xhc3MgRGF0ZV88VCBleHRlbmRzIERhdGVzID0gRGF0ZXM+IGV4dGVuZHMgRGF0YVR5cGU8VD4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfdW5pdDogRGF0ZVVuaXQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG4gICAgcHVibGljIGdldCB0eXBlSWQoKSB7IHJldHVybiBUeXBlLkRhdGUgYXMgVDsgfVxuICAgIHB1YmxpYyBnZXQgdW5pdCgpIHsgcmV0dXJuIHRoaXMuX3VuaXQ7IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgRGF0ZSR7KHRoaXMuX3VuaXQgKyAxKSAqIDMyfTwke0RhdGVVbml0W3RoaXMuX3VuaXRdfT5gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IERhdGVfKSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gSW50MzJBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnRGF0ZSc7XG4gICAgfSkoRGF0ZV8ucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGNsYXNzIERhdGVEYXkgZXh0ZW5kcyBEYXRlXzxUeXBlLkRhdGVEYXk+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKERhdGVVbml0LkRBWSk7IH0gfVxuZXhwb3J0IGNsYXNzIERhdGVNaWxsaXNlY29uZCBleHRlbmRzIERhdGVfPFR5cGUuRGF0ZU1pbGxpc2Vjb25kPiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihEYXRlVW5pdC5NSUxMSVNFQ09ORCk7IH0gfVxuXG4vKiogQGlnbm9yZSAqL1xudHlwZSBUaW1lcyA9IFR5cGUuVGltZSB8IFR5cGUuVGltZVNlY29uZCB8IFR5cGUuVGltZU1pbGxpc2Vjb25kIHwgVHlwZS5UaW1lTWljcm9zZWNvbmQgfCBUeXBlLlRpbWVOYW5vc2Vjb25kO1xuLyoqIEBpZ25vcmUgKi9cbnR5cGUgVGltZXNUeXBlID0ge1xuICAgIFtUeXBlLlRpbWUgICAgICAgICAgIF06IHsgdW5pdDogVGltZVVuaXQ7ICAgICAgICAgICAgIFRWYWx1ZTogbnVtYmVyIHwgSW50MzJBcnJheSB9O1xuICAgIFtUeXBlLlRpbWVTZWNvbmQgICAgIF06IHsgdW5pdDogVGltZVVuaXQuU0VDT05EOyAgICAgIFRWYWx1ZTogbnVtYmVyOyAgICAgICAgICAgICB9O1xuICAgIFtUeXBlLlRpbWVNaWxsaXNlY29uZF06IHsgdW5pdDogVGltZVVuaXQuTUlMTElTRUNPTkQ7IFRWYWx1ZTogbnVtYmVyOyAgICAgICAgICAgICB9O1xuICAgIFtUeXBlLlRpbWVNaWNyb3NlY29uZF06IHsgdW5pdDogVGltZVVuaXQuTUlDUk9TRUNPTkQ7IFRWYWx1ZTogSW50MzJBcnJheTsgICAgICAgICB9O1xuICAgIFtUeXBlLlRpbWVOYW5vc2Vjb25kIF06IHsgdW5pdDogVGltZVVuaXQuTkFOT1NFQ09ORDsgIFRWYWx1ZTogSW50MzJBcnJheTsgICAgICAgICB9O1xufTtcblxuaW50ZXJmYWNlIFRpbWVfPFQgZXh0ZW5kcyBUaW1lcyA9IFRpbWVzPiBleHRlbmRzIERhdGFUeXBlPFQ+IHsgVEFycmF5OiBJbnQzMkFycmF5OyBUVmFsdWU6IFRpbWVzVHlwZVtUXVsnVFZhbHVlJ107IEFycmF5VHlwZTogdHlwZW9mIEludDMyQXJyYXk7IH1cbmNsYXNzIFRpbWVfPFQgZXh0ZW5kcyBUaW1lcyA9IFRpbWVzPiBleHRlbmRzIERhdGFUeXBlPFQ+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX3VuaXQ6IFRpbWVzVHlwZVtUXVsndW5pdCddLFxuICAgICAgICAgICAgICAgIHByb3RlY3RlZCBfYml0V2lkdGg6IFRpbWVCaXRXaWR0aCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHR5cGVJZCgpIHsgcmV0dXJuIFR5cGUuVGltZSBhcyBUOyB9XG4gICAgcHVibGljIGdldCB1bml0KCkgeyByZXR1cm4gdGhpcy5fdW5pdDsgfVxuICAgIHB1YmxpYyBnZXQgYml0V2lkdGgoKSB7IHJldHVybiB0aGlzLl9iaXRXaWR0aDsgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBUaW1lJHt0aGlzLl9iaXRXaWR0aH08JHtUaW1lVW5pdFt0aGlzLl91bml0XX0+YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBUaW1lXykgPT4ge1xuICAgICAgICAoPGFueT4gcHJvdG8pLkFycmF5VHlwZSA9IEludDMyQXJyYXk7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ1RpbWUnO1xuICAgIH0pKFRpbWVfLnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCB7IFRpbWVfIGFzIFRpbWUgfTtcblxuZXhwb3J0IGNsYXNzIFRpbWVTZWNvbmQgZXh0ZW5kcyBUaW1lXzxUeXBlLlRpbWVTZWNvbmQ+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKFRpbWVVbml0LlNFQ09ORCwgMzIpOyB9IH1cbmV4cG9ydCBjbGFzcyBUaW1lTWlsbGlzZWNvbmQgZXh0ZW5kcyBUaW1lXzxUeXBlLlRpbWVNaWxsaXNlY29uZD4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoVGltZVVuaXQuTUlMTElTRUNPTkQsIDMyKTsgfSB9XG5leHBvcnQgY2xhc3MgVGltZU1pY3Jvc2Vjb25kIGV4dGVuZHMgVGltZV88VHlwZS5UaW1lTWljcm9zZWNvbmQ+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKFRpbWVVbml0Lk1JQ1JPU0VDT05ELCA2NCk7IH0gfVxuZXhwb3J0IGNsYXNzIFRpbWVOYW5vc2Vjb25kIGV4dGVuZHMgVGltZV88VHlwZS5UaW1lTmFub3NlY29uZD4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoVGltZVVuaXQuTkFOT1NFQ09ORCwgNjQpOyB9IH1cblxuLyoqIEBpZ25vcmUgKi9cbnR5cGUgVGltZXN0YW1wcyA9IFR5cGUuVGltZXN0YW1wIHwgVHlwZS5UaW1lc3RhbXBTZWNvbmQgfCBUeXBlLlRpbWVzdGFtcE1pbGxpc2Vjb25kIHwgVHlwZS5UaW1lc3RhbXBNaWNyb3NlY29uZCB8IFR5cGUuVGltZXN0YW1wTmFub3NlY29uZDtcbmludGVyZmFjZSBUaW1lc3RhbXBfPFQgZXh0ZW5kcyBUaW1lc3RhbXBzID0gVGltZXN0YW1wcz4gZXh0ZW5kcyBEYXRhVHlwZTxUPiB7IFRBcnJheTogSW50MzJBcnJheTsgVFZhbHVlOiBudW1iZXI7IEFycmF5VHlwZTogdHlwZW9mIEludDMyQXJyYXk7IH1cbmNsYXNzIFRpbWVzdGFtcF88VCBleHRlbmRzIFRpbWVzdGFtcHMgPSBUaW1lc3RhbXBzPiBleHRlbmRzIERhdGFUeXBlPFQ+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX3VuaXQ6IFRpbWVVbml0LCBwcm90ZWN0ZWQgX3RpbWV6b25lPzogc3RyaW5nIHwgbnVsbCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHR5cGVJZCgpIHsgcmV0dXJuIFR5cGUuVGltZXN0YW1wIGFzIFQ7IH1cbiAgICBwdWJsaWMgZ2V0IHVuaXQoKSB7IHJldHVybiB0aGlzLl91bml0OyB9XG4gICAgcHVibGljIGdldCB0aW1lem9uZSgpIHsgcmV0dXJuIHRoaXMuX3RpbWV6b25lOyB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYFRpbWVzdGFtcDwke1RpbWVVbml0W3RoaXMuX3VuaXRdfSR7dGhpcy5fdGltZXpvbmUgPyBgLCAke3RoaXMuX3RpbWV6b25lfWAgOiBgYH0+YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBUaW1lc3RhbXBfKSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gSW50MzJBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnVGltZXN0YW1wJztcbiAgICB9KShUaW1lc3RhbXBfLnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCB7IFRpbWVzdGFtcF8gYXMgVGltZXN0YW1wIH07XG5cbmV4cG9ydCBjbGFzcyBUaW1lc3RhbXBTZWNvbmQgZXh0ZW5kcyBUaW1lc3RhbXBfPFR5cGUuVGltZXN0YW1wU2Vjb25kPiB7IGNvbnN0cnVjdG9yKHRpbWV6b25lPzogc3RyaW5nIHwgbnVsbCkgeyBzdXBlcihUaW1lVW5pdC5TRUNPTkQsIHRpbWV6b25lKTsgfSB9XG5leHBvcnQgY2xhc3MgVGltZXN0YW1wTWlsbGlzZWNvbmQgZXh0ZW5kcyBUaW1lc3RhbXBfPFR5cGUuVGltZXN0YW1wTWlsbGlzZWNvbmQ+IHsgY29uc3RydWN0b3IodGltZXpvbmU/OiBzdHJpbmcgfCBudWxsKSB7IHN1cGVyKFRpbWVVbml0Lk1JTExJU0VDT05ELCB0aW1lem9uZSk7IH0gfVxuZXhwb3J0IGNsYXNzIFRpbWVzdGFtcE1pY3Jvc2Vjb25kIGV4dGVuZHMgVGltZXN0YW1wXzxUeXBlLlRpbWVzdGFtcE1pY3Jvc2Vjb25kPiB7IGNvbnN0cnVjdG9yKHRpbWV6b25lPzogc3RyaW5nIHwgbnVsbCkgeyBzdXBlcihUaW1lVW5pdC5NSUNST1NFQ09ORCwgdGltZXpvbmUpOyB9IH1cbmV4cG9ydCBjbGFzcyBUaW1lc3RhbXBOYW5vc2Vjb25kIGV4dGVuZHMgVGltZXN0YW1wXzxUeXBlLlRpbWVzdGFtcE5hbm9zZWNvbmQ+IHsgY29uc3RydWN0b3IodGltZXpvbmU/OiBzdHJpbmcgfCBudWxsKSB7IHN1cGVyKFRpbWVVbml0Lk5BTk9TRUNPTkQsIHRpbWV6b25lKTsgfSB9XG5cbi8qKiBAaWdub3JlICovXG50eXBlIEludGVydmFscyA9IFR5cGUuSW50ZXJ2YWwgfCBUeXBlLkludGVydmFsRGF5VGltZSB8IFR5cGUuSW50ZXJ2YWxZZWFyTW9udGg7XG5pbnRlcmZhY2UgSW50ZXJ2YWxfPFQgZXh0ZW5kcyBJbnRlcnZhbHMgPSBJbnRlcnZhbHM+IGV4dGVuZHMgRGF0YVR5cGU8VD4geyBUQXJyYXk6IEludDMyQXJyYXk7IFRWYWx1ZTogSW50MzJBcnJheTsgQXJyYXlUeXBlOiB0eXBlb2YgSW50MzJBcnJheTsgfVxuY2xhc3MgSW50ZXJ2YWxfPFQgZXh0ZW5kcyBJbnRlcnZhbHMgPSBJbnRlcnZhbHM+IGV4dGVuZHMgRGF0YVR5cGU8VD4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfdW5pdDogSW50ZXJ2YWxVbml0KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkKCkgeyByZXR1cm4gVHlwZS5JbnRlcnZhbCBhcyBUOyB9XG4gICAgcHVibGljIGdldCB1bml0KCkgeyByZXR1cm4gdGhpcy5fdW5pdDsgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBJbnRlcnZhbDwke0ludGVydmFsVW5pdFt0aGlzLl91bml0XX0+YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBJbnRlcnZhbF8pID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBJbnQzMkFycmF5O1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdJbnRlcnZhbCc7XG4gICAgfSkoSW50ZXJ2YWxfLnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCB7IEludGVydmFsXyBhcyBJbnRlcnZhbCB9O1xuXG5leHBvcnQgY2xhc3MgSW50ZXJ2YWxEYXlUaW1lIGV4dGVuZHMgSW50ZXJ2YWxfPFR5cGUuSW50ZXJ2YWxEYXlUaW1lPiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihJbnRlcnZhbFVuaXQuREFZX1RJTUUpOyB9IH1cbmV4cG9ydCBjbGFzcyBJbnRlcnZhbFllYXJNb250aCBleHRlbmRzIEludGVydmFsXzxUeXBlLkludGVydmFsWWVhck1vbnRoPiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihJbnRlcnZhbFVuaXQuWUVBUl9NT05USCk7IH0gfVxuXG5leHBvcnQgaW50ZXJmYWNlIExpc3Q8VCBleHRlbmRzIERhdGFUeXBlID0gYW55PiBleHRlbmRzIERhdGFUeXBlPFR5cGUuTGlzdCwgeyBbMF06IFQgfT4gIHsgVEFycmF5OiBJdGVyYWJsZUFycmF5TGlrZTxUPjsgVFZhbHVlOiBWVHlwZTxUPjsgfVxuZXhwb3J0IGNsYXNzIExpc3Q8VCBleHRlbmRzIERhdGFUeXBlID0gYW55PiBleHRlbmRzIERhdGFUeXBlPFR5cGUuTGlzdCwgeyBbMF06IFQgfT4ge1xuICAgIGNvbnN0cnVjdG9yKGNoaWxkOiBGaWVsZDxUPikge1xuICAgICAgICBzdXBlcihbY2hpbGRdKTtcbiAgICB9XG4gICAgcHVibGljIGdldCB0eXBlSWQoKSB7IHJldHVybiBUeXBlLkxpc3QgYXMgVHlwZS5MaXN0OyB9XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHByb3RlY3RlZCBfY2hpbGRyZW46IEZpZWxkPFQ+W107XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYExpc3Q8JHt0aGlzLnZhbHVlVHlwZX0+YDsgfVxuICAgIHB1YmxpYyBnZXQgY2hpbGRyZW4oKSB7IHJldHVybiB0aGlzLl9jaGlsZHJlbjsgfVxuICAgIHB1YmxpYyBnZXQgdmFsdWVUeXBlKCk6IFQgeyByZXR1cm4gdGhpcy5fY2hpbGRyZW5bMF0udHlwZSBhcyBUOyB9XG4gICAgcHVibGljIGdldCB2YWx1ZUZpZWxkKCk6IEZpZWxkPFQ+IHsgcmV0dXJuIHRoaXMuX2NoaWxkcmVuWzBdIGFzIEZpZWxkPFQ+OyB9XG4gICAgcHVibGljIGdldCBBcnJheVR5cGUoKTogVFsnQXJyYXlUeXBlJ10geyByZXR1cm4gdGhpcy52YWx1ZVR5cGUuQXJyYXlUeXBlOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IExpc3QpID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnTGlzdCc7XG4gICAgfSkoTGlzdC5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cnVjdDxUIGV4dGVuZHMgeyBba2V5OiBzdHJpbmddOiBEYXRhVHlwZTsgfSA9IGFueT4gZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLlN0cnVjdD4geyBUQXJyYXk6IEl0ZXJhYmxlQXJyYXlMaWtlPFJvd0xpa2U8VD4+OyBUVmFsdWU6IFJvd0xpa2U8VD47IGRhdGFUeXBlczogVDsgfVxuZXhwb3J0IGNsYXNzIFN0cnVjdDxUIGV4dGVuZHMgeyBba2V5OiBzdHJpbmddOiBEYXRhVHlwZTsgfSA9IGFueT4gZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLlN0cnVjdCwgVD4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfY2hpbGRyZW46IEZpZWxkPFRba2V5b2YgVF0+W10pIHtcbiAgICAgICAgc3VwZXIoX2NoaWxkcmVuKTtcbiAgICB9XG4gICAgcHVibGljIGdldCB0eXBlSWQoKSB7IHJldHVybiBUeXBlLlN0cnVjdCBhcyBUeXBlLlN0cnVjdDsgfVxuICAgIHB1YmxpYyBnZXQgY2hpbGRyZW4oKSB7IHJldHVybiB0aGlzLl9jaGlsZHJlbjsgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBTdHJ1Y3Q8WyR7dGhpcy5fY2hpbGRyZW4ubWFwKChmKSA9PiBmLnR5cGUpLmpvaW4oYCwgYCl9XT5gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IFN0cnVjdCkgPT4ge1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdTdHJ1Y3QnO1xuICAgIH0pKFN0cnVjdC5wcm90b3R5cGUpO1xufVxuXG4vKiogQGlnbm9yZSAqL1xudHlwZSBVbmlvbnMgPSBUeXBlLlVuaW9uIHwgVHlwZS5EZW5zZVVuaW9uIHwgVHlwZS5TcGFyc2VVbmlvbjtcbmludGVyZmFjZSBVbmlvbl88VCBleHRlbmRzIFVuaW9ucyA9IFVuaW9ucz4gZXh0ZW5kcyBEYXRhVHlwZTxUPiB7IFRBcnJheTogSW50MzJBcnJheTsgVFZhbHVlOiBhbnlbXTsgfVxuY2xhc3MgVW5pb25fPFQgZXh0ZW5kcyBVbmlvbnMgPSBVbmlvbnM+IGV4dGVuZHMgRGF0YVR5cGU8VD4ge1xuICAgIHByb3RlY3RlZCBfdHlwZUlkczogSW50MzJBcnJheTtcbiAgICBwcm90ZWN0ZWQgX2NoaWxkcmVuOiBGaWVsZDxhbnk+W107XG4gICAgcHJvdGVjdGVkIF90eXBlSWRUb0NoaWxkSW5kZXg6IHsgW2tleTogbnVtYmVyXTogbnVtYmVyIH07XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIF9tb2RlOiBVbmlvbk1vZGUsIF90eXBlSWRzOiBudW1iZXJbXSB8IEludDMyQXJyYXksIF9jaGlsZHJlbjogRmllbGQ8YW55PltdKSB7XG4gICAgICAgIHN1cGVyKF9jaGlsZHJlbik7XG4gICAgICAgIHRoaXMuX2NoaWxkcmVuID0gX2NoaWxkcmVuO1xuICAgICAgICB0aGlzLl90eXBlSWRzID0gX3R5cGVJZHMgPSBJbnQzMkFycmF5LmZyb20oX3R5cGVJZHMpO1xuICAgICAgICB0aGlzLl90eXBlSWRUb0NoaWxkSW5kZXggPSBfdHlwZUlkcy5yZWR1Y2UoKHR5cGVJZFRvQ2hpbGRJbmRleCwgdHlwZUlkLCBpZHgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAodHlwZUlkVG9DaGlsZEluZGV4W3R5cGVJZF0gPSBpZHgpICYmIHR5cGVJZFRvQ2hpbGRJbmRleCB8fCB0eXBlSWRUb0NoaWxkSW5kZXg7XG4gICAgICAgIH0sIE9iamVjdC5jcmVhdGUobnVsbCkgYXMgeyBba2V5OiBudW1iZXJdOiBudW1iZXIgfSk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkKCkgeyByZXR1cm4gVHlwZS5VbmlvbiBhcyBUOyB9XG4gICAgcHVibGljIGdldCBtb2RlKCkgeyByZXR1cm4gdGhpcy5fbW9kZTsgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkcygpIHsgcmV0dXJuIHRoaXMuX3R5cGVJZHM7IH1cbiAgICBwdWJsaWMgZ2V0IGNoaWxkcmVuKCkgeyByZXR1cm4gdGhpcy5fY2hpbGRyZW47IH1cbiAgICBwdWJsaWMgZ2V0IHR5cGVJZFRvQ2hpbGRJbmRleCgpIHsgcmV0dXJuIHRoaXMuX3R5cGVJZFRvQ2hpbGRJbmRleDsgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGAke3RoaXNbU3ltYm9sLnRvU3RyaW5nVGFnXX08JHtcbiAgICAgICAgdGhpcy5fY2hpbGRyZW4ubWFwKCh4KSA9PiBgJHt4LnR5cGV9YCkuam9pbihgIHwgYClcbiAgICB9PmA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogVW5pb25fKSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gSW50MzJBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnVW5pb24nO1xuICAgIH0pKFVuaW9uXy5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgeyBVbmlvbl8gYXMgVW5pb24gfTtcblxuZXhwb3J0IGNsYXNzIERlbnNlVW5pb24gZXh0ZW5kcyBVbmlvbl88VHlwZS5EZW5zZVVuaW9uPiB7XG4gICAgY29uc3RydWN0b3IodHlwZUlkczogbnVtYmVyW10gfCBJbnQzMkFycmF5LCBjaGlsZHJlbjogRmllbGRbXSkge1xuICAgICAgICBzdXBlcihVbmlvbk1vZGUuRGVuc2UsIHR5cGVJZHMsIGNoaWxkcmVuKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTcGFyc2VVbmlvbiBleHRlbmRzIFVuaW9uXzxUeXBlLlNwYXJzZVVuaW9uPiB7XG4gICAgY29uc3RydWN0b3IodHlwZUlkczogbnVtYmVyW10gfCBJbnQzMkFycmF5LCBjaGlsZHJlbjogRmllbGRbXSkge1xuICAgICAgICBzdXBlcihVbmlvbk1vZGUuU3BhcnNlLCB0eXBlSWRzLCBjaGlsZHJlbik7XG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZpeGVkU2l6ZUJpbmFyeSBleHRlbmRzIERhdGFUeXBlPFR5cGUuRml4ZWRTaXplQmluYXJ5PiB7IFRBcnJheTogVWludDhBcnJheTsgVFZhbHVlOiBVaW50OEFycmF5OyBBcnJheVR5cGU6IHR5cGVvZiBVaW50OEFycmF5OyB9XG5leHBvcnQgY2xhc3MgRml4ZWRTaXplQmluYXJ5IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5GaXhlZFNpemVCaW5hcnk+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX2J5dGVXaWR0aDogbnVtYmVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkKCkgeyByZXR1cm4gVHlwZS5GaXhlZFNpemVCaW5hcnkgYXMgVHlwZS5GaXhlZFNpemVCaW5hcnk7IH1cbiAgICBwdWJsaWMgZ2V0IGJ5dGVXaWR0aCgpIHsgcmV0dXJuIHRoaXMuX2J5dGVXaWR0aDsgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBGaXhlZFNpemVCaW5hcnlbJHt0aGlzLmJ5dGVXaWR0aH1dYDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBGaXhlZFNpemVCaW5hcnkpID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBVaW50OEFycmF5O1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdGaXhlZFNpemVCaW5hcnknO1xuICAgIH0pKEZpeGVkU2l6ZUJpbmFyeS5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZpeGVkU2l6ZUxpc3Q8VCBleHRlbmRzIERhdGFUeXBlID0gYW55PiBleHRlbmRzIERhdGFUeXBlPFR5cGUuRml4ZWRTaXplTGlzdD4geyBUQXJyYXk6IEl0ZXJhYmxlQXJyYXlMaWtlPFRbJ1RBcnJheSddPjsgVFZhbHVlOiBWVHlwZTxUPjsgfVxuZXhwb3J0IGNsYXNzIEZpeGVkU2l6ZUxpc3Q8VCBleHRlbmRzIERhdGFUeXBlID0gYW55PiBleHRlbmRzIERhdGFUeXBlPFR5cGUuRml4ZWRTaXplTGlzdCwgeyBbMF06IFQgfT4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfbGlzdFNpemU6IG51bWJlciwgY2hpbGQ6IEZpZWxkPFQ+KSB7XG4gICAgICAgIHN1cGVyKFtjaGlsZF0pO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHR5cGVJZCgpIHsgcmV0dXJuIFR5cGUuRml4ZWRTaXplTGlzdCBhcyBUeXBlLkZpeGVkU2l6ZUxpc3Q7IH1cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcHJvdGVjdGVkIF9jaGlsZHJlbjogRmllbGQ8VD5bXTtcbiAgICBwdWJsaWMgZ2V0IGxpc3RTaXplKCkgeyByZXR1cm4gdGhpcy5fbGlzdFNpemU7IH1cbiAgICBwdWJsaWMgZ2V0IGNoaWxkcmVuKCkgeyByZXR1cm4gdGhpcy5fY2hpbGRyZW47IH1cbiAgICBwdWJsaWMgZ2V0IHZhbHVlVHlwZSgpOiBUIHsgcmV0dXJuIHRoaXMuY2hpbGRyZW5bMF0udHlwZSBhcyBUOyB9XG4gICAgcHVibGljIGdldCB2YWx1ZUZpZWxkKCk6IEZpZWxkPFQ+IHsgcmV0dXJuIHRoaXMuY2hpbGRyZW5bMF0gYXMgRmllbGQ8VD47IH1cbiAgICBwdWJsaWMgZ2V0IEFycmF5VHlwZSgpOiBUWydBcnJheVR5cGUnXSB7IHJldHVybiB0aGlzLnZhbHVlVHlwZS5BcnJheVR5cGU7IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgRml4ZWRTaXplTGlzdFske3RoaXMuX2xpc3RTaXplfV08JHt0aGlzLnZhbHVlVHlwZX0+YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBGaXhlZFNpemVMaXN0KSA9PiB7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ0ZpeGVkU2l6ZUxpc3QnO1xuICAgIH0pKEZpeGVkU2l6ZUxpc3QucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNYXBfPFQgZXh0ZW5kcyB7IFtrZXk6IHN0cmluZ106IERhdGFUeXBlOyB9ID0gYW55PiBleHRlbmRzIERhdGFUeXBlPFR5cGUuTWFwPiB7IFRBcnJheTogVWludDhBcnJheTsgVFZhbHVlOiBSb3dMaWtlPFQ+OyBkYXRhVHlwZXM6IFQ7IH1cbmV4cG9ydCBjbGFzcyBNYXBfPFQgZXh0ZW5kcyB7IFtrZXk6IHN0cmluZ106IERhdGFUeXBlOyB9ID0gYW55PiBleHRlbmRzIERhdGFUeXBlPFR5cGUuTWFwLCBUPiB7XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIF9jaGlsZHJlbjogRmllbGQ8VFtrZXlvZiBUXT5bXSxcbiAgICAgICAgICAgICAgICBwcm90ZWN0ZWQgX2tleXNTb3J0ZWQ6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgICBzdXBlcihfY2hpbGRyZW4pO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHR5cGVJZCgpIHsgcmV0dXJuIFR5cGUuTWFwIGFzIFR5cGUuTWFwOyB9XG4gICAgcHVibGljIGdldCBjaGlsZHJlbigpIHsgcmV0dXJuIHRoaXMuX2NoaWxkcmVuOyB9XG4gICAgcHVibGljIGdldCBrZXlzU29ydGVkKCkgeyByZXR1cm4gdGhpcy5fa2V5c1NvcnRlZDsgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBNYXA8eyR7dGhpcy5fY2hpbGRyZW4ubWFwKChmKSA9PiBgJHtmLm5hbWV9OiR7Zi50eXBlfWApLmpvaW4oYCwgYCl9fT5gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IE1hcF8pID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnTWFwXyc7XG4gICAgfSkoTWFwXy5wcm90b3R5cGUpO1xufVxuXG4vKiogQGlnbm9yZSAqL1xuY29uc3QgZ2V0SWQgPSAoKGF0b21pY0RpY3Rpb25hcnlJZCkgPT4gKCkgPT4gKythdG9taWNEaWN0aW9uYXJ5SWQpKC0xKTtcblxuLyoqIEBpZ25vcmUgKi9cbmV4cG9ydCB0eXBlIFRLZXlzID0gSW50OCB8IEludDE2IHwgSW50MzIgfCBVaW50OCB8IFVpbnQxNiB8IFVpbnQzMjtcblxuZXhwb3J0IGludGVyZmFjZSBEaWN0aW9uYXJ5PFQgZXh0ZW5kcyBEYXRhVHlwZSA9IGFueSwgVEtleSBleHRlbmRzIFRLZXlzID0gVEtleXM+IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5EaWN0aW9uYXJ5PiB7IFRBcnJheTogVEtleVsnVEFycmF5J107IFRWYWx1ZTogVFsnVFZhbHVlJ107IH1cbmV4cG9ydCBjbGFzcyBEaWN0aW9uYXJ5PFQgZXh0ZW5kcyBEYXRhVHlwZSA9IGFueSwgVEtleSBleHRlbmRzIFRLZXlzID0gVEtleXM+IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5EaWN0aW9uYXJ5PiB7XG4gICAgcHJvdGVjdGVkIF9pZDogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfaW5kaWNlczogVEtleTtcbiAgICBwcm90ZWN0ZWQgX2RpY3Rpb25hcnk6IFQ7XG4gICAgcHJvdGVjdGVkIF9pc09yZGVyZWQ6IGJvb2xlYW47XG4gICAgcHJvdGVjdGVkIF9kaWN0aW9uYXJ5VmVjdG9yOiBWZWN0b3I8VD47XG4gICAgcHVibGljIHNldCBkaWN0aW9uYXJ5VmVjdG9yKHYpIHsgdGhpcy5fZGljdGlvbmFyeVZlY3RvciA9IHY7IH1cbiAgICBwdWJsaWMgZ2V0IGRpY3Rpb25hcnlWZWN0b3IoKSB7IHJldHVybiB0aGlzLl9kaWN0aW9uYXJ5VmVjdG9yOyB9XG4gICAgY29uc3RydWN0b3IoZGljdGlvbmFyeTogVCwgaW5kaWNlczogVEtleSwgaWQ/OiBMb25nIHwgbnVtYmVyIHwgbnVsbCwgaXNPcmRlcmVkPzogYm9vbGVhbiB8IG51bGwsIGRpY3Rpb25hcnlWZWN0b3I/OiBWZWN0b3I8VD4pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5faW5kaWNlcyA9IGluZGljZXM7XG4gICAgICAgIHRoaXMuX2RpY3Rpb25hcnkgPSBkaWN0aW9uYXJ5O1xuICAgICAgICB0aGlzLl9pc09yZGVyZWQgPSBpc09yZGVyZWQgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMuX2RpY3Rpb25hcnlWZWN0b3IgPSBkaWN0aW9uYXJ5VmVjdG9yITtcbiAgICAgICAgdGhpcy5faWQgPSBpZCA9PSBudWxsID8gZ2V0SWQoKSA6IHR5cGVvZiBpZCA9PT0gJ251bWJlcicgPyBpZCA6IGlkLmxvdztcbiAgICB9XG4gICAgcHVibGljIGdldCB0eXBlSWQoKSB7IHJldHVybiBUeXBlLkRpY3Rpb25hcnkgYXMgVHlwZS5EaWN0aW9uYXJ5OyB9XG4gICAgcHVibGljIGdldCBpZCgpIHsgcmV0dXJuIHRoaXMuX2lkOyB9XG4gICAgcHVibGljIGdldCBpbmRpY2VzKCkgeyByZXR1cm4gdGhpcy5faW5kaWNlczsgfVxuICAgIHB1YmxpYyBnZXQgZGljdGlvbmFyeSgpIHsgcmV0dXJuIHRoaXMuX2RpY3Rpb25hcnk7IH1cbiAgICBwdWJsaWMgZ2V0IGlzT3JkZXJlZCgpIHsgcmV0dXJuIHRoaXMuX2lzT3JkZXJlZDsgfVxuICAgIHB1YmxpYyBzZXQgY2hpbGRyZW4oXzogVFsnY2hpbGRyZW4nXSkge31cbiAgICBwdWJsaWMgZ2V0IGNoaWxkcmVuKCkgeyByZXR1cm4gdGhpcy5kaWN0aW9uYXJ5LmNoaWxkcmVuOyB9XG4gICAgcHVibGljIGdldCB2YWx1ZVR5cGUoKTogVCB7IHJldHVybiB0aGlzLmRpY3Rpb25hcnkgYXMgVDsgfVxuICAgIHB1YmxpYyBnZXQgQXJyYXlUeXBlKCk6IFRbJ0FycmF5VHlwZSddIHsgcmV0dXJuIHRoaXMuZGljdGlvbmFyeS5BcnJheVR5cGU7IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgRGljdGlvbmFyeTwke3RoaXMuaW5kaWNlc30sICR7dGhpcy5kaWN0aW9uYXJ5fT5gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IERpY3Rpb25hcnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnRGljdGlvbmFyeSc7XG4gICAgfSkoRGljdGlvbmFyeS5wcm90b3R5cGUpO1xufVxuXG4vKiogQGlnbm9yZSAqL1xuZXhwb3J0IGludGVyZmFjZSBJdGVyYWJsZUFycmF5TGlrZTxUID0gYW55PiBleHRlbmRzIEFycmF5TGlrZTxUPiwgSXRlcmFibGU8VD4ge31cbi8qKiBAaWdub3JlICovXG5leHBvcnQgdHlwZSBGbG9hdEFycmF5ID0gVWludDE2QXJyYXkgfCBGbG9hdDMyQXJyYXkgfCBGbG9hdDY0QXJyYXk7XG4vKiogQGlnbm9yZSAqL1xuZXhwb3J0IHR5cGUgSW50QXJyYXkgPSBJbnQ4QXJyYXkgfCBJbnQxNkFycmF5IHwgSW50MzJBcnJheSB8IFVpbnQ4QXJyYXkgfCBVaW50MTZBcnJheSB8IFVpbnQzMkFycmF5O1xuIl19
