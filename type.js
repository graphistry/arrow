"use strict";
// Licensed to the Apache Software Foundation (ASF) under one
// or more contributor license agreements.  See the NOTICE file
// distributed with this work for additional information
// regarding copyright ownership.  The ASF licenses this file
// to you under the Apache License, Version 2.0 (the
// "License"); you may not use this file except in compliance
// with the License.  You may obtain a copy of the License at
//
//   http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing,
// software distributed under the License is distributed on an
// "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
// KIND, either express or implied.  See the License for the
// specific language governing permissions and limitations
// under the License.
Object.defineProperty(exports, "__esModule", { value: true });
const enum_1 = require("./enum");
class DataType {
    constructor(_children) {
        this._children = _children;
    }
    /** @nocollapse */ static isNull(x) { return x && x.typeId === enum_1.Type.Null; }
    /** @nocollapse */ static isInt(x) { return x && x.typeId === enum_1.Type.Int; }
    /** @nocollapse */ static isFloat(x) { return x && x.typeId === enum_1.Type.Float; }
    /** @nocollapse */ static isBinary(x) { return x && x.typeId === enum_1.Type.Binary; }
    /** @nocollapse */ static isUtf8(x) { return x && x.typeId === enum_1.Type.Utf8; }
    /** @nocollapse */ static isBool(x) { return x && x.typeId === enum_1.Type.Bool; }
    /** @nocollapse */ static isDecimal(x) { return x && x.typeId === enum_1.Type.Decimal; }
    /** @nocollapse */ static isDate(x) { return x && x.typeId === enum_1.Type.Date; }
    /** @nocollapse */ static isTime(x) { return x && x.typeId === enum_1.Type.Time; }
    /** @nocollapse */ static isTimestamp(x) { return x && x.typeId === enum_1.Type.Timestamp; }
    /** @nocollapse */ static isInterval(x) { return x && x.typeId === enum_1.Type.Interval; }
    /** @nocollapse */ static isList(x) { return x && x.typeId === enum_1.Type.List; }
    /** @nocollapse */ static isStruct(x) { return x && x.typeId === enum_1.Type.Struct; }
    /** @nocollapse */ static isUnion(x) { return x && x.typeId === enum_1.Type.Union; }
    /** @nocollapse */ static isFixedSizeBinary(x) { return x && x.typeId === enum_1.Type.FixedSizeBinary; }
    /** @nocollapse */ static isFixedSizeList(x) { return x && x.typeId === enum_1.Type.FixedSizeList; }
    /** @nocollapse */ static isMap(x) { return x && x.typeId === enum_1.Type.Map; }
    /** @nocollapse */ static isDictionary(x) { return x && x.typeId === enum_1.Type.Dictionary; }
    get children() { return this._children; }
    get typeId() { return enum_1.Type.NONE; }
}
DataType[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Array;
    return proto[Symbol.toStringTag] = 'DataType';
})(DataType.prototype);
exports.DataType = DataType;
class Null extends DataType {
    toString() { return `Null`; }
    get typeId() { return enum_1.Type.Null; }
}
Null[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Null';
})(Null.prototype);
exports.Null = Null;
class Int_ extends DataType {
    constructor(_isSigned, _bitWidth) {
        super();
        this._isSigned = _isSigned;
        this._bitWidth = _bitWidth;
    }
    get typeId() { return enum_1.Type.Int; }
    get isSigned() { return this._isSigned; }
    get bitWidth() { return this._bitWidth; }
    get ArrayType() {
        switch (this._bitWidth) {
            case 8: return (this._isSigned ? Int8Array : Uint8Array);
            case 16: return (this._isSigned ? Int16Array : Uint16Array);
            case 32: return (this._isSigned ? Int32Array : Uint32Array);
            case 64: return (this._isSigned ? Int32Array : Uint32Array);
        }
        throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`);
    }
    toString() { return `${this._isSigned ? `I` : `Ui`}nt${this._bitWidth}`; }
}
Int_[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Int';
})(Int_.prototype);
exports.Int = Int_;
class Int8 extends Int_ {
    constructor() { super(true, 8); }
}
exports.Int8 = Int8;
class Int16 extends Int_ {
    constructor() { super(true, 16); }
}
exports.Int16 = Int16;
class Int32 extends Int_ {
    constructor() { super(true, 32); }
}
exports.Int32 = Int32;
class Int64 extends Int_ {
    constructor() { super(true, 64); }
}
exports.Int64 = Int64;
class Uint8 extends Int_ {
    constructor() { super(false, 8); }
}
exports.Uint8 = Uint8;
class Uint16 extends Int_ {
    constructor() { super(false, 16); }
}
exports.Uint16 = Uint16;
class Uint32 extends Int_ {
    constructor() { super(false, 32); }
}
exports.Uint32 = Uint32;
class Uint64 extends Int_ {
    constructor() { super(false, 64); }
}
exports.Uint64 = Uint64;
class Float extends DataType {
    constructor(_precision) {
        super();
        this._precision = _precision;
    }
    get typeId() { return enum_1.Type.Float; }
    get precision() { return this._precision; }
    get ArrayType() {
        switch (this.precision) {
            case enum_1.Precision.HALF: return Uint16Array;
            case enum_1.Precision.SINGLE: return Float32Array;
            case enum_1.Precision.DOUBLE: return Float64Array;
        }
        throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`);
    }
    toString() { return `Float${(this.precision << 5) || 16}`; }
}
Float[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Float';
})(Float.prototype);
exports.Float = Float;
class Float16 extends Float {
    constructor() { super(enum_1.Precision.HALF); }
}
exports.Float16 = Float16;
class Float32 extends Float {
    constructor() { super(enum_1.Precision.SINGLE); }
}
exports.Float32 = Float32;
class Float64 extends Float {
    constructor() { super(enum_1.Precision.DOUBLE); }
}
exports.Float64 = Float64;
class Binary extends DataType {
    constructor() {
        super();
    }
    get typeId() { return enum_1.Type.Binary; }
    toString() { return `Binary`; }
}
Binary[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'Binary';
})(Binary.prototype);
exports.Binary = Binary;
class Utf8 extends DataType {
    constructor() {
        super();
    }
    get typeId() { return enum_1.Type.Utf8; }
    toString() { return `Utf8`; }
}
Utf8[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'Utf8';
})(Utf8.prototype);
exports.Utf8 = Utf8;
class Bool extends DataType {
    constructor() {
        super();
    }
    get typeId() { return enum_1.Type.Bool; }
    toString() { return `Bool`; }
}
Bool[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'Bool';
})(Bool.prototype);
exports.Bool = Bool;
class Decimal extends DataType {
    constructor(_scale, _precision) {
        super();
        this._scale = _scale;
        this._precision = _precision;
    }
    get typeId() { return enum_1.Type.Decimal; }
    get scale() { return this._scale; }
    get precision() { return this._precision; }
    toString() { return `Decimal[${this._precision}e${this._scale > 0 ? `+` : ``}${this._scale}]`; }
}
Decimal[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint32Array;
    return proto[Symbol.toStringTag] = 'Decimal';
})(Decimal.prototype);
exports.Decimal = Decimal;
class Date_ extends DataType {
    constructor(_unit) {
        super();
        this._unit = _unit;
    }
    get typeId() { return enum_1.Type.Date; }
    get unit() { return this._unit; }
    toString() { return `Date${(this._unit + 1) * 32}<${enum_1.DateUnit[this._unit]}>`; }
}
Date_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int32Array;
    return proto[Symbol.toStringTag] = 'Date';
})(Date_.prototype);
exports.Date_ = Date_;
class DateDay extends Date_ {
    constructor() { super(enum_1.DateUnit.DAY); }
}
exports.DateDay = DateDay;
class DateMillisecond extends Date_ {
    constructor() { super(enum_1.DateUnit.MILLISECOND); }
}
exports.DateMillisecond = DateMillisecond;
class Time_ extends DataType {
    constructor(_unit, _bitWidth) {
        super();
        this._unit = _unit;
        this._bitWidth = _bitWidth;
    }
    get typeId() { return enum_1.Type.Time; }
    get unit() { return this._unit; }
    get bitWidth() { return this._bitWidth; }
    toString() { return `Time${this._bitWidth}<${enum_1.TimeUnit[this._unit]}>`; }
}
Time_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int32Array;
    return proto[Symbol.toStringTag] = 'Time';
})(Time_.prototype);
exports.Time = Time_;
class TimeSecond extends Time_ {
    constructor() { super(enum_1.TimeUnit.SECOND, 32); }
}
exports.TimeSecond = TimeSecond;
class TimeMillisecond extends Time_ {
    constructor() { super(enum_1.TimeUnit.MILLISECOND, 32); }
}
exports.TimeMillisecond = TimeMillisecond;
class TimeMicrosecond extends Time_ {
    constructor() { super(enum_1.TimeUnit.MICROSECOND, 64); }
}
exports.TimeMicrosecond = TimeMicrosecond;
class TimeNanosecond extends Time_ {
    constructor() { super(enum_1.TimeUnit.NANOSECOND, 64); }
}
exports.TimeNanosecond = TimeNanosecond;
class Timestamp_ extends DataType {
    constructor(_unit, _timezone) {
        super();
        this._unit = _unit;
        this._timezone = _timezone;
    }
    get typeId() { return enum_1.Type.Timestamp; }
    get unit() { return this._unit; }
    get timezone() { return this._timezone; }
    toString() { return `Timestamp<${enum_1.TimeUnit[this._unit]}${this._timezone ? `, ${this._timezone}` : ``}>`; }
}
Timestamp_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int32Array;
    return proto[Symbol.toStringTag] = 'Timestamp';
})(Timestamp_.prototype);
exports.Timestamp = Timestamp_;
class TimestampSecond extends Timestamp_ {
    constructor(timezone) { super(enum_1.TimeUnit.SECOND, timezone); }
}
exports.TimestampSecond = TimestampSecond;
class TimestampMillisecond extends Timestamp_ {
    constructor(timezone) { super(enum_1.TimeUnit.MILLISECOND, timezone); }
}
exports.TimestampMillisecond = TimestampMillisecond;
class TimestampMicrosecond extends Timestamp_ {
    constructor(timezone) { super(enum_1.TimeUnit.MICROSECOND, timezone); }
}
exports.TimestampMicrosecond = TimestampMicrosecond;
class TimestampNanosecond extends Timestamp_ {
    constructor(timezone) { super(enum_1.TimeUnit.NANOSECOND, timezone); }
}
exports.TimestampNanosecond = TimestampNanosecond;
class Interval_ extends DataType {
    constructor(_unit) {
        super();
        this._unit = _unit;
    }
    get typeId() { return enum_1.Type.Interval; }
    get unit() { return this._unit; }
    toString() { return `Interval<${enum_1.IntervalUnit[this._unit]}>`; }
}
Interval_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int32Array;
    return proto[Symbol.toStringTag] = 'Interval';
})(Interval_.prototype);
exports.Interval = Interval_;
class IntervalDayTime extends Interval_ {
    constructor() { super(enum_1.IntervalUnit.DAY_TIME); }
}
exports.IntervalDayTime = IntervalDayTime;
class IntervalYearMonth extends Interval_ {
    constructor() { super(enum_1.IntervalUnit.YEAR_MONTH); }
}
exports.IntervalYearMonth = IntervalYearMonth;
class List extends DataType {
    constructor(child) {
        super([child]);
    }
    get typeId() { return enum_1.Type.List; }
    toString() { return `List<${this.valueType}>`; }
    get children() { return this._children; }
    get valueType() { return this._children[0].type; }
    get valueField() { return this._children[0]; }
    get ArrayType() { return this.valueType.ArrayType; }
}
List[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'List';
})(List.prototype);
exports.List = List;
class Struct extends DataType {
    constructor(_children) {
        super(_children);
        this._children = _children;
    }
    get typeId() { return enum_1.Type.Struct; }
    get children() { return this._children; }
    toString() { return `Struct<[${this._children.map((f) => f.type).join(`, `)}]>`; }
}
Struct[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Struct';
})(Struct.prototype);
exports.Struct = Struct;
class Union_ extends DataType {
    constructor(_mode, _typeIds, _children) {
        super(_children);
        this._mode = _mode;
        this._children = _children;
        this._typeIds = _typeIds = Int32Array.from(_typeIds);
        this._typeIdToChildIndex = _typeIds.reduce((typeIdToChildIndex, typeId, idx) => {
            return (typeIdToChildIndex[typeId] = idx) && typeIdToChildIndex || typeIdToChildIndex;
        }, Object.create(null));
    }
    get typeId() { return enum_1.Type.Union; }
    get mode() { return this._mode; }
    get typeIds() { return this._typeIds; }
    get children() { return this._children; }
    get typeIdToChildIndex() { return this._typeIdToChildIndex; }
    toString() {
        return `${this[Symbol.toStringTag]}<${this._children.map((x) => `${x.type}`).join(` | `)}>`;
    }
}
Union_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int32Array;
    return proto[Symbol.toStringTag] = 'Union';
})(Union_.prototype);
exports.Union = Union_;
class DenseUnion extends Union_ {
    constructor(typeIds, children) {
        super(enum_1.UnionMode.Dense, typeIds, children);
    }
}
exports.DenseUnion = DenseUnion;
class SparseUnion extends Union_ {
    constructor(typeIds, children) {
        super(enum_1.UnionMode.Sparse, typeIds, children);
    }
}
exports.SparseUnion = SparseUnion;
class FixedSizeBinary extends DataType {
    constructor(_byteWidth) {
        super();
        this._byteWidth = _byteWidth;
    }
    get typeId() { return enum_1.Type.FixedSizeBinary; }
    get byteWidth() { return this._byteWidth; }
    toString() { return `FixedSizeBinary[${this.byteWidth}]`; }
}
FixedSizeBinary[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'FixedSizeBinary';
})(FixedSizeBinary.prototype);
exports.FixedSizeBinary = FixedSizeBinary;
class FixedSizeList extends DataType {
    constructor(_listSize, child) {
        super([child]);
        this._listSize = _listSize;
    }
    get typeId() { return enum_1.Type.FixedSizeList; }
    get listSize() { return this._listSize; }
    get children() { return this._children; }
    get valueType() { return this.children[0].type; }
    get valueField() { return this.children[0]; }
    get ArrayType() { return this.valueType.ArrayType; }
    toString() { return `FixedSizeList[${this._listSize}]<${this.valueType}>`; }
}
FixedSizeList[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'FixedSizeList';
})(FixedSizeList.prototype);
exports.FixedSizeList = FixedSizeList;
class Map_ extends DataType {
    constructor(_children, _keysSorted = false) {
        super(_children);
        this._children = _children;
        this._keysSorted = _keysSorted;
    }
    get typeId() { return enum_1.Type.Map; }
    get children() { return this._children; }
    get keysSorted() { return this._keysSorted; }
    toString() { return `Map<{${this._children.map((f) => `${f.name}:${f.type}`).join(`, `)}}>`; }
}
Map_[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Map_';
})(Map_.prototype);
exports.Map_ = Map_;
/** @ignore */
const getId = ((atomicDictionaryId) => () => ++atomicDictionaryId)(-1);
class Dictionary extends DataType {
    constructor(dictionary, indices, id, isOrdered, dictionaryVector) {
        super();
        this._indices = indices;
        this._dictionary = dictionary;
        this._isOrdered = isOrdered || false;
        this._dictionaryVector = dictionaryVector;
        this._id = id == null ? getId() : typeof id === 'number' ? id : id.low;
    }
    set dictionaryVector(v) { this._dictionaryVector = v; }
    get dictionaryVector() { return this._dictionaryVector; }
    get typeId() { return enum_1.Type.Dictionary; }
    get id() { return this._id; }
    get indices() { return this._indices; }
    get dictionary() { return this._dictionary; }
    get isOrdered() { return this._isOrdered; }
    set children(_) { }
    get children() { return this.dictionary.children; }
    get valueType() { return this.dictionary; }
    get ArrayType() { return this.dictionary.ArrayType; }
    toString() { return `Dictionary<${this.indices}, ${this.dictionary}>`; }
}
Dictionary[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Dictionary';
})(Dictionary.prototype);
exports.Dictionary = Dictionary;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInR5cGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLDZEQUE2RDtBQUM3RCwrREFBK0Q7QUFDL0Qsd0RBQXdEO0FBQ3hELDZEQUE2RDtBQUM3RCxvREFBb0Q7QUFDcEQsNkRBQTZEO0FBQzdELDZEQUE2RDtBQUM3RCxFQUFFO0FBQ0YsK0NBQStDO0FBQy9DLEVBQUU7QUFDRiw2REFBNkQ7QUFDN0QsOERBQThEO0FBQzlELHlEQUF5RDtBQUN6RCw0REFBNEQ7QUFDNUQsMERBQTBEO0FBQzFELHFCQUFxQjs7QUFXckIsaUNBSWdCO0FBdUJoQixNQUFhLFFBQVE7SUEyQmpCLFlBQXNCLFNBQStDO1FBQS9DLGNBQVMsR0FBVCxTQUFTLENBQXNDO0lBQUcsQ0FBQztJQXRCekUsa0JBQWtCLENBQUMsTUFBTSxDQUFZLE1BQU0sQ0FBRSxDQUFNLElBQTBCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssV0FBSSxDQUFDLElBQUksQ0FBQyxDQUFZLENBQUM7SUFDN0gsa0JBQWtCLENBQUMsTUFBTSxDQUFhLEtBQUssQ0FBRSxDQUFNLElBQTBCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssV0FBSSxDQUFDLEdBQUcsQ0FBQyxDQUFhLENBQUM7SUFDN0gsa0JBQWtCLENBQUMsTUFBTSxDQUFXLE9BQU8sQ0FBRSxDQUFNLElBQTBCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssV0FBSSxDQUFDLEtBQUssQ0FBQyxDQUFXLENBQUM7SUFDN0gsa0JBQWtCLENBQUMsTUFBTSxDQUFVLFFBQVEsQ0FBRSxDQUFNLElBQTBCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssV0FBSSxDQUFDLE1BQU0sQ0FBQyxDQUFVLENBQUM7SUFDN0gsa0JBQWtCLENBQUMsTUFBTSxDQUFZLE1BQU0sQ0FBRSxDQUFNLElBQTBCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssV0FBSSxDQUFDLElBQUksQ0FBQyxDQUFZLENBQUM7SUFDN0gsa0JBQWtCLENBQUMsTUFBTSxDQUFZLE1BQU0sQ0FBRSxDQUFNLElBQTBCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssV0FBSSxDQUFDLElBQUksQ0FBQyxDQUFZLENBQUM7SUFDN0gsa0JBQWtCLENBQUMsTUFBTSxDQUFTLFNBQVMsQ0FBRSxDQUFNLElBQTBCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssV0FBSSxDQUFDLE9BQU8sQ0FBQyxDQUFTLENBQUM7SUFDN0gsa0JBQWtCLENBQUMsTUFBTSxDQUFZLE1BQU0sQ0FBRSxDQUFNLElBQTBCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssV0FBSSxDQUFDLElBQUksQ0FBQyxDQUFZLENBQUM7SUFDN0gsa0JBQWtCLENBQUMsTUFBTSxDQUFZLE1BQU0sQ0FBRSxDQUFNLElBQTBCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssV0FBSSxDQUFDLElBQUksQ0FBQyxDQUFZLENBQUM7SUFDN0gsa0JBQWtCLENBQUMsTUFBTSxDQUFPLFdBQVcsQ0FBRSxDQUFNLElBQTBCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssV0FBSSxDQUFDLFNBQVMsQ0FBQyxDQUFPLENBQUM7SUFDN0gsa0JBQWtCLENBQUMsTUFBTSxDQUFRLFVBQVUsQ0FBRSxDQUFNLElBQTBCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssV0FBSSxDQUFDLFFBQVEsQ0FBQyxDQUFRLENBQUM7SUFDN0gsa0JBQWtCLENBQUMsTUFBTSxDQUFZLE1BQU0sQ0FBRSxDQUFNLElBQTBCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssV0FBSSxDQUFDLElBQUksQ0FBQyxDQUFZLENBQUM7SUFDN0gsa0JBQWtCLENBQUMsTUFBTSxDQUFVLFFBQVEsQ0FBRSxDQUFNLElBQTBCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUss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QyxVQUFVLENBQUMsQ0FBQyxDQUFDO0lBQ2xELElBQVcsUUFBUSxDQUFDLENBQWdCLElBQUcsQ0FBQztJQUN4QyxJQUFXLFFBQVEsS0FBSyxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztJQUMxRCxJQUFXLFNBQVMsS0FBUSxPQUFPLElBQUksQ0FBQyxVQUFlLENBQUMsQ0FBQyxDQUFDO0lBQzFELElBQVcsU0FBUyxLQUFxQixPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztJQUNyRSxRQUFRLEtBQUssT0FBTyxjQUFjLElBQUksQ0FBQyxPQUFPLEtBQUssSUFBSSxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUMsQ0FBQzs7QUFDOUQsV0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQWlCLEVBQUUsRUFBRTtJQUMzRCxPQUFPLEtBQUssQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsWUFBWSxDQUFDO0FBQ3BELENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsQ0FBQztBQTVCN0IsZ0NBNkJDIiwiZmlsZSI6InR5cGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4vLyBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbi8vIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4vLyByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4vLyB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4vLyBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Vcbi8vIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbi8vIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4vLyBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuLy8gS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4vLyBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4vLyB1bmRlciB0aGUgTGljZW5zZS5cblxuLyogdHNsaW50OmRpc2FibGU6Y2xhc3MtbmFtZSAqL1xuXG5pbXBvcnQgeyBGaWVsZCB9IGZyb20gJy4vc2NoZW1hJztcbmltcG9ydCB7IFZlY3RvciB9IGZyb20gJy4vdmVjdG9yJztcbmltcG9ydCB7IGZsYXRidWZmZXJzIH0gZnJvbSAnZmxhdGJ1ZmZlcnMnO1xuaW1wb3J0IHsgVmVjdG9yIGFzIFZUeXBlIH0gZnJvbSAnLi9pbnRlcmZhY2VzJztcbmltcG9ydCB7IEFycmF5QnVmZmVyVmlld0NvbnN0cnVjdG9yIH0gZnJvbSAnLi9pbnRlcmZhY2VzJztcblxuaW1wb3J0IExvbmcgPSBmbGF0YnVmZmVycy5Mb25nO1xuaW1wb3J0IHtcbiAgICBUeXBlLFxuICAgIFByZWNpc2lvbiwgVW5pb25Nb2RlLFxuICAgIERhdGVVbml0LCBUaW1lVW5pdCwgSW50ZXJ2YWxVbml0XG59IGZyb20gJy4vZW51bSc7XG5cbi8qKiBAaWdub3JlICovXG5leHBvcnQgdHlwZSBUaW1lQml0V2lkdGggPSAzMiB8IDY0O1xuLyoqIEBpZ25vcmUgKi9cbmV4cG9ydCB0eXBlIEludEJpdFdpZHRoID0gOCB8IDE2IHwgMzIgfCA2NDtcbi8qKiBAaWdub3JlICovXG5leHBvcnQgdHlwZSBJc1NpZ25lZCA9IHsgJ3RydWUnOiB0cnVlOyAnZmFsc2UnOiBmYWxzZSB9O1xuLyoqIEBpZ25vcmUgKi9cbmV4cG9ydCB0eXBlIFJvd0xpa2U8VCBleHRlbmRzIHsgW2tleTogc3RyaW5nXTogRGF0YVR5cGU7IH0+ID1cbiAgICAgIHsgcmVhZG9ubHkgbGVuZ3RoOiBudW1iZXIgfVxuICAgICYgKCBJdGVyYWJsZTxUW2tleW9mIFRdWydUVmFsdWUnXT4gKVxuICAgICYgeyBbUCBpbiBrZXlvZiBUXTogVFtQXVsnVFZhbHVlJ10gfVxuICAgICYgeyBnZXQ8SyBleHRlbmRzIGtleW9mIFQ+KGtleTogSyk6IFRbS11bJ1RWYWx1ZSddOyB9XG4gICAgO1xuXG5leHBvcnQgaW50ZXJmYWNlIERhdGFUeXBlPFRUeXBlIGV4dGVuZHMgVHlwZSA9IFR5cGU+IHtcbiAgICByZWFkb25seSBUVHlwZTogVFR5cGU7XG4gICAgcmVhZG9ubHkgVEFycmF5OiBhbnk7XG4gICAgcmVhZG9ubHkgVFZhbHVlOiBhbnk7XG4gICAgcmVhZG9ubHkgQXJyYXlUeXBlOiBhbnk7XG59XG5cbmV4cG9ydCBjbGFzcyBEYXRhVHlwZTxUVHlwZSBleHRlbmRzIFR5cGUgPSBUeXBlLCBUQ2hpbGRyZW4gZXh0ZW5kcyB7IFtrZXk6IHN0cmluZ106IERhdGFUeXBlIH0gPSBhbnk+IHtcblxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBwdWJsaWMgW1N5bWJvbC50b1N0cmluZ1RhZ106IHN0cmluZztcblxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgICAgICBpc051bGwgKHg6IGFueSk6IHggaXMgTnVsbCAgICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC50eXBlSWQgPT09IFR5cGUuTnVsbDsgICAgICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICAgICAgICBpc0ludCAoeDogYW55KTogeCBpcyBJbnRfICAgICAgICAgICAgeyByZXR1cm4geCAmJiB4LnR5cGVJZCA9PT0gVHlwZS5JbnQ7ICAgICAgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICAgICBpc0Zsb2F0ICh4OiBhbnkpOiB4IGlzIEZsb2F0ICAgICAgICAgICB7IHJldHVybiB4ICYmIHgudHlwZUlkID09PSBUeXBlLkZsb2F0OyAgICAgICAgICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgICAgaXNCaW5hcnkgKHg6IGFueSk6IHggaXMgQmluYXJ5ICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC50eXBlSWQgPT09IFR5cGUuQmluYXJ5OyAgICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICAgICAgIGlzVXRmOCAoeDogYW55KTogeCBpcyBVdGY4ICAgICAgICAgICAgeyByZXR1cm4geCAmJiB4LnR5cGVJZCA9PT0gVHlwZS5VdGY4OyAgICAgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICAgICAgaXNCb29sICh4OiBhbnkpOiB4IGlzIEJvb2wgICAgICAgICAgICB7IHJldHVybiB4ICYmIHgudHlwZUlkID09PSBUeXBlLkJvb2w7ICAgICAgICAgICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgICBpc0RlY2ltYWwgKHg6IGFueSk6IHggaXMgRGVjaW1hbCAgICAgICAgIHsgcmV0dXJuIHggJiYgeC50eXBlSWQgPT09IFR5cGUuRGVjaW1hbDsgICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICAgICAgIGlzRGF0ZSAoeDogYW55KTogeCBpcyBEYXRlXyAgICAgICAgICAgeyByZXR1cm4geCAmJiB4LnR5cGVJZCA9PT0gVHlwZS5EYXRlOyAgICAgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICAgICAgaXNUaW1lICh4OiBhbnkpOiB4IGlzIFRpbWVfICAgICAgICAgICB7IHJldHVybiB4ICYmIHgudHlwZUlkID09PSBUeXBlLlRpbWU7ICAgICAgICAgICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgaXNUaW1lc3RhbXAgKHg6IGFueSk6IHggaXMgVGltZXN0YW1wXyAgICAgIHsgcmV0dXJuIHggJiYgeC50eXBlSWQgPT09IFR5cGUuVGltZXN0YW1wOyAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICAgaXNJbnRlcnZhbCAoeDogYW55KTogeCBpcyBJbnRlcnZhbF8gICAgICAgeyByZXR1cm4geCAmJiB4LnR5cGVJZCA9PT0gVHlwZS5JbnRlcnZhbDsgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICAgICAgaXNMaXN0ICh4OiBhbnkpOiB4IGlzIExpc3QgICAgICAgICAgICB7IHJldHVybiB4ICYmIHgudHlwZUlkID09PSBUeXBlLkxpc3Q7ICAgICAgICAgICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgICAgaXNTdHJ1Y3QgKHg6IGFueSk6IHggaXMgU3RydWN0ICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC50eXBlSWQgPT09IFR5cGUuU3RydWN0OyAgICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICAgICAgaXNVbmlvbiAoeDogYW55KTogeCBpcyBVbmlvbl8gICAgICAgICAgeyByZXR1cm4geCAmJiB4LnR5cGVJZCA9PT0gVHlwZS5VbmlvbjsgICAgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljIGlzRml4ZWRTaXplQmluYXJ5ICh4OiBhbnkpOiB4IGlzIEZpeGVkU2l6ZUJpbmFyeSB7IHJldHVybiB4ICYmIHgudHlwZUlkID09PSBUeXBlLkZpeGVkU2l6ZUJpbmFyeTsgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICBpc0ZpeGVkU2l6ZUxpc3QgKHg6IGFueSk6IHggaXMgRml4ZWRTaXplTGlzdCAgIHsgcmV0dXJuIHggJiYgeC50eXBlSWQgPT09IFR5cGUuRml4ZWRTaXplTGlzdDsgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICAgICAgICBpc01hcCAoeDogYW55KTogeCBpcyBNYXBfICAgICAgICAgICAgeyByZXR1cm4geCAmJiB4LnR5cGVJZCA9PT0gVHlwZS5NYXA7ICAgICAgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgaXNEaWN0aW9uYXJ5ICh4OiBhbnkpOiB4IGlzIERpY3Rpb25hcnkgICAgICB7IHJldHVybiB4ICYmIHgudHlwZUlkID09PSBUeXBlLkRpY3Rpb25hcnk7ICAgICAgfVxuXG4gICAgcHVibGljIGdldCBjaGlsZHJlbigpIHsgcmV0dXJuIHRoaXMuX2NoaWxkcmVuOyB9XG4gICAgcHVibGljIGdldCB0eXBlSWQoKTogVFR5cGUgeyByZXR1cm4gPGFueT4gVHlwZS5OT05FOyB9XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX2NoaWxkcmVuPzogRmllbGQ8VENoaWxkcmVuW2tleW9mIFRDaGlsZHJlbl0+W10pIHt9XG5cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogRGF0YVR5cGUpID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnRGF0YVR5cGUnO1xuICAgIH0pKERhdGFUeXBlLnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTnVsbCBleHRlbmRzIERhdGFUeXBlPFR5cGUuTnVsbD4geyBUQXJyYXk6IHZvaWQ7IFRWYWx1ZTogbnVsbDsgfVxuZXhwb3J0IGNsYXNzIE51bGwgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLk51bGw+IHtcbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgTnVsbGA7IH1cbiAgICBwdWJsaWMgZ2V0IHR5cGVJZCgpIHsgcmV0dXJuIFR5cGUuTnVsbCBhcyBUeXBlLk51bGw7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogTnVsbCkgPT4ge1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdOdWxsJztcbiAgICB9KShOdWxsLnByb3RvdHlwZSk7XG59XG5cbi8qKiBAaWdub3JlICovXG50eXBlIEludHMgPSBUeXBlLkludCB8IFR5cGUuSW50OCB8IFR5cGUuSW50MTYgfCBUeXBlLkludDMyIHwgVHlwZS5JbnQ2NCB8IFR5cGUuVWludDggfCBUeXBlLlVpbnQxNiB8IFR5cGUuVWludDMyIHwgVHlwZS5VaW50NjQ7XG4vKiogQGlnbm9yZSAqL1xudHlwZSBJVHlwZSA9IHtcbiAgICBbVHlwZS5JbnQgICBdOiB7IGJpdFdpZHRoOiBJbnRCaXRXaWR0aDsgaXNTaWduZWQ6IHRydWUgfCBmYWxzZTsgVEFycmF5OiBJbnRBcnJheTsgICAgVFZhbHVlOiBudW1iZXIgfCBJbnQzMkFycmF5IHwgVWludDMyQXJyYXk7IH07XG4gICAgW1R5cGUuSW50OCAgXTogeyBiaXRXaWR0aDogICAgICAgICAgIDg7IGlzU2lnbmVkOiB0cnVlOyAgICAgICAgIFRBcnJheTogSW50OEFycmF5OyAgIFRWYWx1ZTogbnVtYmVyOyAgICAgICAgICAgIH07XG4gICAgW1R5cGUuSW50MTYgXTogeyBiaXRXaWR0aDogICAgICAgICAgMTY7IGlzU2lnbmVkOiB0cnVlOyAgICAgICAgIFRBcnJheTogSW50MTZBcnJheTsgIFRWYWx1ZTogbnVtYmVyOyAgICAgICAgICAgIH07XG4gICAgW1R5cGUuSW50MzIgXTogeyBiaXRXaWR0aDogICAgICAgICAgMzI7IGlzU2lnbmVkOiB0cnVlOyAgICAgICAgIFRBcnJheTogSW50MzJBcnJheTsgIFRWYWx1ZTogbnVtYmVyOyAgICAgICAgICAgIH07XG4gICAgW1R5cGUuSW50NjQgXTogeyBiaXRXaWR0aDogICAgICAgICAgNjQ7IGlzU2lnbmVkOiB0cnVlOyAgICAgICAgIFRBcnJheTogSW50MzJBcnJheTsgIFRWYWx1ZTogSW50MzJBcnJheTsgICAgICAgIH07XG4gICAgW1R5cGUuVWludDggXTogeyBiaXRXaWR0aDogICAgICAgICAgIDg7IGlzU2lnbmVkOiBmYWxzZTsgICAgICAgIFRBcnJheTogVWludDhBcnJheTsgIFRWYWx1ZTogbnVtYmVyOyAgICAgICAgICAgIH07XG4gICAgW1R5cGUuVWludDE2XTogeyBiaXRXaWR0aDogICAgICAgICAgMTY7IGlzU2lnbmVkOiBmYWxzZTsgICAgICAgIFRBcnJheTogVWludDE2QXJyYXk7IFRWYWx1ZTogbnVtYmVyOyAgICAgICAgICAgIH07XG4gICAgW1R5cGUuVWludDMyXTogeyBiaXRXaWR0aDogICAgICAgICAgMzI7IGlzU2lnbmVkOiBmYWxzZTsgICAgICAgIFRBcnJheTogVWludDMyQXJyYXk7IFRWYWx1ZTogbnVtYmVyOyAgICAgICAgICAgIH07XG4gICAgW1R5cGUuVWludDY0XTogeyBiaXRXaWR0aDogICAgICAgICAgNjQ7IGlzU2lnbmVkOiBmYWxzZTsgICAgICAgIFRBcnJheTogVWludDMyQXJyYXk7IFRWYWx1ZTogVWludDMyQXJyYXk7ICAgICAgIH07XG59O1xuXG5pbnRlcmZhY2UgSW50XzxUIGV4dGVuZHMgSW50cyA9IEludHM+IGV4dGVuZHMgRGF0YVR5cGU8VD4geyBUQXJyYXk6IElUeXBlW1RdWydUQXJyYXknXTsgVFZhbHVlOiBJVHlwZVtUXVsnVFZhbHVlJ107IH1cbmNsYXNzIEludF88VCBleHRlbmRzIEludHMgPSBJbnRzPiBleHRlbmRzIERhdGFUeXBlPFQ+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX2lzU2lnbmVkOiBJVHlwZVtUXVsnaXNTaWduZWQnXSxcbiAgICAgICAgICAgICAgICBwcm90ZWN0ZWQgX2JpdFdpZHRoOiBJVHlwZVtUXVsnYml0V2lkdGgnXSkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHR5cGVJZCgpIHsgcmV0dXJuIFR5cGUuSW50IGFzIFQ7IH1cbiAgICBwdWJsaWMgZ2V0IGlzU2lnbmVkKCkgeyByZXR1cm4gdGhpcy5faXNTaWduZWQ7IH1cbiAgICBwdWJsaWMgZ2V0IGJpdFdpZHRoKCkgeyByZXR1cm4gdGhpcy5fYml0V2lkdGg7IH1cbiAgICBwdWJsaWMgZ2V0IEFycmF5VHlwZSgpOiBBcnJheUJ1ZmZlclZpZXdDb25zdHJ1Y3RvcjxJVHlwZVtUXVsnVEFycmF5J10+IHtcbiAgICAgICAgc3dpdGNoICh0aGlzLl9iaXRXaWR0aCkge1xuICAgICAgICAgICAgY2FzZSAgODogcmV0dXJuICh0aGlzLl9pc1NpZ25lZCA/ICBJbnQ4QXJyYXkgOiAgVWludDhBcnJheSkgYXMgYW55O1xuICAgICAgICAgICAgY2FzZSAxNjogcmV0dXJuICh0aGlzLl9pc1NpZ25lZCA/IEludDE2QXJyYXkgOiBVaW50MTZBcnJheSkgYXMgYW55O1xuICAgICAgICAgICAgY2FzZSAzMjogcmV0dXJuICh0aGlzLl9pc1NpZ25lZCA/IEludDMyQXJyYXkgOiBVaW50MzJBcnJheSkgYXMgYW55O1xuICAgICAgICAgICAgY2FzZSA2NDogcmV0dXJuICh0aGlzLl9pc1NpZ25lZCA/IEludDMyQXJyYXkgOiBVaW50MzJBcnJheSkgYXMgYW55O1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5yZWNvZ25pemVkICR7dGhpc1tTeW1ib2wudG9TdHJpbmdUYWddfSB0eXBlYCk7XG4gICAgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGAke3RoaXMuX2lzU2lnbmVkID8gYElgIDogYFVpYH1udCR7dGhpcy5fYml0V2lkdGh9YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBJbnRfKSA9PiB7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ0ludCc7XG4gICAgfSkoSW50Xy5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgeyBJbnRfIGFzIEludCB9O1xuXG5leHBvcnQgY2xhc3MgSW50OCBleHRlbmRzIEludF88VHlwZS5JbnQ4PiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcih0cnVlLCA4KTsgfSB9XG5leHBvcnQgY2xhc3MgSW50MTYgZXh0ZW5kcyBJbnRfPFR5cGUuSW50MTY+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKHRydWUsIDE2KTsgfSB9XG5leHBvcnQgY2xhc3MgSW50MzIgZXh0ZW5kcyBJbnRfPFR5cGUuSW50MzI+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKHRydWUsIDMyKTsgfSB9XG5leHBvcnQgY2xhc3MgSW50NjQgZXh0ZW5kcyBJbnRfPFR5cGUuSW50NjQ+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKHRydWUsIDY0KTsgfSB9XG5leHBvcnQgY2xhc3MgVWludDggZXh0ZW5kcyBJbnRfPFR5cGUuVWludDg+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKGZhbHNlLCA4KTsgfSB9XG5leHBvcnQgY2xhc3MgVWludDE2IGV4dGVuZHMgSW50XzxUeXBlLlVpbnQxNj4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoZmFsc2UsIDE2KTsgfSB9XG5leHBvcnQgY2xhc3MgVWludDMyIGV4dGVuZHMgSW50XzxUeXBlLlVpbnQzMj4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoZmFsc2UsIDMyKTsgfSB9XG5leHBvcnQgY2xhc3MgVWludDY0IGV4dGVuZHMgSW50XzxUeXBlLlVpbnQ2ND4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoZmFsc2UsIDY0KTsgfSB9XG5cbi8qKiBAaWdub3JlICovXG50eXBlIEZsb2F0cyA9IFR5cGUuRmxvYXQgfCBUeXBlLkZsb2F0MTYgfCBUeXBlLkZsb2F0MzIgfCBUeXBlLkZsb2F0NjQ7XG4vKiogQGlnbm9yZSAqL1xudHlwZSBGVHlwZSA9IHtcbiAgICBbVHlwZS5GbG9hdCAgXTogeyBwcmVjaXNpb246IFByZWNpc2lvbjsgICAgICAgIFRBcnJheTogRmxvYXRBcnJheTsgICAgVFZhbHVlOiBudW1iZXI7IH07XG4gICAgW1R5cGUuRmxvYXQxNl06IHsgcHJlY2lzaW9uOiBQcmVjaXNpb24uSEFMRjsgICBUQXJyYXk6IFVpbnQxNkFycmF5OyAgIFRWYWx1ZTogbnVtYmVyOyB9O1xuICAgIFtUeXBlLkZsb2F0MzJdOiB7IHByZWNpc2lvbjogUHJlY2lzaW9uLlNJTkdMRTsgVEFycmF5OiBGbG9hdDMyQXJyYXk7ICBUVmFsdWU6IG51bWJlcjsgfTtcbiAgICBbVHlwZS5GbG9hdDY0XTogeyBwcmVjaXNpb246IFByZWNpc2lvbi5ET1VCTEU7IFRBcnJheTogRmxvYXQ2NEFycmF5OyAgVFZhbHVlOiBudW1iZXI7IH07XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIEZsb2F0PFQgZXh0ZW5kcyBGbG9hdHMgPSBGbG9hdHM+IGV4dGVuZHMgRGF0YVR5cGU8VD4geyBUQXJyYXk6IEZUeXBlW1RdWydUQXJyYXknXTsgVFZhbHVlOiBudW1iZXI7IH1cbmV4cG9ydCBjbGFzcyBGbG9hdDxUIGV4dGVuZHMgRmxvYXRzID0gRmxvYXRzPiBleHRlbmRzIERhdGFUeXBlPFQ+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX3ByZWNpc2lvbjogUHJlY2lzaW9uKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkKCkgeyByZXR1cm4gVHlwZS5GbG9hdCBhcyBUOyB9XG4gICAgcHVibGljIGdldCBwcmVjaXNpb24oKSB7IHJldHVybiB0aGlzLl9wcmVjaXNpb247IH1cbiAgICBwdWJsaWMgZ2V0IEFycmF5VHlwZSgpOiBBcnJheUJ1ZmZlclZpZXdDb25zdHJ1Y3RvcjxGVHlwZVtUXVsnVEFycmF5J10+IHtcbiAgICAgICAgc3dpdGNoICh0aGlzLnByZWNpc2lvbikge1xuICAgICAgICAgICAgY2FzZSBQcmVjaXNpb24uSEFMRjogcmV0dXJuIFVpbnQxNkFycmF5O1xuICAgICAgICAgICAgY2FzZSBQcmVjaXNpb24uU0lOR0xFOiByZXR1cm4gRmxvYXQzMkFycmF5O1xuICAgICAgICAgICAgY2FzZSBQcmVjaXNpb24uRE9VQkxFOiByZXR1cm4gRmxvYXQ2NEFycmF5O1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5yZWNvZ25pemVkICR7dGhpc1tTeW1ib2wudG9TdHJpbmdUYWddfSB0eXBlYCk7XG4gICAgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBGbG9hdCR7KHRoaXMucHJlY2lzaW9uIDw8IDUpIHx8IDE2fWA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogRmxvYXQpID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnRmxvYXQnO1xuICAgIH0pKEZsb2F0LnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCBjbGFzcyBGbG9hdDE2IGV4dGVuZHMgRmxvYXQ8VHlwZS5GbG9hdDE2PiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihQcmVjaXNpb24uSEFMRik7IH0gfVxuZXhwb3J0IGNsYXNzIEZsb2F0MzIgZXh0ZW5kcyBGbG9hdDxUeXBlLkZsb2F0MzI+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKFByZWNpc2lvbi5TSU5HTEUpOyB9IH1cbmV4cG9ydCBjbGFzcyBGbG9hdDY0IGV4dGVuZHMgRmxvYXQ8VHlwZS5GbG9hdDY0PiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihQcmVjaXNpb24uRE9VQkxFKTsgfSB9XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmluYXJ5IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5CaW5hcnk+IHsgVEFycmF5OiBVaW50OEFycmF5OyBUVmFsdWU6IFVpbnQ4QXJyYXk7IH1cbmV4cG9ydCBjbGFzcyBCaW5hcnkgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkJpbmFyeT4ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHR5cGVJZCgpIHsgcmV0dXJuIFR5cGUuQmluYXJ5IGFzIFR5cGUuQmluYXJ5OyB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYEJpbmFyeWA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogQmluYXJ5KSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gVWludDhBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnQmluYXJ5JztcbiAgICB9KShCaW5hcnkucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVdGY4IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5VdGY4PiB7IFRBcnJheTogVWludDhBcnJheTsgVFZhbHVlOiBzdHJpbmc7IEFycmF5VHlwZTogdHlwZW9mIFVpbnQ4QXJyYXk7IH1cbmV4cG9ydCBjbGFzcyBVdGY4IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5VdGY4PiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkKCkgeyByZXR1cm4gVHlwZS5VdGY4IGFzIFR5cGUuVXRmODsgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBVdGY4YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBVdGY4KSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gVWludDhBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnVXRmOCc7XG4gICAgfSkoVXRmOC5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJvb2wgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkJvb2w+IHsgVEFycmF5OiBVaW50OEFycmF5OyBUVmFsdWU6IGJvb2xlYW47IEFycmF5VHlwZTogdHlwZW9mIFVpbnQ4QXJyYXk7IH1cbmV4cG9ydCBjbGFzcyBCb29sIGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5Cb29sPiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkKCkgeyByZXR1cm4gVHlwZS5Cb29sIGFzIFR5cGUuQm9vbDsgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBCb29sYDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBCb29sKSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gVWludDhBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnQm9vbCc7XG4gICAgfSkoQm9vbC5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERlY2ltYWwgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkRlY2ltYWw+IHsgVEFycmF5OiBVaW50MzJBcnJheTsgVFZhbHVlOiBVaW50MzJBcnJheTsgQXJyYXlUeXBlOiB0eXBlb2YgVWludDMyQXJyYXk7IH1cbmV4cG9ydCBjbGFzcyBEZWNpbWFsIGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5EZWNpbWFsPiB7XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIF9zY2FsZTogbnVtYmVyLFxuICAgICAgICAgICAgICAgIHByb3RlY3RlZCBfcHJlY2lzaW9uOiBudW1iZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG4gICAgcHVibGljIGdldCB0eXBlSWQoKSB7IHJldHVybiBUeXBlLkRlY2ltYWwgYXMgVHlwZS5EZWNpbWFsOyB9XG4gICAgcHVibGljIGdldCBzY2FsZSgpIHsgcmV0dXJuIHRoaXMuX3NjYWxlOyB9XG4gICAgcHVibGljIGdldCBwcmVjaXNpb24oKSB7IHJldHVybiB0aGlzLl9wcmVjaXNpb247IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgRGVjaW1hbFske3RoaXMuX3ByZWNpc2lvbn1lJHt0aGlzLl9zY2FsZSA+IDAgPyBgK2AgOiBgYH0ke3RoaXMuX3NjYWxlfV1gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IERlY2ltYWwpID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBVaW50MzJBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnRGVjaW1hbCc7XG4gICAgfSkoRGVjaW1hbC5wcm90b3R5cGUpO1xufVxuXG4vKiogQGlnbm9yZSAqL1xuZXhwb3J0IHR5cGUgRGF0ZXMgPSBUeXBlLkRhdGUgfCBUeXBlLkRhdGVEYXkgfCBUeXBlLkRhdGVNaWxsaXNlY29uZDtcbmV4cG9ydCBpbnRlcmZhY2UgRGF0ZV88VCBleHRlbmRzIERhdGVzID0gRGF0ZXM+IGV4dGVuZHMgRGF0YVR5cGU8VD4geyBUQXJyYXk6IEludDMyQXJyYXk7IFRWYWx1ZTogRGF0ZTsgQXJyYXlUeXBlOiB0eXBlb2YgSW50MzJBcnJheTsgfVxuZXhwb3J0IGNsYXNzIERhdGVfPFQgZXh0ZW5kcyBEYXRlcyA9IERhdGVzPiBleHRlbmRzIERhdGFUeXBlPFQ+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX3VuaXQ6IERhdGVVbml0KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkKCkgeyByZXR1cm4gVHlwZS5EYXRlIGFzIFQ7IH1cbiAgICBwdWJsaWMgZ2V0IHVuaXQoKSB7IHJldHVybiB0aGlzLl91bml0OyB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYERhdGUkeyh0aGlzLl91bml0ICsgMSkgKiAzMn08JHtEYXRlVW5pdFt0aGlzLl91bml0XX0+YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBEYXRlXykgPT4ge1xuICAgICAgICAoPGFueT4gcHJvdG8pLkFycmF5VHlwZSA9IEludDMyQXJyYXk7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ0RhdGUnO1xuICAgIH0pKERhdGVfLnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCBjbGFzcyBEYXRlRGF5IGV4dGVuZHMgRGF0ZV88VHlwZS5EYXRlRGF5PiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihEYXRlVW5pdC5EQVkpOyB9IH1cbmV4cG9ydCBjbGFzcyBEYXRlTWlsbGlzZWNvbmQgZXh0ZW5kcyBEYXRlXzxUeXBlLkRhdGVNaWxsaXNlY29uZD4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoRGF0ZVVuaXQuTUlMTElTRUNPTkQpOyB9IH1cblxuLyoqIEBpZ25vcmUgKi9cbnR5cGUgVGltZXMgPSBUeXBlLlRpbWUgfCBUeXBlLlRpbWVTZWNvbmQgfCBUeXBlLlRpbWVNaWxsaXNlY29uZCB8IFR5cGUuVGltZU1pY3Jvc2Vjb25kIHwgVHlwZS5UaW1lTmFub3NlY29uZDtcbi8qKiBAaWdub3JlICovXG50eXBlIFRpbWVzVHlwZSA9IHtcbiAgICBbVHlwZS5UaW1lICAgICAgICAgICBdOiB7IHVuaXQ6IFRpbWVVbml0OyAgICAgICAgICAgICBUVmFsdWU6IG51bWJlciB8IEludDMyQXJyYXkgfTtcbiAgICBbVHlwZS5UaW1lU2Vjb25kICAgICBdOiB7IHVuaXQ6IFRpbWVVbml0LlNFQ09ORDsgICAgICBUVmFsdWU6IG51bWJlcjsgICAgICAgICAgICAgfTtcbiAgICBbVHlwZS5UaW1lTWlsbGlzZWNvbmRdOiB7IHVuaXQ6IFRpbWVVbml0Lk1JTExJU0VDT05EOyBUVmFsdWU6IG51bWJlcjsgICAgICAgICAgICAgfTtcbiAgICBbVHlwZS5UaW1lTWljcm9zZWNvbmRdOiB7IHVuaXQ6IFRpbWVVbml0Lk1JQ1JPU0VDT05EOyBUVmFsdWU6IEludDMyQXJyYXk7ICAgICAgICAgfTtcbiAgICBbVHlwZS5UaW1lTmFub3NlY29uZCBdOiB7IHVuaXQ6IFRpbWVVbml0Lk5BTk9TRUNPTkQ7ICBUVmFsdWU6IEludDMyQXJyYXk7ICAgICAgICAgfTtcbn07XG5cbmludGVyZmFjZSBUaW1lXzxUIGV4dGVuZHMgVGltZXMgPSBUaW1lcz4gZXh0ZW5kcyBEYXRhVHlwZTxUPiB7IFRBcnJheTogSW50MzJBcnJheTsgVFZhbHVlOiBUaW1lc1R5cGVbVF1bJ1RWYWx1ZSddOyBBcnJheVR5cGU6IHR5cGVvZiBJbnQzMkFycmF5OyB9XG5jbGFzcyBUaW1lXzxUIGV4dGVuZHMgVGltZXMgPSBUaW1lcz4gZXh0ZW5kcyBEYXRhVHlwZTxUPiB7XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIF91bml0OiBUaW1lc1R5cGVbVF1bJ3VuaXQnXSxcbiAgICAgICAgICAgICAgICBwcm90ZWN0ZWQgX2JpdFdpZHRoOiBUaW1lQml0V2lkdGgpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG4gICAgcHVibGljIGdldCB0eXBlSWQoKSB7IHJldHVybiBUeXBlLlRpbWUgYXMgVDsgfVxuICAgIHB1YmxpYyBnZXQgdW5pdCgpIHsgcmV0dXJuIHRoaXMuX3VuaXQ7IH1cbiAgICBwdWJsaWMgZ2V0IGJpdFdpZHRoKCkgeyByZXR1cm4gdGhpcy5fYml0V2lkdGg7IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgVGltZSR7dGhpcy5fYml0V2lkdGh9PCR7VGltZVVuaXRbdGhpcy5fdW5pdF19PmA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogVGltZV8pID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBJbnQzMkFycmF5O1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdUaW1lJztcbiAgICB9KShUaW1lXy5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgeyBUaW1lXyBhcyBUaW1lIH07XG5cbmV4cG9ydCBjbGFzcyBUaW1lU2Vjb25kIGV4dGVuZHMgVGltZV88VHlwZS5UaW1lU2Vjb25kPiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihUaW1lVW5pdC5TRUNPTkQsIDMyKTsgfSB9XG5leHBvcnQgY2xhc3MgVGltZU1pbGxpc2Vjb25kIGV4dGVuZHMgVGltZV88VHlwZS5UaW1lTWlsbGlzZWNvbmQ+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKFRpbWVVbml0Lk1JTExJU0VDT05ELCAzMik7IH0gfVxuZXhwb3J0IGNsYXNzIFRpbWVNaWNyb3NlY29uZCBleHRlbmRzIFRpbWVfPFR5cGUuVGltZU1pY3Jvc2Vjb25kPiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihUaW1lVW5pdC5NSUNST1NFQ09ORCwgNjQpOyB9IH1cbmV4cG9ydCBjbGFzcyBUaW1lTmFub3NlY29uZCBleHRlbmRzIFRpbWVfPFR5cGUuVGltZU5hbm9zZWNvbmQ+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKFRpbWVVbml0Lk5BTk9TRUNPTkQsIDY0KTsgfSB9XG5cbi8qKiBAaWdub3JlICovXG50eXBlIFRpbWVzdGFtcHMgPSBUeXBlLlRpbWVzdGFtcCB8IFR5cGUuVGltZXN0YW1wU2Vjb25kIHwgVHlwZS5UaW1lc3RhbXBNaWxsaXNlY29uZCB8IFR5cGUuVGltZXN0YW1wTWljcm9zZWNvbmQgfCBUeXBlLlRpbWVzdGFtcE5hbm9zZWNvbmQ7XG5pbnRlcmZhY2UgVGltZXN0YW1wXzxUIGV4dGVuZHMgVGltZXN0YW1wcyA9IFRpbWVzdGFtcHM+IGV4dGVuZHMgRGF0YVR5cGU8VD4geyBUQXJyYXk6IEludDMyQXJyYXk7IFRWYWx1ZTogbnVtYmVyOyBBcnJheVR5cGU6IHR5cGVvZiBJbnQzMkFycmF5OyB9XG5jbGFzcyBUaW1lc3RhbXBfPFQgZXh0ZW5kcyBUaW1lc3RhbXBzID0gVGltZXN0YW1wcz4gZXh0ZW5kcyBEYXRhVHlwZTxUPiB7XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIF91bml0OiBUaW1lVW5pdCwgcHJvdGVjdGVkIF90aW1lem9uZT86IHN0cmluZyB8IG51bGwpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG4gICAgcHVibGljIGdldCB0eXBlSWQoKSB7IHJldHVybiBUeXBlLlRpbWVzdGFtcCBhcyBUOyB9XG4gICAgcHVibGljIGdldCB1bml0KCkgeyByZXR1cm4gdGhpcy5fdW5pdDsgfVxuICAgIHB1YmxpYyBnZXQgdGltZXpvbmUoKSB7IHJldHVybiB0aGlzLl90aW1lem9uZTsgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBUaW1lc3RhbXA8JHtUaW1lVW5pdFt0aGlzLl91bml0XX0ke3RoaXMuX3RpbWV6b25lID8gYCwgJHt0aGlzLl90aW1lem9uZX1gIDogYGB9PmA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogVGltZXN0YW1wXykgPT4ge1xuICAgICAgICAoPGFueT4gcHJvdG8pLkFycmF5VHlwZSA9IEludDMyQXJyYXk7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ1RpbWVzdGFtcCc7XG4gICAgfSkoVGltZXN0YW1wXy5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgeyBUaW1lc3RhbXBfIGFzIFRpbWVzdGFtcCB9O1xuXG5leHBvcnQgY2xhc3MgVGltZXN0YW1wU2Vjb25kIGV4dGVuZHMgVGltZXN0YW1wXzxUeXBlLlRpbWVzdGFtcFNlY29uZD4geyBjb25zdHJ1Y3Rvcih0aW1lem9uZT86IHN0cmluZyB8IG51bGwpIHsgc3VwZXIoVGltZVVuaXQuU0VDT05ELCB0aW1lem9uZSk7IH0gfVxuZXhwb3J0IGNsYXNzIFRpbWVzdGFtcE1pbGxpc2Vjb25kIGV4dGVuZHMgVGltZXN0YW1wXzxUeXBlLlRpbWVzdGFtcE1pbGxpc2Vjb25kPiB7IGNvbnN0cnVjdG9yKHRpbWV6b25lPzogc3RyaW5nIHwgbnVsbCkgeyBzdXBlcihUaW1lVW5pdC5NSUxMSVNFQ09ORCwgdGltZXpvbmUpOyB9IH1cbmV4cG9ydCBjbGFzcyBUaW1lc3RhbXBNaWNyb3NlY29uZCBleHRlbmRzIFRpbWVzdGFtcF88VHlwZS5UaW1lc3RhbXBNaWNyb3NlY29uZD4geyBjb25zdHJ1Y3Rvcih0aW1lem9uZT86IHN0cmluZyB8IG51bGwpIHsgc3VwZXIoVGltZVVuaXQuTUlDUk9TRUNPTkQsIHRpbWV6b25lKTsgfSB9XG5leHBvcnQgY2xhc3MgVGltZXN0YW1wTmFub3NlY29uZCBleHRlbmRzIFRpbWVzdGFtcF88VHlwZS5UaW1lc3RhbXBOYW5vc2Vjb25kPiB7IGNvbnN0cnVjdG9yKHRpbWV6b25lPzogc3RyaW5nIHwgbnVsbCkgeyBzdXBlcihUaW1lVW5pdC5OQU5PU0VDT05ELCB0aW1lem9uZSk7IH0gfVxuXG4vKiogQGlnbm9yZSAqL1xudHlwZSBJbnRlcnZhbHMgPSBUeXBlLkludGVydmFsIHwgVHlwZS5JbnRlcnZhbERheVRpbWUgfCBUeXBlLkludGVydmFsWWVhck1vbnRoO1xuaW50ZXJmYWNlIEludGVydmFsXzxUIGV4dGVuZHMgSW50ZXJ2YWxzID0gSW50ZXJ2YWxzPiBleHRlbmRzIERhdGFUeXBlPFQ+IHsgVEFycmF5OiBJbnQzMkFycmF5OyBUVmFsdWU6IEludDMyQXJyYXk7IEFycmF5VHlwZTogdHlwZW9mIEludDMyQXJyYXk7IH1cbmNsYXNzIEludGVydmFsXzxUIGV4dGVuZHMgSW50ZXJ2YWxzID0gSW50ZXJ2YWxzPiBleHRlbmRzIERhdGFUeXBlPFQ+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX3VuaXQ6IEludGVydmFsVW5pdCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHR5cGVJZCgpIHsgcmV0dXJuIFR5cGUuSW50ZXJ2YWwgYXMgVDsgfVxuICAgIHB1YmxpYyBnZXQgdW5pdCgpIHsgcmV0dXJuIHRoaXMuX3VuaXQ7IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgSW50ZXJ2YWw8JHtJbnRlcnZhbFVuaXRbdGhpcy5fdW5pdF19PmA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogSW50ZXJ2YWxfKSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gSW50MzJBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnSW50ZXJ2YWwnO1xuICAgIH0pKEludGVydmFsXy5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgeyBJbnRlcnZhbF8gYXMgSW50ZXJ2YWwgfTtcblxuZXhwb3J0IGNsYXNzIEludGVydmFsRGF5VGltZSBleHRlbmRzIEludGVydmFsXzxUeXBlLkludGVydmFsRGF5VGltZT4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoSW50ZXJ2YWxVbml0LkRBWV9USU1FKTsgfSB9XG5leHBvcnQgY2xhc3MgSW50ZXJ2YWxZZWFyTW9udGggZXh0ZW5kcyBJbnRlcnZhbF88VHlwZS5JbnRlcnZhbFllYXJNb250aD4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoSW50ZXJ2YWxVbml0LllFQVJfTU9OVEgpOyB9IH1cblxuZXhwb3J0IGludGVyZmFjZSBMaXN0PFQgZXh0ZW5kcyBEYXRhVHlwZSA9IGFueT4gZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkxpc3QsIHsgWzBdOiBUIH0+ICB7IFRBcnJheTogSXRlcmFibGVBcnJheUxpa2U8VD47IFRWYWx1ZTogVlR5cGU8VD47IH1cbmV4cG9ydCBjbGFzcyBMaXN0PFQgZXh0ZW5kcyBEYXRhVHlwZSA9IGFueT4gZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkxpc3QsIHsgWzBdOiBUIH0+IHtcbiAgICBjb25zdHJ1Y3RvcihjaGlsZDogRmllbGQ8VD4pIHtcbiAgICAgICAgc3VwZXIoW2NoaWxkXSk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkKCkgeyByZXR1cm4gVHlwZS5MaXN0IGFzIFR5cGUuTGlzdDsgfVxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBwcm90ZWN0ZWQgX2NoaWxkcmVuOiBGaWVsZDxUPltdO1xuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBMaXN0PCR7dGhpcy52YWx1ZVR5cGV9PmA7IH1cbiAgICBwdWJsaWMgZ2V0IGNoaWxkcmVuKCkgeyByZXR1cm4gdGhpcy5fY2hpbGRyZW47IH1cbiAgICBwdWJsaWMgZ2V0IHZhbHVlVHlwZSgpOiBUIHsgcmV0dXJuIHRoaXMuX2NoaWxkcmVuWzBdLnR5cGUgYXMgVDsgfVxuICAgIHB1YmxpYyBnZXQgdmFsdWVGaWVsZCgpOiBGaWVsZDxUPiB7IHJldHVybiB0aGlzLl9jaGlsZHJlblswXSBhcyBGaWVsZDxUPjsgfVxuICAgIHB1YmxpYyBnZXQgQXJyYXlUeXBlKCk6IFRbJ0FycmF5VHlwZSddIHsgcmV0dXJuIHRoaXMudmFsdWVUeXBlLkFycmF5VHlwZTsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBMaXN0KSA9PiB7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ0xpc3QnO1xuICAgIH0pKExpc3QucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJ1Y3Q8VCBleHRlbmRzIHsgW2tleTogc3RyaW5nXTogRGF0YVR5cGU7IH0gPSBhbnk+IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5TdHJ1Y3Q+IHsgVEFycmF5OiBJdGVyYWJsZUFycmF5TGlrZTxSb3dMaWtlPFQ+PjsgVFZhbHVlOiBSb3dMaWtlPFQ+OyBkYXRhVHlwZXM6IFQ7IH1cbmV4cG9ydCBjbGFzcyBTdHJ1Y3Q8VCBleHRlbmRzIHsgW2tleTogc3RyaW5nXTogRGF0YVR5cGU7IH0gPSBhbnk+IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5TdHJ1Y3QsIFQ+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX2NoaWxkcmVuOiBGaWVsZDxUW2tleW9mIFRdPltdKSB7XG4gICAgICAgIHN1cGVyKF9jaGlsZHJlbik7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkKCkgeyByZXR1cm4gVHlwZS5TdHJ1Y3QgYXMgVHlwZS5TdHJ1Y3Q7IH1cbiAgICBwdWJsaWMgZ2V0IGNoaWxkcmVuKCkgeyByZXR1cm4gdGhpcy5fY2hpbGRyZW47IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgU3RydWN0PFske3RoaXMuX2NoaWxkcmVuLm1hcCgoZikgPT4gZi50eXBlKS5qb2luKGAsIGApfV0+YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBTdHJ1Y3QpID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnU3RydWN0JztcbiAgICB9KShTdHJ1Y3QucHJvdG90eXBlKTtcbn1cblxuLyoqIEBpZ25vcmUgKi9cbnR5cGUgVW5pb25zID0gVHlwZS5VbmlvbiB8IFR5cGUuRGVuc2VVbmlvbiB8IFR5cGUuU3BhcnNlVW5pb247XG5pbnRlcmZhY2UgVW5pb25fPFQgZXh0ZW5kcyBVbmlvbnMgPSBVbmlvbnM+IGV4dGVuZHMgRGF0YVR5cGU8VD4geyBUQXJyYXk6IEludDMyQXJyYXk7IFRWYWx1ZTogYW55W107IH1cbmNsYXNzIFVuaW9uXzxUIGV4dGVuZHMgVW5pb25zID0gVW5pb25zPiBleHRlbmRzIERhdGFUeXBlPFQ+IHtcbiAgICBwcm90ZWN0ZWQgX3R5cGVJZHM6IEludDMyQXJyYXk7XG4gICAgcHJvdGVjdGVkIF9jaGlsZHJlbjogRmllbGQ8YW55PltdO1xuICAgIHByb3RlY3RlZCBfdHlwZUlkVG9DaGlsZEluZGV4OiB7IFtrZXk6IG51bWJlcl06IG51bWJlciB9O1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfbW9kZTogVW5pb25Nb2RlLCBfdHlwZUlkczogbnVtYmVyW10gfCBJbnQzMkFycmF5LCBfY2hpbGRyZW46IEZpZWxkPGFueT5bXSkge1xuICAgICAgICBzdXBlcihfY2hpbGRyZW4pO1xuICAgICAgICB0aGlzLl9jaGlsZHJlbiA9IF9jaGlsZHJlbjtcbiAgICAgICAgdGhpcy5fdHlwZUlkcyA9IF90eXBlSWRzID0gSW50MzJBcnJheS5mcm9tKF90eXBlSWRzKTtcbiAgICAgICAgdGhpcy5fdHlwZUlkVG9DaGlsZEluZGV4ID0gX3R5cGVJZHMucmVkdWNlKCh0eXBlSWRUb0NoaWxkSW5kZXgsIHR5cGVJZCwgaWR4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKHR5cGVJZFRvQ2hpbGRJbmRleFt0eXBlSWRdID0gaWR4KSAmJiB0eXBlSWRUb0NoaWxkSW5kZXggfHwgdHlwZUlkVG9DaGlsZEluZGV4O1xuICAgICAgICB9LCBPYmplY3QuY3JlYXRlKG51bGwpIGFzIHsgW2tleTogbnVtYmVyXTogbnVtYmVyIH0pO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHR5cGVJZCgpIHsgcmV0dXJuIFR5cGUuVW5pb24gYXMgVDsgfVxuICAgIHB1YmxpYyBnZXQgbW9kZSgpIHsgcmV0dXJuIHRoaXMuX21vZGU7IH1cbiAgICBwdWJsaWMgZ2V0IHR5cGVJZHMoKSB7IHJldHVybiB0aGlzLl90eXBlSWRzOyB9XG4gICAgcHVibGljIGdldCBjaGlsZHJlbigpIHsgcmV0dXJuIHRoaXMuX2NoaWxkcmVuOyB9XG4gICAgcHVibGljIGdldCB0eXBlSWRUb0NoaWxkSW5kZXgoKSB7IHJldHVybiB0aGlzLl90eXBlSWRUb0NoaWxkSW5kZXg7IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgJHt0aGlzW1N5bWJvbC50b1N0cmluZ1RhZ119PCR7XG4gICAgICAgIHRoaXMuX2NoaWxkcmVuLm1hcCgoeCkgPT4gYCR7eC50eXBlfWApLmpvaW4oYCB8IGApXG4gICAgfT5gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IFVuaW9uXykgPT4ge1xuICAgICAgICAoPGFueT4gcHJvdG8pLkFycmF5VHlwZSA9IEludDMyQXJyYXk7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ1VuaW9uJztcbiAgICB9KShVbmlvbl8ucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IHsgVW5pb25fIGFzIFVuaW9uIH07XG5cbmV4cG9ydCBjbGFzcyBEZW5zZVVuaW9uIGV4dGVuZHMgVW5pb25fPFR5cGUuRGVuc2VVbmlvbj4ge1xuICAgIGNvbnN0cnVjdG9yKHR5cGVJZHM6IG51bWJlcltdIHwgSW50MzJBcnJheSwgY2hpbGRyZW46IEZpZWxkW10pIHtcbiAgICAgICAgc3VwZXIoVW5pb25Nb2RlLkRlbnNlLCB0eXBlSWRzLCBjaGlsZHJlbik7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3BhcnNlVW5pb24gZXh0ZW5kcyBVbmlvbl88VHlwZS5TcGFyc2VVbmlvbj4ge1xuICAgIGNvbnN0cnVjdG9yKHR5cGVJZHM6IG51bWJlcltdIHwgSW50MzJBcnJheSwgY2hpbGRyZW46IEZpZWxkW10pIHtcbiAgICAgICAgc3VwZXIoVW5pb25Nb2RlLlNwYXJzZSwgdHlwZUlkcywgY2hpbGRyZW4pO1xuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBGaXhlZFNpemVCaW5hcnkgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkZpeGVkU2l6ZUJpbmFyeT4geyBUQXJyYXk6IFVpbnQ4QXJyYXk7IFRWYWx1ZTogVWludDhBcnJheTsgQXJyYXlUeXBlOiB0eXBlb2YgVWludDhBcnJheTsgfVxuZXhwb3J0IGNsYXNzIEZpeGVkU2l6ZUJpbmFyeSBleHRlbmRzIERhdGFUeXBlPFR5cGUuRml4ZWRTaXplQmluYXJ5PiB7XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIF9ieXRlV2lkdGg6IG51bWJlcikge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHR5cGVJZCgpIHsgcmV0dXJuIFR5cGUuRml4ZWRTaXplQmluYXJ5IGFzIFR5cGUuRml4ZWRTaXplQmluYXJ5OyB9XG4gICAgcHVibGljIGdldCBieXRlV2lkdGgoKSB7IHJldHVybiB0aGlzLl9ieXRlV2lkdGg7IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgRml4ZWRTaXplQmluYXJ5WyR7dGhpcy5ieXRlV2lkdGh9XWA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogRml4ZWRTaXplQmluYXJ5KSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gVWludDhBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnRml4ZWRTaXplQmluYXJ5JztcbiAgICB9KShGaXhlZFNpemVCaW5hcnkucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGaXhlZFNpemVMaXN0PFQgZXh0ZW5kcyBEYXRhVHlwZSA9IGFueT4gZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkZpeGVkU2l6ZUxpc3Q+IHsgVEFycmF5OiBJdGVyYWJsZUFycmF5TGlrZTxUWydUQXJyYXknXT47IFRWYWx1ZTogVlR5cGU8VD47IH1cbmV4cG9ydCBjbGFzcyBGaXhlZFNpemVMaXN0PFQgZXh0ZW5kcyBEYXRhVHlwZSA9IGFueT4gZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkZpeGVkU2l6ZUxpc3QsIHsgWzBdOiBUIH0+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX2xpc3RTaXplOiBudW1iZXIsIGNoaWxkOiBGaWVsZDxUPikge1xuICAgICAgICBzdXBlcihbY2hpbGRdKTtcbiAgICB9XG4gICAgcHVibGljIGdldCB0eXBlSWQoKSB7IHJldHVybiBUeXBlLkZpeGVkU2l6ZUxpc3QgYXMgVHlwZS5GaXhlZFNpemVMaXN0OyB9XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHByb3RlY3RlZCBfY2hpbGRyZW46IEZpZWxkPFQ+W107XG4gICAgcHVibGljIGdldCBsaXN0U2l6ZSgpIHsgcmV0dXJuIHRoaXMuX2xpc3RTaXplOyB9XG4gICAgcHVibGljIGdldCBjaGlsZHJlbigpIHsgcmV0dXJuIHRoaXMuX2NoaWxkcmVuOyB9XG4gICAgcHVibGljIGdldCB2YWx1ZVR5cGUoKTogVCB7IHJldHVybiB0aGlzLmNoaWxkcmVuWzBdLnR5cGUgYXMgVDsgfVxuICAgIHB1YmxpYyBnZXQgdmFsdWVGaWVsZCgpOiBGaWVsZDxUPiB7IHJldHVybiB0aGlzLmNoaWxkcmVuWzBdIGFzIEZpZWxkPFQ+OyB9XG4gICAgcHVibGljIGdldCBBcnJheVR5cGUoKTogVFsnQXJyYXlUeXBlJ10geyByZXR1cm4gdGhpcy52YWx1ZVR5cGUuQXJyYXlUeXBlOyB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYEZpeGVkU2l6ZUxpc3RbJHt0aGlzLl9saXN0U2l6ZX1dPCR7dGhpcy52YWx1ZVR5cGV9PmA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogRml4ZWRTaXplTGlzdCkgPT4ge1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdGaXhlZFNpemVMaXN0JztcbiAgICB9KShGaXhlZFNpemVMaXN0LnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWFwXzxUIGV4dGVuZHMgeyBba2V5OiBzdHJpbmddOiBEYXRhVHlwZTsgfSA9IGFueT4gZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLk1hcD4geyBUQXJyYXk6IFVpbnQ4QXJyYXk7IFRWYWx1ZTogUm93TGlrZTxUPjsgZGF0YVR5cGVzOiBUOyB9XG5leHBvcnQgY2xhc3MgTWFwXzxUIGV4dGVuZHMgeyBba2V5OiBzdHJpbmddOiBEYXRhVHlwZTsgfSA9IGFueT4gZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLk1hcCwgVD4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfY2hpbGRyZW46IEZpZWxkPFRba2V5b2YgVF0+W10sXG4gICAgICAgICAgICAgICAgcHJvdGVjdGVkIF9rZXlzU29ydGVkOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgc3VwZXIoX2NoaWxkcmVuKTtcbiAgICB9XG4gICAgcHVibGljIGdldCB0eXBlSWQoKSB7IHJldHVybiBUeXBlLk1hcCBhcyBUeXBlLk1hcDsgfVxuICAgIHB1YmxpYyBnZXQgY2hpbGRyZW4oKSB7IHJldHVybiB0aGlzLl9jaGlsZHJlbjsgfVxuICAgIHB1YmxpYyBnZXQga2V5c1NvcnRlZCgpIHsgcmV0dXJuIHRoaXMuX2tleXNTb3J0ZWQ7IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgTWFwPHske3RoaXMuX2NoaWxkcmVuLm1hcCgoZikgPT4gYCR7Zi5uYW1lfToke2YudHlwZX1gKS5qb2luKGAsIGApfX0+YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBNYXBfKSA9PiB7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ01hcF8nO1xuICAgIH0pKE1hcF8ucHJvdG90eXBlKTtcbn1cblxuLyoqIEBpZ25vcmUgKi9cbmNvbnN0IGdldElkID0gKChhdG9taWNEaWN0aW9uYXJ5SWQpID0+ICgpID0+ICsrYXRvbWljRGljdGlvbmFyeUlkKSgtMSk7XG5cbi8qKiBAaWdub3JlICovXG5leHBvcnQgdHlwZSBUS2V5cyA9IEludDggfCBJbnQxNiB8IEludDMyIHwgVWludDggfCBVaW50MTYgfCBVaW50MzI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGljdGlvbmFyeTxUIGV4dGVuZHMgRGF0YVR5cGUgPSBhbnksIFRLZXkgZXh0ZW5kcyBUS2V5cyA9IFRLZXlzPiBleHRlbmRzIERhdGFUeXBlPFR5cGUuRGljdGlvbmFyeT4geyBUQXJyYXk6IFRLZXlbJ1RBcnJheSddOyBUVmFsdWU6IFRbJ1RWYWx1ZSddOyB9XG5leHBvcnQgY2xhc3MgRGljdGlvbmFyeTxUIGV4dGVuZHMgRGF0YVR5cGUgPSBhbnksIFRLZXkgZXh0ZW5kcyBUS2V5cyA9IFRLZXlzPiBleHRlbmRzIERhdGFUeXBlPFR5cGUuRGljdGlvbmFyeT4ge1xuICAgIHByb3RlY3RlZCBfaWQ6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgX2luZGljZXM6IFRLZXk7XG4gICAgcHJvdGVjdGVkIF9kaWN0aW9uYXJ5OiBUO1xuICAgIHByb3RlY3RlZCBfaXNPcmRlcmVkOiBib29sZWFuO1xuICAgIHByb3RlY3RlZCBfZGljdGlvbmFyeVZlY3RvcjogVmVjdG9yPFQ+O1xuICAgIHB1YmxpYyBzZXQgZGljdGlvbmFyeVZlY3Rvcih2KSB7IHRoaXMuX2RpY3Rpb25hcnlWZWN0b3IgPSB2OyB9XG4gICAgcHVibGljIGdldCBkaWN0aW9uYXJ5VmVjdG9yKCkgeyByZXR1cm4gdGhpcy5fZGljdGlvbmFyeVZlY3RvcjsgfVxuICAgIGNvbnN0cnVjdG9yKGRpY3Rpb25hcnk6IFQsIGluZGljZXM6IFRLZXksIGlkPzogTG9uZyB8IG51bWJlciB8IG51bGwsIGlzT3JkZXJlZD86IGJvb2xlYW4gfCBudWxsLCBkaWN0aW9uYXJ5VmVjdG9yPzogVmVjdG9yPFQ+KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2luZGljZXMgPSBpbmRpY2VzO1xuICAgICAgICB0aGlzLl9kaWN0aW9uYXJ5ID0gZGljdGlvbmFyeTtcbiAgICAgICAgdGhpcy5faXNPcmRlcmVkID0gaXNPcmRlcmVkIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLl9kaWN0aW9uYXJ5VmVjdG9yID0gZGljdGlvbmFyeVZlY3RvciE7XG4gICAgICAgIHRoaXMuX2lkID0gaWQgPT0gbnVsbCA/IGdldElkKCkgOiB0eXBlb2YgaWQgPT09ICdudW1iZXInID8gaWQgOiBpZC5sb3c7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkKCkgeyByZXR1cm4gVHlwZS5EaWN0aW9uYXJ5IGFzIFR5cGUuRGljdGlvbmFyeTsgfVxuICAgIHB1YmxpYyBnZXQgaWQoKSB7IHJldHVybiB0aGlzLl9pZDsgfVxuICAgIHB1YmxpYyBnZXQgaW5kaWNlcygpIHsgcmV0dXJuIHRoaXMuX2luZGljZXM7IH1cbiAgICBwdWJsaWMgZ2V0IGRpY3Rpb25hcnkoKSB7IHJldHVybiB0aGlzLl9kaWN0aW9uYXJ5OyB9XG4gICAgcHVibGljIGdldCBpc09yZGVyZWQoKSB7IHJldHVybiB0aGlzLl9pc09yZGVyZWQ7IH1cbiAgICBwdWJsaWMgc2V0IGNoaWxkcmVuKF86IFRbJ2NoaWxkcmVuJ10pIHt9XG4gICAgcHVibGljIGdldCBjaGlsZHJlbigpIHsgcmV0dXJuIHRoaXMuZGljdGlvbmFyeS5jaGlsZHJlbjsgfVxuICAgIHB1YmxpYyBnZXQgdmFsdWVUeXBlKCk6IFQgeyByZXR1cm4gdGhpcy5kaWN0aW9uYXJ5IGFzIFQ7IH1cbiAgICBwdWJsaWMgZ2V0IEFycmF5VHlwZSgpOiBUWydBcnJheVR5cGUnXSB7IHJldHVybiB0aGlzLmRpY3Rpb25hcnkuQXJyYXlUeXBlOyB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYERpY3Rpb25hcnk8JHt0aGlzLmluZGljZXN9LCAke3RoaXMuZGljdGlvbmFyeX0+YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBEaWN0aW9uYXJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ0RpY3Rpb25hcnknO1xuICAgIH0pKERpY3Rpb25hcnkucHJvdG90eXBlKTtcbn1cblxuLyoqIEBpZ25vcmUgKi9cbmV4cG9ydCBpbnRlcmZhY2UgSXRlcmFibGVBcnJheUxpa2U8VCA9IGFueT4gZXh0ZW5kcyBBcnJheUxpa2U8VD4sIEl0ZXJhYmxlPFQ+IHt9XG4vKiogQGlnbm9yZSAqL1xuZXhwb3J0IHR5cGUgRmxvYXRBcnJheSA9IFVpbnQxNkFycmF5IHwgRmxvYXQzMkFycmF5IHwgRmxvYXQ2NEFycmF5O1xuLyoqIEBpZ25vcmUgKi9cbmV4cG9ydCB0eXBlIEludEFycmF5ID0gSW50OEFycmF5IHwgSW50MTZBcnJheSB8IEludDMyQXJyYXkgfCBVaW50OEFycmF5IHwgVWludDE2QXJyYXkgfCBVaW50MzJBcnJheTtcbiJdfQ==
