"use strict";
// Licensed to the Apache Software Foundation (ASF) under one
// or more contributor license agreements.  See the NOTICE file
// distributed with this work for additional information
// regarding copyright ownership.  The ASF licenses this file
// to you under the Apache License, Version 2.0 (the
// "License"); you may not use this file except in compliance
// with the License.  You may obtain a copy of the License at
//
//   http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing,
// software distributed under the License is distributed on an
// "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
// KIND, either express or implied.  See the License for the
// specific language governing permissions and limitations
// under the License.
Object.defineProperty(exports, "__esModule", { value: true });
const enum_1 = require("./enum");
class DataType {
    constructor(_children) {
        this._children = _children;
    }
    /** @nocollapse */ static isNull(x) { return x && x.typeId === enum_1.Type.Null; }
    /** @nocollapse */ static isInt(x) { return x && x.typeId === enum_1.Type.Int; }
    /** @nocollapse */ static isFloat(x) { return x && x.typeId === enum_1.Type.Float; }
    /** @nocollapse */ static isBinary(x) { return x && x.typeId === enum_1.Type.Binary; }
    /** @nocollapse */ static isUtf8(x) { return x && x.typeId === enum_1.Type.Utf8; }
    /** @nocollapse */ static isBool(x) { return x && x.typeId === enum_1.Type.Bool; }
    /** @nocollapse */ static isDecimal(x) { return x && x.typeId === enum_1.Type.Decimal; }
    /** @nocollapse */ static isDate(x) { return x && x.typeId === enum_1.Type.Date; }
    /** @nocollapse */ static isTime(x) { return x && x.typeId === enum_1.Type.Time; }
    /** @nocollapse */ static isTimestamp(x) { return x && x.typeId === enum_1.Type.Timestamp; }
    /** @nocollapse */ static isInterval(x) { return x && x.typeId === enum_1.Type.Interval; }
    /** @nocollapse */ static isList(x) { return x && x.typeId === enum_1.Type.List; }
    /** @nocollapse */ static isStruct(x) { return x && x.typeId === enum_1.Type.Struct; }
    /** @nocollapse */ static isUnion(x) { return x && x.typeId === enum_1.Type.Union; }
    /** @nocollapse */ static isFixedSizeBinary(x) { return x && x.typeId === enum_1.Type.FixedSizeBinary; }
    /** @nocollapse */ static isFixedSizeList(x) { return x && x.typeId === enum_1.Type.FixedSizeList; }
    /** @nocollapse */ static isMap(x) { return x && x.typeId === enum_1.Type.Map; }
    /** @nocollapse */ static isDictionary(x) { return x && x.typeId === enum_1.Type.Dictionary; }
    get children() { return this._children; }
    get typeId() { return enum_1.Type.NONE; }
}
DataType[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Array;
    return proto[Symbol.toStringTag] = 'DataType';
})(DataType.prototype);
exports.DataType = DataType;
class Null extends DataType {
    toString() { return `Null`; }
    get typeId() { return enum_1.Type.Null; }
}
Null[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Null';
})(Null.prototype);
exports.Null = Null;
class Int_ extends DataType {
    constructor(_isSigned, _bitWidth) {
        super();
        this._isSigned = _isSigned;
        this._bitWidth = _bitWidth;
    }
    get typeId() { return enum_1.Type.Int; }
    get isSigned() { return this._isSigned; }
    get bitWidth() { return this._bitWidth; }
    get ArrayType() {
        switch (this._bitWidth) {
            case 8: return (this._isSigned ? Int8Array : Uint8Array);
            case 16: return (this._isSigned ? Int16Array : Uint16Array);
            case 32: return (this._isSigned ? Int32Array : Uint32Array);
            case 64: return (this._isSigned ? Int32Array : Uint32Array);
        }
        throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`);
    }
    toString() { return `${this._isSigned ? `I` : `Ui`}nt${this._bitWidth}`; }
}
Int_[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Int';
})(Int_.prototype);
exports.Int = Int_;
class Int8 extends Int_ {
    constructor() { super(true, 8); }
}
exports.Int8 = Int8;
class Int16 extends Int_ {
    constructor() { super(true, 16); }
}
exports.Int16 = Int16;
class Int32 extends Int_ {
    constructor() { super(true, 32); }
}
exports.Int32 = Int32;
class Int64 extends Int_ {
    constructor() { super(true, 64); }
}
exports.Int64 = Int64;
class Uint8 extends Int_ {
    constructor() { super(false, 8); }
}
exports.Uint8 = Uint8;
class Uint16 extends Int_ {
    constructor() { super(false, 16); }
}
exports.Uint16 = Uint16;
class Uint32 extends Int_ {
    constructor() { super(false, 32); }
}
exports.Uint32 = Uint32;
class Uint64 extends Int_ {
    constructor() { super(false, 64); }
}
exports.Uint64 = Uint64;
class Float extends DataType {
    constructor(_precision) {
        super();
        this._precision = _precision;
    }
    get typeId() { return enum_1.Type.Float; }
    get precision() { return this._precision; }
    // @ts-ignore
    get ArrayType() {
        switch (this.precision) {
            case enum_1.Precision.HALF: return Uint16Array;
            case enum_1.Precision.SINGLE: return Float32Array;
            case enum_1.Precision.DOUBLE: return Float64Array;
        }
        throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`);
    }
    toString() { return `Float${(this.precision << 5) || 16}`; }
}
Float[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Float';
})(Float.prototype);
exports.Float = Float;
class Float16 extends Float {
    constructor() { super(enum_1.Precision.HALF); }
}
exports.Float16 = Float16;
class Float32 extends Float {
    constructor() { super(enum_1.Precision.SINGLE); }
}
exports.Float32 = Float32;
class Float64 extends Float {
    constructor() { super(enum_1.Precision.DOUBLE); }
}
exports.Float64 = Float64;
class Binary extends DataType {
    constructor() {
        super();
    }
    get typeId() { return enum_1.Type.Binary; }
    toString() { return `Binary`; }
}
Binary[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'Binary';
})(Binary.prototype);
exports.Binary = Binary;
class Utf8 extends DataType {
    constructor() {
        super();
    }
    get typeId() { return enum_1.Type.Utf8; }
    toString() { return `Utf8`; }
}
Utf8[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'Utf8';
})(Utf8.prototype);
exports.Utf8 = Utf8;
class Bool extends DataType {
    constructor() {
        super();
    }
    get typeId() { return enum_1.Type.Bool; }
    toString() { return `Bool`; }
}
Bool[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'Bool';
})(Bool.prototype);
exports.Bool = Bool;
class Decimal extends DataType {
    constructor(_scale, _precision) {
        super();
        this._scale = _scale;
        this._precision = _precision;
    }
    get typeId() { return enum_1.Type.Decimal; }
    get scale() { return this._scale; }
    get precision() { return this._precision; }
    toString() { return `Decimal[${this._precision}e${this._scale > 0 ? `+` : ``}${this._scale}]`; }
}
Decimal[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint32Array;
    return proto[Symbol.toStringTag] = 'Decimal';
})(Decimal.prototype);
exports.Decimal = Decimal;
class Date_ extends DataType {
    constructor(_unit) {
        super();
        this._unit = _unit;
    }
    get typeId() { return enum_1.Type.Date; }
    get unit() { return this._unit; }
    toString() { return `Date${(this._unit + 1) * 32}<${enum_1.DateUnit[this._unit]}>`; }
}
Date_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int32Array;
    return proto[Symbol.toStringTag] = 'Date';
})(Date_.prototype);
exports.Date_ = Date_;
class DateDay extends Date_ {
    constructor() { super(enum_1.DateUnit.DAY); }
}
exports.DateDay = DateDay;
class DateMillisecond extends Date_ {
    constructor() { super(enum_1.DateUnit.MILLISECOND); }
}
exports.DateMillisecond = DateMillisecond;
class Time_ extends DataType {
    constructor(_unit, _bitWidth) {
        super();
        this._unit = _unit;
        this._bitWidth = _bitWidth;
    }
    get typeId() { return enum_1.Type.Time; }
    get unit() { return this._unit; }
    get bitWidth() { return this._bitWidth; }
    toString() { return `Time${this._bitWidth}<${enum_1.TimeUnit[this._unit]}>`; }
}
Time_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint32Array;
    return proto[Symbol.toStringTag] = 'Time';
})(Time_.prototype);
exports.Time = Time_;
class TimeSecond extends Time_ {
    constructor() { super(enum_1.TimeUnit.SECOND, 32); }
}
exports.TimeSecond = TimeSecond;
class TimeMillisecond extends Time_ {
    constructor() { super(enum_1.TimeUnit.MILLISECOND, 32); }
}
exports.TimeMillisecond = TimeMillisecond;
class TimeMicrosecond extends Time_ {
    constructor() { super(enum_1.TimeUnit.MICROSECOND, 64); }
}
exports.TimeMicrosecond = TimeMicrosecond;
class TimeNanosecond extends Time_ {
    constructor() { super(enum_1.TimeUnit.NANOSECOND, 64); }
}
exports.TimeNanosecond = TimeNanosecond;
class Timestamp_ extends DataType {
    constructor(_unit, _timezone) {
        super();
        this._unit = _unit;
        this._timezone = _timezone;
    }
    get typeId() { return enum_1.Type.Timestamp; }
    get unit() { return this._unit; }
    get timezone() { return this._timezone; }
    toString() { return `Timestamp<${enum_1.TimeUnit[this._unit]}${this._timezone ? `, ${this._timezone}` : ``}>`; }
}
Timestamp_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int32Array;
    return proto[Symbol.toStringTag] = 'Timestamp';
})(Timestamp_.prototype);
exports.Timestamp = Timestamp_;
class TimestampSecond extends Timestamp_ {
    constructor(timezone) { super(enum_1.TimeUnit.SECOND, timezone); }
}
exports.TimestampSecond = TimestampSecond;
class TimestampMillisecond extends Timestamp_ {
    constructor(timezone) { super(enum_1.TimeUnit.MILLISECOND, timezone); }
}
exports.TimestampMillisecond = TimestampMillisecond;
class TimestampMicrosecond extends Timestamp_ {
    constructor(timezone) { super(enum_1.TimeUnit.MICROSECOND, timezone); }
}
exports.TimestampMicrosecond = TimestampMicrosecond;
class TimestampNanosecond extends Timestamp_ {
    constructor(timezone) { super(enum_1.TimeUnit.NANOSECOND, timezone); }
}
exports.TimestampNanosecond = TimestampNanosecond;
class Interval_ extends DataType {
    constructor(_unit) {
        super();
        this._unit = _unit;
    }
    get typeId() { return enum_1.Type.Interval; }
    get unit() { return this._unit; }
    toString() { return `Interval<${enum_1.IntervalUnit[this._unit]}>`; }
}
Interval_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int32Array;
    return proto[Symbol.toStringTag] = 'Interval';
})(Interval_.prototype);
exports.Interval = Interval_;
class IntervalDayTime extends Interval_ {
    constructor() { super(enum_1.IntervalUnit.DAY_TIME); }
}
exports.IntervalDayTime = IntervalDayTime;
class IntervalYearMonth extends Interval_ {
    constructor() { super(enum_1.IntervalUnit.YEAR_MONTH); }
}
exports.IntervalYearMonth = IntervalYearMonth;
class List extends DataType {
    constructor(child) {
        super([child]);
    }
    get typeId() { return enum_1.Type.List; }
    toString() { return `List<${this.valueType}>`; }
    get children() { return this._children; }
    get valueType() { return this._children[0].type; }
    get valueField() { return this._children[0]; }
    get ArrayType() { return this.valueType.ArrayType; }
}
List[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'List';
})(List.prototype);
exports.List = List;
class Struct extends DataType {
    constructor(_children) {
        super(_children);
        this._children = _children;
    }
    get typeId() { return enum_1.Type.Struct; }
    get children() { return this._children; }
    toString() { return `Struct<${this._children.map((f) => f.type).join(`, `)}>`; }
}
Struct[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Struct';
})(Struct.prototype);
exports.Struct = Struct;
class Union_ extends DataType {
    constructor(_mode, _typeIds, _children) {
        super(_children);
        this._mode = _mode;
        this._children = _children;
        this._typeIds = _typeIds = Int32Array.from(_typeIds);
        this._typeIdToChildIndex = _typeIds.reduce((typeIdToChildIndex, typeId, idx) => {
            return (typeIdToChildIndex[typeId] = idx) && typeIdToChildIndex || typeIdToChildIndex;
        }, Object.create(null));
    }
    get typeId() { return enum_1.Type.Union; }
    get mode() { return this._mode; }
    get typeIds() { return this._typeIds; }
    get children() { return this._children; }
    get typeIdToChildIndex() { return this._typeIdToChildIndex; }
    toString() {
        return `${this[Symbol.toStringTag]}<${this._children.map((x) => `${x.type}`).join(` | `)}>`;
    }
}
Union_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int32Array;
    return proto[Symbol.toStringTag] = 'Union';
})(Union_.prototype);
exports.Union = Union_;
class DenseUnion extends Union_ {
    constructor(typeIds, children) {
        super(enum_1.UnionMode.Dense, typeIds, children);
    }
}
exports.DenseUnion = DenseUnion;
class SparseUnion extends Union_ {
    constructor(typeIds, children) {
        super(enum_1.UnionMode.Sparse, typeIds, children);
    }
}
exports.SparseUnion = SparseUnion;
class FixedSizeBinary extends DataType {
    constructor(_byteWidth) {
        super();
        this._byteWidth = _byteWidth;
    }
    get typeId() { return enum_1.Type.FixedSizeBinary; }
    get byteWidth() { return this._byteWidth; }
    toString() { return `FixedSizeBinary[${this.byteWidth}]`; }
}
FixedSizeBinary[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'FixedSizeBinary';
})(FixedSizeBinary.prototype);
exports.FixedSizeBinary = FixedSizeBinary;
class FixedSizeList extends DataType {
    constructor(_listSize, child) {
        super([child]);
        this._listSize = _listSize;
    }
    get typeId() { return enum_1.Type.FixedSizeList; }
    get listSize() { return this._listSize; }
    get children() { return this._children; }
    get valueType() { return this.children[0].type; }
    get valueField() { return this.children[0]; }
    get ArrayType() { return this.valueType.ArrayType; }
    toString() { return `FixedSizeList[${this._listSize}]<${this.valueType}>`; }
}
FixedSizeList[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'FixedSizeList';
})(FixedSizeList.prototype);
exports.FixedSizeList = FixedSizeList;
class Map_ extends DataType {
    constructor(_children, _keysSorted = false) {
        super(_children);
        this._children = _children;
        this._keysSorted = _keysSorted;
    }
    get typeId() { return enum_1.Type.Map; }
    get children() { return this._children; }
    get keysSorted() { return this._keysSorted; }
    toString() { return `Map<${this.children.join(`, `)}>`; }
}
Map_[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Map_';
})(Map_.prototype);
exports.Map_ = Map_;
const getId = ((atomicDictionaryId) => () => ++atomicDictionaryId)(-1);
class Dictionary extends DataType {
    constructor(dictionary, indices, id, isOrdered, dictionaryVector) {
        super();
        this._indices = indices;
        this._dictionary = dictionary;
        this._isOrdered = isOrdered || false;
        this._dictionaryVector = dictionaryVector;
        this._id = id == null ? getId() : typeof id === 'number' ? id : id.low;
    }
    set dictionaryVector(v) { this._dictionaryVector = v; }
    get dictionaryVector() { return this._dictionaryVector; }
    get typeId() { return enum_1.Type.Dictionary; }
    get id() { return this._id; }
    get indices() { return this._indices; }
    get dictionary() { return this._dictionary; }
    get isOrdered() { return this._isOrdered; }
    set children(_) { }
    get children() { return this.dictionary.children; }
    get valueType() { return this.dictionary; }
    get ArrayType() { return this.dictionary.ArrayType; }
    toString() { return `Dictionary<${this.indices}, ${this.dictionary}>`; }
}
Dictionary[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Dictionary';
})(Dictionary.prototype);
exports.Dictionary = Dictionary;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInR5cGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLDZEQUE2RDtBQUM3RCwrREFBK0Q7QUFDL0Qsd0RBQXdEO0FBQ3hELDZEQUE2RDtBQUM3RCxvREFBb0Q7QUFDcEQsNkRBQTZEO0FBQzdELDZEQUE2RDtBQUM3RCxFQUFFO0FBQ0YsK0NBQStDO0FBQy9DLEVBQUU7QUFDRiw2REFBNkQ7QUFDN0QsOERBQThEO0FBQzlELHlEQUF5RDtBQUN6RCw0REFBNEQ7QUFDNUQsMERBQTBEO0FBQzFELHFCQUFxQjs7QUFXckIsaUNBSWdCO0FBb0JoQixNQUFhLFFBQVE7SUEyQmpCLFlBQXNCLFNBQStDO1FBQS9DLGNBQVMsR0FBVCxTQUFTLENBQXNDO0lBQUcsQ0FBQztJQXRCekUsa0JBQWtCLENBQUMsTUFBTSxDQUFZLE1BQU0sQ0FBRSxDQUFNLElBQTBCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssV0FBSSxDQUFDLElBQUksQ0FBQyxDQUFZLENBQUM7SUFDN0gsa0JBQWtCLENBQUMsTUFBTSxDQUFhLEtBQUssQ0FBRSxDQUFNLElBQTBCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssV0FBSSxDQUFDLEdBQUcsQ0FBQyxDQUFhLENBQUM7SUFDN0gsa0JBQWtCLENBQUMsTUFBTSxDQUFXLE9BQU8sQ0FBRSxDQUFNLElBQTBCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssV0FBSSxDQUFDLEtBQUssQ0FBQyxDQUFXLENBQUM7SUFDN0gsa0JBQWtCLENBQUMsTUFBTSxDQUFVLFFBQVEsQ0FBRSxDQUFNLElBQTBCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssV0FBSSxDQUFDLE1BQU0sQ0FBQyxDQUFVLENBQUM7SUFDN0gsa0JBQWtCLENBQUMsTUFBTSxDQUFZLE1BQU0sQ0FBRSxDQUFNLElBQTBCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssV0FBSSxDQUFDLElBQUksQ0FBQyxDQUFZLENBQUM7SUFDN0gsa0JBQWtCLENBQUMsTUFBTSxDQUFZLE1BQU0sQ0FBRSxDQUFNLElBQTBCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssV0FBSSxDQUFDLElBQUksQ0FBQyxDQUFZLENBQUM7SUFDN0gsa0JBQWtCLENBQUMsTUFBTSxDQUFTLFNBQVMsQ0FBRSxDQUFNLElBQTBCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssV0FBSSxDQUFDLE9BQU8sQ0FBQyxDQUFTLENBQUM7SUFDN0gsa0JBQWtCLENBQUMsTUFBTSxDQUFZLE1BQU0sQ0FBRSxDQUFNLElBQTBCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssV0FBSSxDQUFDLElBQUksQ0FBQyxDQUFZLENBQUM7SUFDN0gsa0JBQWtCLENBQUMsTUFBTSxDQUFZLE1BQU0sQ0FBRSxDQUFNLElBQTBCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssV0FBSSxDQUFDLElBQUksQ0FBQyxDQUFZLENBQUM7SUFDN0gsa0JBQWtCLENBQUMsTUFBTSxDQUFPLFdBQVcsQ0FBRSxDQUFNLElBQTBCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssV0FBSSxDQUFDLFNBQVMsQ0FBQyxDQUFPLENBQUM7SUFDN0gsa0JBQWtCLENBQUMsTUFBTSxDQUFRLFVBQVUsQ0FBRSxDQUFNLElBQTBCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssV0FBSSxDQUFDLFFBQVEsQ0FBQyxDQUFRLENBQUM7SUFDN0gsa0JBQWtCLENBQUMsTUFBTSxDQUFZLE1BQU0sQ0FBRSxDQUFNLElBQTBCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssV0FBSSxDQUFDLElBQUksQ0FBQyxDQUFZLENBQUM7SUFDN0gsa0JBQWtCLENBQUMsTUFBTSxDQUFVLFFBQVEsQ0FBRSxDQUFNLElBQTBCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssV0FBSSxDQUFDLE1BQU0sQ0FBQyxDQUFVLENBQUM7SUFDN0gsa0JBQWtCLENBQUMsTUFBTSxDQUFXLE9BQU8sQ0FBRSxDQUFNLElBQTBCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssV0FBSSxDQUFDLEtBQUssQ0FBQyxDQUFXLENBQUM7SUFDN0gsa0JBQWtCLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUFFLENBQU0sSUFBMEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxXQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQztJQUM3SCxrQkFBa0IsQ0FBQyxNQUFNLENBQUcsZUFBZSxDQUFFLENBQU0sSUFBMEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxXQUFJLENBQUMsYUFBYSxDQUFDLENBQUcsQ0FBQztJQUM3SCxrQkFBa0IsQ0FBQyxNQUFNLENBQWEsS0FBSyxDQUFFLENBQU0sSUFBMEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxXQUFJLENBQUMsR0FBRyxDQUFDLENBQWEsQ0FBQztJQUM3SCxrQkFBa0IsQ0FBQyxNQUFNLENBQU0sWUFBWSxDQUFFLENBQU0sSUFBMEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxXQUFJLENBQUMsVUFBVSxDQUFDLENBQU0sQ0FBQztJQUU3SCxJQUFXLFFBQVEsS0FBSyxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO0lBQ2hELElBQVcsTUFBTSxLQUFZLE9BQWEsV0FBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7O0FBSXJDLFNBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFlLEVBQUUsRUFBRTtJQUNsRCxLQUFNLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQztJQUNoQyxPQUFPLEtBQUssQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsVUFBVSxDQUFDO0FBQ2xELENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQztBQWhDM0IsNEJBaUNDO0FBR0QsTUFBYSxJQUFLLFNBQVEsUUFBbUI7SUFDbEMsUUFBUSxLQUFLLE9BQU8sTUFBTSxDQUFDLENBQUMsQ0FBQztJQUNwQyxJQUFXLE1BQU0sS0FBSyxPQUFPLFdBQUksQ0FBQyxJQUFpQixDQUFDLENBQUMsQ0FBQzs7QUFDckMsS0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQVcsRUFBRSxFQUFFO0lBQ3JELE9BQU8sS0FBSyxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsR0FBRyxNQUFNLENBQUM7QUFDOUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBTHZCLG9CQU1DO0FBZ0JELE1BQU0sSUFBNEIsU0FBUSxRQUFXO0lBQ2pELFlBQXNCLFNBQStCLEVBQy9CLFNBQStCO1FBQ2pELEtBQUssRUFBRSxDQUFDO1FBRlUsY0FBUyxHQUFULFNBQVMsQ0FBc0I7UUFDL0IsY0FBUyxHQUFULFNBQVMsQ0FBc0I7SUFFckQsQ0FBQztJQUNELElBQVcsTUFBTSxLQUFLLE9BQU8sV0FBSSxDQUFDLEdBQVEsQ0FBQyxDQUFDLENBQUM7SUFDN0MsSUFBVyxRQUFRLEtBQUssT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztJQUNoRCxJQUFXLFFBQVEsS0FBSyxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO0lBQ2hELElBQVcsU0FBUztRQUNoQixRQUFRLElBQUksQ0FBQyxTQUFTLEVBQUU7WUFDcEIsS0FBTSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUUsU0FBUyxDQUFDLENBQUMsQ0FBRSxVQUFVLENBQVEsQ0FBQztZQUNuRSxLQUFLLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBUSxDQUFDO1lBQ25FLEtBQUssRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFRLENBQUM7WUFDbkUsS0FBSyxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQVEsQ0FBQztTQUN0RTtRQUNELE1BQU0sSUFBSSxLQUFLLENBQUMsZ0JBQWdCLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3JFLENBQUM7SUFDTSxRQUFRLEtBQUssT0FBTyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUM7O0FBQ2hFLEtBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFXLEVBQUUsRUFBRTtJQUNyRCxPQUFPLEtBQUssQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsS0FBSyxDQUFDO0FBQzdDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUdOLG1CQUFHO0FBRXBCLE1BQWEsSUFBSyxTQUFRLElBQWU7SUFBRyxnQkFBZ0IsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Q0FBRTtBQUEvRSxvQkFBK0U7QUFDL0UsTUFBYSxLQUFNLFNBQVEsSUFBZ0I7SUFBRyxnQkFBZ0IsS0FBSyxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7Q0FBRTtBQUFsRixzQkFBa0Y7QUFDbEYsTUFBYSxLQUFNLFNBQVEsSUFBZ0I7SUFBRyxnQkFBZ0IsS0FBSyxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7Q0FBRTtBQUFsRixzQkFBa0Y7QUFDbEYsTUFBYSxLQUFNLFNBQVEsSUFBZ0I7SUFBRyxnQkFBZ0IsS0FBSyxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7Q0FBRTtBQUFsRixzQkFBa0Y7QUFDbEYsTUFBYSxLQUFNLFNBQVEsSUFBZ0I7SUFBRyxnQkFBZ0IsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Q0FBRTtBQUFsRixzQkFBa0Y7QUFDbEYsTUFBYSxNQUFPLFNBQVEsSUFBaUI7SUFBRyxnQkFBZ0IsS0FBSyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7Q0FBRTtBQUFyRix3QkFBcUY7QUFDckYsTUFBYSxNQUFPLFNBQVEsSUFBaUI7SUFBRyxnQkFBZ0IsS0FBSyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7Q0FBRTtBQUFyRix3QkFBcUY7QUFDckYsTUFBYSxNQUFPLFNBQVEsSUFBaUI7SUFBRyxnQkFBZ0IsS0FBSyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7Q0FBRTtBQUFyRix3QkFBcUY7QUFXckYsTUFBYSxLQUFpQyxTQUFRLFFBQVc7SUFDN0QsWUFBc0IsVUFBcUI7UUFDdkMsS0FBSyxFQUFFLENBQUM7UUFEVSxlQUFVLEdBQVYsVUFBVSxDQUFXO0lBRTNDLENBQUM7SUFDRCxJQUFXLE1BQU0sS0FBSyxPQUFPLFdBQUksQ0FBQyxLQUFVLENBQUMsQ0FBQyxDQUFDO0lBQy9DLElBQVcsU0FBUyxLQUFLLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7SUFDbEQsYUFBYTtJQUNiLElBQVcsU0FBUztRQUNoQixRQUFRLElBQUksQ0FBQyxTQUFTLEVBQUU7WUFDcEIsS0FBSyxnQkFBUyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sV0FBa0IsQ0FBQztZQUMvQyxLQUFLLGdCQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsT0FBTyxZQUFtQixDQUFDO1lBQ2xELEtBQUssZ0JBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxPQUFPLFlBQW1CLENBQUM7U0FDckQ7UUFDRCxNQUFNLElBQUksS0FBSyxDQUFDLGdCQUFnQixJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUNyRSxDQUFDO0lBQ00sUUFBUSxLQUFLLE9BQU8sUUFBUSxDQUFDLElBQUksQ0FBQyxTQUFTLElBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDOztBQUNsRCxNQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBWSxFQUFFLEVBQUU7SUFDdEQsT0FBTyxLQUFLLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxHQUFHLE9BQU8sQ0FBQztBQUMvQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUM7QUFsQnhCLHNCQW1CQztBQUVELE1BQWEsT0FBUSxTQUFRLEtBQW1CO0lBQUcsZ0JBQWdCLEtBQUssQ0FBQyxnQkFBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztDQUFFO0FBQTdGLDBCQUE2RjtBQUM3RixNQUFhLE9BQVEsU0FBUSxLQUFtQjtJQUFHLGdCQUFnQixLQUFLLENBQUMsZ0JBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7Q0FBRTtBQUEvRiwwQkFBK0Y7QUFDL0YsTUFBYSxPQUFRLFNBQVEsS0FBbUI7SUFBRyxnQkFBZ0IsS0FBSyxDQUFDLGdCQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO0NBQUU7QUFBL0YsMEJBQStGO0FBRy9GLE1BQWEsTUFBTyxTQUFRLFFBQXFCO0lBQzdDO1FBQ0ksS0FBSyxFQUFFLENBQUM7SUFDWixDQUFDO0lBQ0QsSUFBVyxNQUFNLEtBQUssT0FBTyxXQUFJLENBQUMsTUFBcUIsQ0FBQyxDQUFDLENBQUM7SUFDbkQsUUFBUSxLQUFLLE9BQU8sUUFBUSxDQUFDLENBQUMsQ0FBQzs7QUFDckIsT0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQWEsRUFBRSxFQUFFO0lBQ2hELEtBQU0sQ0FBQyxTQUFTLEdBQUcsVUFBVSxDQUFDO0lBQ3JDLE9BQU8sS0FBSyxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsR0FBRyxRQUFRLENBQUM7QUFDaEQsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBVHpCLHdCQVVDO0FBR0QsTUFBYSxJQUFLLFNBQVEsUUFBbUI7SUFDekM7UUFDSSxLQUFLLEVBQUUsQ0FBQztJQUNaLENBQUM7SUFDRCxJQUFXLE1BQU0sS0FBSyxPQUFPLFdBQUksQ0FBQyxJQUFpQixDQUFDLENBQUMsQ0FBQztJQUMvQyxRQUFRLEtBQUssT0FBTyxNQUFNLENBQUMsQ0FBQyxDQUFDOztBQUNuQixLQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBVyxFQUFFLEVBQUU7SUFDOUMsS0FBTSxDQUFDLFNBQVMsR0FBRyxVQUFVLENBQUM7SUFDckMsT0FBTyxLQUFLLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxHQUFHLE1BQU0sQ0FBQztBQUM5QyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7QUFUdkIsb0JBVUM7QUFHRCxNQUFhLElBQUssU0FBUSxRQUFtQjtJQUN6QztRQUNJLEtBQUssRUFBRSxDQUFDO0lBQ1osQ0FBQztJQUNELElBQVcsTUFBTSxLQUFLLE9BQU8sV0FBSSxDQUFDLElBQWlCLENBQUMsQ0FBQyxDQUFDO0lBQy9DLFFBQVEsS0FBSyxPQUFPLE1BQU0sQ0FBQyxDQUFDLENBQUM7O0FBQ25CLEtBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFXLEVBQUUsRUFBRTtJQUM5QyxLQUFNLENBQUMsU0FBUyxHQUFHLFVBQVUsQ0FBQztJQUNyQyxPQUFPLEtBQUssQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsTUFBTSxDQUFDO0FBQzlDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztBQVR2QixvQkFVQztBQUdELE1BQWEsT0FBUSxTQUFRLFFBQXNCO0lBQy9DLFlBQXNCLE1BQWMsRUFDZCxVQUFrQjtRQUNwQyxLQUFLLEVBQUUsQ0FBQztRQUZVLFdBQU0sR0FBTixNQUFNLENBQVE7UUFDZCxlQUFVLEdBQVYsVUFBVSxDQUFRO0lBRXhDLENBQUM7SUFDRCxJQUFXLE1BQU0sS0FBSyxPQUFPLFdBQUksQ0FBQyxPQUF1QixDQUFDLENBQUMsQ0FBQztJQUM1RCxJQUFXLEtBQUssS0FBSyxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0lBQzFDLElBQVcsU0FBUyxLQUFLLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7SUFDM0MsUUFBUSxLQUFLLE9BQU8sV0FBVyxJQUFJLENBQUMsVUFBVSxJQUFJLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDOztBQUN0RixRQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBYyxFQUFFLEVBQUU7SUFDakQsS0FBTSxDQUFDLFNBQVMsR0FBRyxXQUFXLENBQUM7SUFDdEMsT0FBTyxLQUFLLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxHQUFHLFNBQVMsQ0FBQztBQUNqRCxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUM7QUFaMUIsMEJBYUM7QUFJRCxNQUFhLEtBQStCLFNBQVEsUUFBVztJQUMzRCxZQUFzQixLQUFlO1FBQ2pDLEtBQUssRUFBRSxDQUFDO1FBRFUsVUFBSyxHQUFMLEtBQUssQ0FBVTtJQUVyQyxDQUFDO0lBQ0QsSUFBVyxNQUFNLEtBQUssT0FBTyxXQUFJLENBQUMsSUFBUyxDQUFDLENBQUMsQ0FBQztJQUM5QyxJQUFXLElBQUksS0FBSyxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQ2pDLFFBQVEsS0FBSyxPQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsSUFBSSxlQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDOztBQUNwRSxNQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBWSxFQUFFLEVBQUU7SUFDL0MsS0FBTSxDQUFDLFNBQVMsR0FBRyxVQUFVLENBQUM7SUFDckMsT0FBTyxLQUFLLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxHQUFHLE1BQU0sQ0FBQztBQUM5QyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUM7QUFWeEIsc0JBV0M7QUFFRCxNQUFhLE9BQVEsU0FBUSxLQUFtQjtJQUFHLGdCQUFnQixLQUFLLENBQUMsZUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztDQUFFO0FBQTNGLDBCQUEyRjtBQUMzRixNQUFhLGVBQWdCLFNBQVEsS0FBMkI7SUFBRyxnQkFBZ0IsS0FBSyxDQUFDLGVBQVEsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUM7Q0FBRTtBQUFuSCwwQ0FBbUg7QUFZbkgsTUFBTSxLQUErQixTQUFRLFFBQVc7SUFDcEQsWUFBc0IsS0FBMkIsRUFDM0IsU0FBdUI7UUFDekMsS0FBSyxFQUFFLENBQUM7UUFGVSxVQUFLLEdBQUwsS0FBSyxDQUFzQjtRQUMzQixjQUFTLEdBQVQsU0FBUyxDQUFjO0lBRTdDLENBQUM7SUFDRCxJQUFXLE1BQU0sS0FBSyxPQUFPLFdBQUksQ0FBQyxJQUFTLENBQUMsQ0FBQyxDQUFDO0lBQzlDLElBQVcsSUFBSSxLQUFLLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDeEMsSUFBVyxRQUFRLEtBQUssT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztJQUN6QyxRQUFRLEtBQUssT0FBTyxPQUFPLElBQUksQ0FBQyxTQUFTLElBQUksZUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQzs7QUFDN0QsTUFBQyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQVksRUFBRSxFQUFFO0lBQy9DLEtBQU0sQ0FBQyxTQUFTLEdBQUcsV0FBVyxDQUFDO0lBQ3RDLE9BQU8sS0FBSyxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsR0FBRyxNQUFNLENBQUM7QUFDOUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBR04scUJBQUk7QUFFdEIsTUFBYSxVQUFXLFNBQVEsS0FBc0I7SUFBRyxnQkFBZ0IsS0FBSyxDQUFDLGVBQVEsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0NBQUU7QUFBeEcsZ0NBQXdHO0FBQ3hHLE1BQWEsZUFBZ0IsU0FBUSxLQUEyQjtJQUFHLGdCQUFnQixLQUFLLENBQUMsZUFBUSxDQUFDLFdBQVcsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7Q0FBRTtBQUF2SCwwQ0FBdUg7QUFDdkgsTUFBYSxlQUFnQixTQUFRLEtBQTJCO0lBQUcsZ0JBQWdCLEtBQUssQ0FBQyxlQUFRLENBQUMsV0FBVyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztDQUFFO0FBQXZILDBDQUF1SDtBQUN2SCxNQUFhLGNBQWUsU0FBUSxLQUEwQjtJQUFHLGdCQUFnQixLQUFLLENBQUMsZUFBUSxDQUFDLFVBQVUsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7Q0FBRTtBQUFwSCx3Q0FBb0g7QUFJcEgsTUFBTSxVQUE4QyxTQUFRLFFBQVc7SUFDbkUsWUFBc0IsS0FBZSxFQUFZLFNBQXlCO1FBQ3RFLEtBQUssRUFBRSxDQUFDO1FBRFUsVUFBSyxHQUFMLEtBQUssQ0FBVTtRQUFZLGNBQVMsR0FBVCxTQUFTLENBQWdCO0lBRTFFLENBQUM7SUFDRCxJQUFXLE1BQU0sS0FBSyxPQUFPLFdBQUksQ0FBQyxTQUFjLENBQUMsQ0FBQyxDQUFDO0lBQ25ELElBQVcsSUFBSSxLQUFLLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDeEMsSUFBVyxRQUFRLEtBQUssT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztJQUN6QyxRQUFRLEtBQUssT0FBTyxhQUFhLGVBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsS0FBSyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQzs7QUFDL0YsV0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQWlCLEVBQUUsRUFBRTtJQUNwRCxLQUFNLENBQUMsU0FBUyxHQUFHLFVBQVUsQ0FBQztJQUNyQyxPQUFPLEtBQUssQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsV0FBVyxDQUFDO0FBQ25ELENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUdOLCtCQUFTO0FBRWhDLE1BQWEsZUFBZ0IsU0FBUSxVQUFnQztJQUFHLFlBQVksUUFBd0IsSUFBSSxLQUFLLENBQUMsZUFBUSxDQUFDLE1BQU0sRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7Q0FBRTtBQUFySiwwQ0FBcUo7QUFDckosTUFBYSxvQkFBcUIsU0FBUSxVQUFxQztJQUFHLFlBQVksUUFBd0IsSUFBSSxLQUFLLENBQUMsZUFBUSxDQUFDLFdBQVcsRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7Q0FBRTtBQUFwSyxvREFBb0s7QUFDcEssTUFBYSxvQkFBcUIsU0FBUSxVQUFxQztJQUFHLFlBQVksUUFBd0IsSUFBSSxLQUFLLENBQUMsZUFBUSxDQUFDLFdBQVcsRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7Q0FBRTtBQUFwSyxvREFBb0s7QUFDcEssTUFBYSxtQkFBb0IsU0FBUSxVQUFvQztJQUFHLFlBQVksUUFBd0IsSUFBSSxLQUFLLENBQUMsZUFBUSxDQUFDLFVBQVUsRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7Q0FBRTtBQUFqSyxrREFBaUs7QUFJakssTUFBTSxTQUEyQyxTQUFRLFFBQVc7SUFDaEUsWUFBc0IsS0FBbUI7UUFDckMsS0FBSyxFQUFFLENBQUM7UUFEVSxVQUFLLEdBQUwsS0FBSyxDQUFjO0lBRXpDLENBQUM7SUFDRCxJQUFXLE1BQU0sS0FBSyxPQUFPLFdBQUksQ0FBQyxRQUFhLENBQUMsQ0FBQyxDQUFDO0lBQ2xELElBQVcsSUFBSSxLQUFLLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDakMsUUFBUSxLQUFLLE9BQU8sWUFBWSxtQkFBWSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQzs7QUFDcEQsVUFBQyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQWdCLEVBQUUsRUFBRTtJQUNuRCxLQUFNLENBQUMsU0FBUyxHQUFHLFVBQVUsQ0FBQztJQUNyQyxPQUFPLEtBQUssQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsVUFBVSxDQUFDO0FBQ2xELENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUdOLDZCQUFRO0FBRTlCLE1BQWEsZUFBZ0IsU0FBUSxTQUErQjtJQUFHLGdCQUFnQixLQUFLLENBQUMsbUJBQVksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7Q0FBRTtBQUF4SCwwQ0FBd0g7QUFDeEgsTUFBYSxpQkFBa0IsU0FBUSxTQUFpQztJQUFHLGdCQUFnQixLQUFLLENBQUMsbUJBQVksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7Q0FBRTtBQUE5SCw4Q0FBOEg7QUFHOUgsTUFBYSxJQUErQixTQUFRLFFBQStCO0lBQy9FLFlBQVksS0FBZTtRQUN2QixLQUFLLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQ25CLENBQUM7SUFDRCxJQUFXLE1BQU0sS0FBSyxPQUFPLFdBQUksQ0FBQyxJQUFpQixDQUFDLENBQUMsQ0FBQztJQUcvQyxRQUFRLEtBQUssT0FBTyxRQUFRLElBQUksQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDdkQsSUFBVyxRQUFRLEtBQUssT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztJQUNoRCxJQUFXLFNBQVMsS0FBUSxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBUyxDQUFDLENBQUMsQ0FBQztJQUNqRSxJQUFXLFVBQVUsS0FBZSxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFhLENBQUMsQ0FBQyxDQUFDO0lBQzNFLElBQVcsU0FBUyxLQUFxQixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQzs7QUFDMUQsS0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQVcsRUFBRSxFQUFFO0lBQ3JELE9BQU8sS0FBSyxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsR0FBRyxNQUFNLENBQUM7QUFDOUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBZHZCLG9CQWVDO0FBR0QsTUFBYSxNQUFxRCxTQUFRLFFBQXdCO0lBQzlGLFlBQXNCLFNBQThCO1FBQ2hELEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQztRQURDLGNBQVMsR0FBVCxTQUFTLENBQXFCO0lBRXBELENBQUM7SUFDRCxJQUFXLE1BQU0sS0FBSyxPQUFPLFdBQUksQ0FBQyxNQUFxQixDQUFDLENBQUMsQ0FBQztJQUMxRCxJQUFXLFFBQVEsS0FBSyxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO0lBQ3pDLFFBQVEsS0FBSyxPQUFPLFVBQVUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7O0FBQ3RFLE9BQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFhLEVBQUUsRUFBRTtJQUN2RCxPQUFPLEtBQUssQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsUUFBUSxDQUFDO0FBQ2hELENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQztBQVR6Qix3QkFVQztBQUlELE1BQU0sTUFBa0MsU0FBUSxRQUFXO0lBSXZELFlBQXNCLEtBQWdCLEVBQUUsUUFBK0IsRUFBRSxTQUF1QjtRQUM1RixLQUFLLENBQUMsU0FBUyxDQUFDLENBQUM7UUFEQyxVQUFLLEdBQUwsS0FBSyxDQUFXO1FBRWxDLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO1FBQzNCLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDckQsSUFBSSxDQUFDLG1CQUFtQixHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxrQkFBa0IsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLEVBQUU7WUFDM0UsT0FBTyxDQUFDLGtCQUFrQixDQUFDLE1BQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBQyxJQUFJLGtCQUFrQixJQUFJLGtCQUFrQixDQUFDO1FBQzFGLENBQUMsRUFBRSxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBOEIsQ0FBQyxDQUFDO0lBQ3pELENBQUM7SUFDRCxJQUFXLE1BQU0sS0FBSyxPQUFPLFdBQUksQ0FBQyxLQUFVLENBQUMsQ0FBQyxDQUFDO0lBQy9DLElBQVcsSUFBSSxLQUFLLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDeEMsSUFBVyxPQUFPLEtBQUssT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztJQUM5QyxJQUFXLFFBQVEsS0FBSyxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO0lBQ2hELElBQVcsa0JBQWtCLEtBQUssT0FBTyxJQUFJLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxDQUFDO0lBQzdELFFBQVE7UUFBSyxPQUFPLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsSUFDbEQsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FDckQsR0FBRyxDQUFDO0lBQUMsQ0FBQzs7QUFDVyxPQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBYSxFQUFFLEVBQUU7SUFDaEQsS0FBTSxDQUFDLFNBQVMsR0FBRyxVQUFVLENBQUM7SUFDckMsT0FBTyxLQUFLLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxHQUFHLE9BQU8sQ0FBQztBQUMvQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7QUFHTix1QkFBSztBQUV4QixNQUFhLFVBQVcsU0FBUSxNQUF1QjtJQUNuRCxZQUFZLE9BQThCLEVBQUUsUUFBaUI7UUFDekQsS0FBSyxDQUFDLGdCQUFTLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQztJQUM5QyxDQUFDO0NBQ0o7QUFKRCxnQ0FJQztBQUVELE1BQWEsV0FBWSxTQUFRLE1BQXdCO0lBQ3JELFlBQVksT0FBOEIsRUFBRSxRQUFpQjtRQUN6RCxLQUFLLENBQUMsZ0JBQVMsQ0FBQyxNQUFNLEVBQUUsT0FBTyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQy9DLENBQUM7Q0FDSjtBQUpELGtDQUlDO0FBR0QsTUFBYSxlQUFnQixTQUFRLFFBQThCO0lBQy9ELFlBQXNCLFVBQWtCO1FBQ3BDLEtBQUssRUFBRSxDQUFDO1FBRFUsZUFBVSxHQUFWLFVBQVUsQ0FBUTtJQUV4QyxDQUFDO0lBQ0QsSUFBVyxNQUFNLEtBQUssT0FBTyxXQUFJLENBQUMsZUFBdUMsQ0FBQyxDQUFDLENBQUM7SUFDNUUsSUFBVyxTQUFTLEtBQUssT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztJQUMzQyxRQUFRLEtBQUssT0FBTyxtQkFBbUIsSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUMsQ0FBQzs7QUFDakQsZ0JBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFzQixFQUFFLEVBQUU7SUFDekQsS0FBTSxDQUFDLFNBQVMsR0FBRyxVQUFVLENBQUM7SUFDckMsT0FBTyxLQUFLLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxHQUFHLGlCQUFpQixDQUFDO0FBQ3pELENBQUMsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxTQUFTLENBQUMsQ0FBQztBQVZsQywwQ0FXQztBQUdELE1BQWEsYUFBd0MsU0FBUSxRQUF3QztJQUNqRyxZQUFzQixTQUFpQixFQUFFLEtBQWU7UUFDcEQsS0FBSyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztRQURHLGNBQVMsR0FBVCxTQUFTLENBQVE7SUFFdkMsQ0FBQztJQUNELElBQVcsTUFBTSxLQUFLLE9BQU8sV0FBSSxDQUFDLGFBQW1DLENBQUMsQ0FBQyxDQUFDO0lBR3hFLElBQVcsUUFBUSxLQUFLLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7SUFDaEQsSUFBVyxRQUFRLEtBQUssT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztJQUNoRCxJQUFXLFNBQVMsS0FBUSxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBUyxDQUFDLENBQUMsQ0FBQztJQUNoRSxJQUFXLFVBQVUsS0FBZSxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFhLENBQUMsQ0FBQyxDQUFDO0lBQzFFLElBQVcsU0FBUyxLQUFxQixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztJQUNwRSxRQUFRLEtBQUssT0FBTyxpQkFBaUIsSUFBSSxDQUFDLFNBQVMsS0FBSyxJQUFJLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQyxDQUFDOztBQUNsRSxjQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBb0IsRUFBRSxFQUFFO0lBQzlELE9BQU8sS0FBSyxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsR0FBRyxlQUFlLENBQUM7QUFDdkQsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBZmhDLHNDQWdCQztBQUdELE1BQWEsSUFBbUQsU0FBUSxRQUFxQjtJQUN6RixZQUFzQixTQUE4QixFQUM5QixjQUF1QixLQUFLO1FBQzlDLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUZDLGNBQVMsR0FBVCxTQUFTLENBQXFCO1FBQzlCLGdCQUFXLEdBQVgsV0FBVyxDQUFpQjtJQUVsRCxDQUFDO0lBQ0QsSUFBVyxNQUFNLEtBQUssT0FBTyxXQUFJLENBQUMsR0FBZSxDQUFDLENBQUMsQ0FBQztJQUNwRCxJQUFXLFFBQVEsS0FBSyxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO0lBQ2hELElBQVcsVUFBVSxLQUFLLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7SUFDN0MsUUFBUSxLQUFLLE9BQU8sT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQzs7QUFDL0MsS0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQVcsRUFBRSxFQUFFO0lBQ3JELE9BQU8sS0FBSyxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsR0FBRyxNQUFNLENBQUM7QUFDOUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBWHZCLG9CQVlDO0FBRUQsTUFBTSxLQUFLLEdBQUcsQ0FBQyxDQUFDLGtCQUFrQixFQUFFLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUt2RSxNQUFhLFVBQWlFLFNBQVEsUUFBeUI7SUFRM0csWUFBWSxVQUFhLEVBQUUsT0FBYSxFQUFFLEVBQXlCLEVBQUUsU0FBMEIsRUFBRSxnQkFBNEI7UUFDekgsS0FBSyxFQUFFLENBQUM7UUFDUixJQUFJLENBQUMsUUFBUSxHQUFHLE9BQU8sQ0FBQztRQUN4QixJQUFJLENBQUMsV0FBVyxHQUFHLFVBQVUsQ0FBQztRQUM5QixJQUFJLENBQUMsVUFBVSxHQUFHLFNBQVMsSUFBSSxLQUFLLENBQUM7UUFDckMsSUFBSSxDQUFDLGlCQUFpQixHQUFHLGdCQUFpQixDQUFDO1FBQzNDLElBQUksQ0FBQyxHQUFHLEdBQUcsRUFBRSxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDLE9BQU8sRUFBRSxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDO0lBQzNFLENBQUM7SUFURCxJQUFXLGdCQUFnQixDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsaUJBQWlCLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM5RCxJQUFXLGdCQUFnQixLQUFLLE9BQU8sSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQztJQVNoRSxJQUFXLE1BQU0sS0FBSyxPQUFPLFdBQUksQ0FBQyxVQUE2QixDQUFDLENBQUMsQ0FBQztJQUNsRSxJQUFXLEVBQUUsS0FBSyxPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ3BDLElBQVcsT0FBTyxLQUFLLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7SUFDOUMsSUFBVyxVQUFVLEtBQUssT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztJQUNwRCxJQUFXLFNBQVMsS0FBSyxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO0lBQ2xELElBQVcsUUFBUSxDQUFDLENBQWdCLElBQUcsQ0FBQztJQUN4QyxJQUFXLFFBQVEsS0FBSyxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztJQUMxRCxJQUFXLFNBQVMsS0FBUSxPQUFPLElBQUksQ0FBQyxVQUFlLENBQUMsQ0FBQyxDQUFDO0lBQzFELElBQVcsU0FBUyxLQUFxQixPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztJQUNyRSxRQUFRLEtBQUssT0FBTyxjQUFjLElBQUksQ0FBQyxPQUFPLEtBQUssSUFBSSxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUMsQ0FBQzs7QUFDOUQsV0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQWlCLEVBQUUsRUFBRTtJQUMzRCxPQUFPLEtBQUssQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsWUFBWSxDQUFDO0FBQ3BELENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsQ0FBQztBQTVCN0IsZ0NBNkJDIiwiZmlsZSI6InR5cGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4vLyBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbi8vIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4vLyByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4vLyB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4vLyBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Vcbi8vIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbi8vIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4vLyBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuLy8gS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4vLyBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4vLyB1bmRlciB0aGUgTGljZW5zZS5cblxuLyogdHNsaW50OmRpc2FibGU6Y2xhc3MtbmFtZSAqL1xuXG5pbXBvcnQgeyBGaWVsZCB9IGZyb20gJy4vc2NoZW1hJztcbmltcG9ydCB7IFZlY3RvciB9IGZyb20gJy4vdmVjdG9yJztcbmltcG9ydCB7IGZsYXRidWZmZXJzIH0gZnJvbSAnZmxhdGJ1ZmZlcnMnO1xuaW1wb3J0IHsgVmVjdG9yIGFzIFZUeXBlIH0gZnJvbSAnLi9pbnRlcmZhY2VzJztcbmltcG9ydCB7IEFycmF5QnVmZmVyVmlld0NvbnN0cnVjdG9yIH0gZnJvbSAnLi9pbnRlcmZhY2VzJztcblxuaW1wb3J0IExvbmcgPSBmbGF0YnVmZmVycy5Mb25nO1xuaW1wb3J0IHtcbiAgICBUeXBlLFxuICAgIFByZWNpc2lvbiwgVW5pb25Nb2RlLFxuICAgIERhdGVVbml0LCBUaW1lVW5pdCwgSW50ZXJ2YWxVbml0XG59IGZyb20gJy4vZW51bSc7XG5cbmV4cG9ydCB0eXBlIFRpbWVCaXRXaWR0aCA9IDMyIHwgNjQ7XG5leHBvcnQgdHlwZSBJbnRCaXRXaWR0aCA9IDggfCAxNiB8IDMyIHwgNjQ7XG5leHBvcnQgdHlwZSBJc1NpZ25lZCA9IHsgJ3RydWUnOiB0cnVlOyAnZmFsc2UnOiBmYWxzZSB9O1xuXG5leHBvcnQgdHlwZSBSb3dMaWtlPFQgZXh0ZW5kcyB7IFtrZXk6IHN0cmluZ106IERhdGFUeXBlOyB9PiA9XG4gICAgICB7IHJlYWRvbmx5IGxlbmd0aDogbnVtYmVyIH1cbiAgICAmICggSXRlcmFibGU8VFtrZXlvZiBUXVsnVFZhbHVlJ10+IClcbiAgICAmIHsgW1AgaW4ga2V5b2YgVF06IFRbUF1bJ1RWYWx1ZSddIH1cbiAgICAmIHsgZ2V0PEsgZXh0ZW5kcyBrZXlvZiBUPihrZXk6IEspOiBUW0tdWydUVmFsdWUnXTsgfVxuICAgIDtcblxuZXhwb3J0IGludGVyZmFjZSBEYXRhVHlwZTxUVHlwZSBleHRlbmRzIFR5cGUgPSBUeXBlPiB7XG4gICAgcmVhZG9ubHkgVFR5cGU6IFRUeXBlO1xuICAgIHJlYWRvbmx5IFRBcnJheTogYW55O1xuICAgIHJlYWRvbmx5IFRWYWx1ZTogYW55O1xuICAgIHJlYWRvbmx5IEFycmF5VHlwZTogYW55O1xufVxuXG5leHBvcnQgY2xhc3MgRGF0YVR5cGU8VFR5cGUgZXh0ZW5kcyBUeXBlID0gVHlwZSwgVENoaWxkcmVuIGV4dGVuZHMgeyBba2V5OiBzdHJpbmddOiBEYXRhVHlwZSB9ID0gYW55PiB7XG5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcHVibGljIFtTeW1ib2wudG9TdHJpbmdUYWddOiBzdHJpbmc7XG5cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICAgICAgaXNOdWxsICh4OiBhbnkpOiB4IGlzIE51bGwgICAgICAgICAgICB7IHJldHVybiB4ICYmIHgudHlwZUlkID09PSBUeXBlLk51bGw7ICAgICAgICAgICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgICAgICAgaXNJbnQgKHg6IGFueSk6IHggaXMgSW50XyAgICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC50eXBlSWQgPT09IFR5cGUuSW50OyAgICAgICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICAgICAgaXNGbG9hdCAoeDogYW55KTogeCBpcyBGbG9hdCAgICAgICAgICAgeyByZXR1cm4geCAmJiB4LnR5cGVJZCA9PT0gVHlwZS5GbG9hdDsgICAgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICAgIGlzQmluYXJ5ICh4OiBhbnkpOiB4IGlzIEJpbmFyeSAgICAgICAgICB7IHJldHVybiB4ICYmIHgudHlwZUlkID09PSBUeXBlLkJpbmFyeTsgICAgICAgICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgICAgICBpc1V0ZjggKHg6IGFueSk6IHggaXMgVXRmOCAgICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC50eXBlSWQgPT09IFR5cGUuVXRmODsgICAgICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICAgICAgIGlzQm9vbCAoeDogYW55KTogeCBpcyBCb29sICAgICAgICAgICAgeyByZXR1cm4geCAmJiB4LnR5cGVJZCA9PT0gVHlwZS5Cb29sOyAgICAgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICAgaXNEZWNpbWFsICh4OiBhbnkpOiB4IGlzIERlY2ltYWwgICAgICAgICB7IHJldHVybiB4ICYmIHgudHlwZUlkID09PSBUeXBlLkRlY2ltYWw7ICAgICAgICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgICAgICBpc0RhdGUgKHg6IGFueSk6IHggaXMgRGF0ZV8gICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC50eXBlSWQgPT09IFR5cGUuRGF0ZTsgICAgICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICAgICAgIGlzVGltZSAoeDogYW55KTogeCBpcyBUaW1lXyAgICAgICAgICAgeyByZXR1cm4geCAmJiB4LnR5cGVJZCA9PT0gVHlwZS5UaW1lOyAgICAgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgIGlzVGltZXN0YW1wICh4OiBhbnkpOiB4IGlzIFRpbWVzdGFtcF8gICAgICB7IHJldHVybiB4ICYmIHgudHlwZUlkID09PSBUeXBlLlRpbWVzdGFtcDsgICAgICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgIGlzSW50ZXJ2YWwgKHg6IGFueSk6IHggaXMgSW50ZXJ2YWxfICAgICAgIHsgcmV0dXJuIHggJiYgeC50eXBlSWQgPT09IFR5cGUuSW50ZXJ2YWw7ICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICAgICAgIGlzTGlzdCAoeDogYW55KTogeCBpcyBMaXN0ICAgICAgICAgICAgeyByZXR1cm4geCAmJiB4LnR5cGVJZCA9PT0gVHlwZS5MaXN0OyAgICAgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICAgIGlzU3RydWN0ICh4OiBhbnkpOiB4IGlzIFN0cnVjdCAgICAgICAgICB7IHJldHVybiB4ICYmIHgudHlwZUlkID09PSBUeXBlLlN0cnVjdDsgICAgICAgICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgICAgIGlzVW5pb24gKHg6IGFueSk6IHggaXMgVW5pb25fICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC50eXBlSWQgPT09IFR5cGUuVW5pb247ICAgICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyBpc0ZpeGVkU2l6ZUJpbmFyeSAoeDogYW55KTogeCBpcyBGaXhlZFNpemVCaW5hcnkgeyByZXR1cm4geCAmJiB4LnR5cGVJZCA9PT0gVHlwZS5GaXhlZFNpemVCaW5hcnk7IH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgaXNGaXhlZFNpemVMaXN0ICh4OiBhbnkpOiB4IGlzIEZpeGVkU2l6ZUxpc3QgICB7IHJldHVybiB4ICYmIHgudHlwZUlkID09PSBUeXBlLkZpeGVkU2l6ZUxpc3Q7ICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgICAgICAgaXNNYXAgKHg6IGFueSk6IHggaXMgTWFwXyAgICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC50eXBlSWQgPT09IFR5cGUuTWFwOyAgICAgICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgIGlzRGljdGlvbmFyeSAoeDogYW55KTogeCBpcyBEaWN0aW9uYXJ5ICAgICAgeyByZXR1cm4geCAmJiB4LnR5cGVJZCA9PT0gVHlwZS5EaWN0aW9uYXJ5OyAgICAgIH1cblxuICAgIHB1YmxpYyBnZXQgY2hpbGRyZW4oKSB7IHJldHVybiB0aGlzLl9jaGlsZHJlbjsgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkKCk6IFRUeXBlIHsgcmV0dXJuIDxhbnk+IFR5cGUuTk9ORTsgfVxuXG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIF9jaGlsZHJlbj86IEZpZWxkPFRDaGlsZHJlbltrZXlvZiBUQ2hpbGRyZW5dPltdKSB7fVxuXG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IERhdGFUeXBlKSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gQXJyYXk7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ0RhdGFUeXBlJztcbiAgICB9KShEYXRhVHlwZS5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE51bGwgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLk51bGw+IHsgVEFycmF5OiB2b2lkOyBUVmFsdWU6IG51bGw7IH1cbmV4cG9ydCBjbGFzcyBOdWxsIGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5OdWxsPiB7XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYE51bGxgOyB9XG4gICAgcHVibGljIGdldCB0eXBlSWQoKSB7IHJldHVybiBUeXBlLk51bGwgYXMgVHlwZS5OdWxsOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IE51bGwpID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnTnVsbCc7XG4gICAgfSkoTnVsbC5wcm90b3R5cGUpO1xufVxuXG50eXBlIEludHMgPSBUeXBlLkludCB8IFR5cGUuSW50OCB8IFR5cGUuSW50MTYgfCBUeXBlLkludDMyIHwgVHlwZS5JbnQ2NCB8IFR5cGUuVWludDggfCBUeXBlLlVpbnQxNiB8IFR5cGUuVWludDMyIHwgVHlwZS5VaW50NjQ7XG50eXBlIElUeXBlID0ge1xuICAgIFtUeXBlLkludCAgIF06IHsgYml0V2lkdGg6IEludEJpdFdpZHRoOyBpc1NpZ25lZDogdHJ1ZSB8IGZhbHNlOyBUQXJyYXk6IEludEFycmF5OyAgICBUVmFsdWU6IG51bWJlciB8IEludDMyQXJyYXkgfCBVaW50MzJBcnJheTsgfTtcbiAgICBbVHlwZS5JbnQ4ICBdOiB7IGJpdFdpZHRoOiAgICAgICAgICAgODsgaXNTaWduZWQ6IHRydWU7ICAgICAgICAgVEFycmF5OiBJbnQ4QXJyYXk7ICAgVFZhbHVlOiBudW1iZXI7ICAgICAgICAgICAgfTtcbiAgICBbVHlwZS5JbnQxNiBdOiB7IGJpdFdpZHRoOiAgICAgICAgICAxNjsgaXNTaWduZWQ6IHRydWU7ICAgICAgICAgVEFycmF5OiBJbnQxNkFycmF5OyAgVFZhbHVlOiBudW1iZXI7ICAgICAgICAgICAgfTtcbiAgICBbVHlwZS5JbnQzMiBdOiB7IGJpdFdpZHRoOiAgICAgICAgICAzMjsgaXNTaWduZWQ6IHRydWU7ICAgICAgICAgVEFycmF5OiBJbnQzMkFycmF5OyAgVFZhbHVlOiBudW1iZXI7ICAgICAgICAgICAgfTtcbiAgICBbVHlwZS5JbnQ2NCBdOiB7IGJpdFdpZHRoOiAgICAgICAgICA2NDsgaXNTaWduZWQ6IHRydWU7ICAgICAgICAgVEFycmF5OiBJbnQzMkFycmF5OyAgVFZhbHVlOiBJbnQzMkFycmF5OyAgICAgICAgfTtcbiAgICBbVHlwZS5VaW50OCBdOiB7IGJpdFdpZHRoOiAgICAgICAgICAgODsgaXNTaWduZWQ6IGZhbHNlOyAgICAgICAgVEFycmF5OiBVaW50OEFycmF5OyAgVFZhbHVlOiBudW1iZXI7ICAgICAgICAgICAgfTtcbiAgICBbVHlwZS5VaW50MTZdOiB7IGJpdFdpZHRoOiAgICAgICAgICAxNjsgaXNTaWduZWQ6IGZhbHNlOyAgICAgICAgVEFycmF5OiBVaW50MTZBcnJheTsgVFZhbHVlOiBudW1iZXI7ICAgICAgICAgICAgfTtcbiAgICBbVHlwZS5VaW50MzJdOiB7IGJpdFdpZHRoOiAgICAgICAgICAzMjsgaXNTaWduZWQ6IGZhbHNlOyAgICAgICAgVEFycmF5OiBVaW50MzJBcnJheTsgVFZhbHVlOiBudW1iZXI7ICAgICAgICAgICAgfTtcbiAgICBbVHlwZS5VaW50NjRdOiB7IGJpdFdpZHRoOiAgICAgICAgICA2NDsgaXNTaWduZWQ6IGZhbHNlOyAgICAgICAgVEFycmF5OiBVaW50MzJBcnJheTsgVFZhbHVlOiBVaW50MzJBcnJheTsgICAgICAgfTtcbn07XG5cbmludGVyZmFjZSBJbnRfPFQgZXh0ZW5kcyBJbnRzID0gSW50cz4gZXh0ZW5kcyBEYXRhVHlwZTxUPiB7IFRBcnJheTogSVR5cGVbVF1bJ1RBcnJheSddOyBUVmFsdWU6IElUeXBlW1RdWydUVmFsdWUnXTsgfVxuY2xhc3MgSW50XzxUIGV4dGVuZHMgSW50cyA9IEludHM+IGV4dGVuZHMgRGF0YVR5cGU8VD4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfaXNTaWduZWQ6IElUeXBlW1RdWydpc1NpZ25lZCddLFxuICAgICAgICAgICAgICAgIHByb3RlY3RlZCBfYml0V2lkdGg6IElUeXBlW1RdWydiaXRXaWR0aCddKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkKCkgeyByZXR1cm4gVHlwZS5JbnQgYXMgVDsgfVxuICAgIHB1YmxpYyBnZXQgaXNTaWduZWQoKSB7IHJldHVybiB0aGlzLl9pc1NpZ25lZDsgfVxuICAgIHB1YmxpYyBnZXQgYml0V2lkdGgoKSB7IHJldHVybiB0aGlzLl9iaXRXaWR0aDsgfVxuICAgIHB1YmxpYyBnZXQgQXJyYXlUeXBlKCk6IEFycmF5QnVmZmVyVmlld0NvbnN0cnVjdG9yPElUeXBlW1RdWydUQXJyYXknXT4ge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuX2JpdFdpZHRoKSB7XG4gICAgICAgICAgICBjYXNlICA4OiByZXR1cm4gKHRoaXMuX2lzU2lnbmVkID8gIEludDhBcnJheSA6ICBVaW50OEFycmF5KSBhcyBhbnk7XG4gICAgICAgICAgICBjYXNlIDE2OiByZXR1cm4gKHRoaXMuX2lzU2lnbmVkID8gSW50MTZBcnJheSA6IFVpbnQxNkFycmF5KSBhcyBhbnk7XG4gICAgICAgICAgICBjYXNlIDMyOiByZXR1cm4gKHRoaXMuX2lzU2lnbmVkID8gSW50MzJBcnJheSA6IFVpbnQzMkFycmF5KSBhcyBhbnk7XG4gICAgICAgICAgICBjYXNlIDY0OiByZXR1cm4gKHRoaXMuX2lzU2lnbmVkID8gSW50MzJBcnJheSA6IFVpbnQzMkFycmF5KSBhcyBhbnk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnJlY29nbml6ZWQgJHt0aGlzW1N5bWJvbC50b1N0cmluZ1RhZ119IHR5cGVgKTtcbiAgICB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYCR7dGhpcy5faXNTaWduZWQgPyBgSWAgOiBgVWlgfW50JHt0aGlzLl9iaXRXaWR0aH1gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IEludF8pID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnSW50JztcbiAgICB9KShJbnRfLnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCB7IEludF8gYXMgSW50IH07XG5cbmV4cG9ydCBjbGFzcyBJbnQ4IGV4dGVuZHMgSW50XzxUeXBlLkludDg+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKHRydWUsIDgpOyB9IH1cbmV4cG9ydCBjbGFzcyBJbnQxNiBleHRlbmRzIEludF88VHlwZS5JbnQxNj4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIodHJ1ZSwgMTYpOyB9IH1cbmV4cG9ydCBjbGFzcyBJbnQzMiBleHRlbmRzIEludF88VHlwZS5JbnQzMj4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIodHJ1ZSwgMzIpOyB9IH1cbmV4cG9ydCBjbGFzcyBJbnQ2NCBleHRlbmRzIEludF88VHlwZS5JbnQ2ND4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIodHJ1ZSwgNjQpOyB9IH1cbmV4cG9ydCBjbGFzcyBVaW50OCBleHRlbmRzIEludF88VHlwZS5VaW50OD4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoZmFsc2UsIDgpOyB9IH1cbmV4cG9ydCBjbGFzcyBVaW50MTYgZXh0ZW5kcyBJbnRfPFR5cGUuVWludDE2PiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihmYWxzZSwgMTYpOyB9IH1cbmV4cG9ydCBjbGFzcyBVaW50MzIgZXh0ZW5kcyBJbnRfPFR5cGUuVWludDMyPiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihmYWxzZSwgMzIpOyB9IH1cbmV4cG9ydCBjbGFzcyBVaW50NjQgZXh0ZW5kcyBJbnRfPFR5cGUuVWludDY0PiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihmYWxzZSwgNjQpOyB9IH1cblxudHlwZSBGbG9hdHMgPSBUeXBlLkZsb2F0IHwgVHlwZS5GbG9hdDE2IHwgVHlwZS5GbG9hdDMyIHwgVHlwZS5GbG9hdDY0O1xudHlwZSBGVHlwZSA9IHtcbiAgICBbVHlwZS5GbG9hdCAgXTogeyBwcmVjaXNpb246IFByZWNpc2lvbjsgICAgICAgIFRBcnJheTogRmxvYXRBcnJheTsgICAgVFZhbHVlOiBudW1iZXI7IH07XG4gICAgW1R5cGUuRmxvYXQxNl06IHsgcHJlY2lzaW9uOiBQcmVjaXNpb24uSEFMRjsgICBUQXJyYXk6IFVpbnQxNkFycmF5OyAgIFRWYWx1ZTogbnVtYmVyOyB9O1xuICAgIFtUeXBlLkZsb2F0MzJdOiB7IHByZWNpc2lvbjogUHJlY2lzaW9uLlNJTkdMRTsgVEFycmF5OiBGbG9hdDMyQXJyYXk7ICBUVmFsdWU6IG51bWJlcjsgfTtcbiAgICBbVHlwZS5GbG9hdDY0XTogeyBwcmVjaXNpb246IFByZWNpc2lvbi5ET1VCTEU7IFRBcnJheTogRmxvYXQzMkFycmF5OyAgVFZhbHVlOiBudW1iZXI7IH07XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIEZsb2F0PFQgZXh0ZW5kcyBGbG9hdHMgPSBGbG9hdHM+IGV4dGVuZHMgRGF0YVR5cGU8VD4geyBUQXJyYXk6IEZUeXBlW1RdWydUQXJyYXknXTsgVFZhbHVlOiBudW1iZXI7IH1cbmV4cG9ydCBjbGFzcyBGbG9hdDxUIGV4dGVuZHMgRmxvYXRzID0gRmxvYXRzPiBleHRlbmRzIERhdGFUeXBlPFQ+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX3ByZWNpc2lvbjogUHJlY2lzaW9uKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkKCkgeyByZXR1cm4gVHlwZS5GbG9hdCBhcyBUOyB9XG4gICAgcHVibGljIGdldCBwcmVjaXNpb24oKSB7IHJldHVybiB0aGlzLl9wcmVjaXNpb247IH1cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcHVibGljIGdldCBBcnJheVR5cGUoKTogQXJyYXlCdWZmZXJWaWV3Q29uc3RydWN0b3I8RlR5cGVbVF1bJ1RBcnJheSddPiB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5wcmVjaXNpb24pIHtcbiAgICAgICAgICAgIGNhc2UgUHJlY2lzaW9uLkhBTEY6IHJldHVybiBVaW50MTZBcnJheSBhcyBhbnk7XG4gICAgICAgICAgICBjYXNlIFByZWNpc2lvbi5TSU5HTEU6IHJldHVybiBGbG9hdDMyQXJyYXkgYXMgYW55O1xuICAgICAgICAgICAgY2FzZSBQcmVjaXNpb24uRE9VQkxFOiByZXR1cm4gRmxvYXQ2NEFycmF5IGFzIGFueTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVucmVjb2duaXplZCAke3RoaXNbU3ltYm9sLnRvU3RyaW5nVGFnXX0gdHlwZWApO1xuICAgIH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgRmxvYXQkeyh0aGlzLnByZWNpc2lvbiA8PCA1KSB8fCAxNn1gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IEZsb2F0KSA9PiB7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ0Zsb2F0JztcbiAgICB9KShGbG9hdC5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgY2xhc3MgRmxvYXQxNiBleHRlbmRzIEZsb2F0PFR5cGUuRmxvYXQxNj4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoUHJlY2lzaW9uLkhBTEYpOyB9IH1cbmV4cG9ydCBjbGFzcyBGbG9hdDMyIGV4dGVuZHMgRmxvYXQ8VHlwZS5GbG9hdDMyPiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihQcmVjaXNpb24uU0lOR0xFKTsgfSB9XG5leHBvcnQgY2xhc3MgRmxvYXQ2NCBleHRlbmRzIEZsb2F0PFR5cGUuRmxvYXQ2ND4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoUHJlY2lzaW9uLkRPVUJMRSk7IH0gfVxuXG5leHBvcnQgaW50ZXJmYWNlIEJpbmFyeSBleHRlbmRzIERhdGFUeXBlPFR5cGUuQmluYXJ5PiB7IFRBcnJheTogVWludDhBcnJheTsgVFZhbHVlOiBVaW50OEFycmF5OyB9XG5leHBvcnQgY2xhc3MgQmluYXJ5IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5CaW5hcnk+IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG4gICAgcHVibGljIGdldCB0eXBlSWQoKSB7IHJldHVybiBUeXBlLkJpbmFyeSBhcyBUeXBlLkJpbmFyeTsgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBCaW5hcnlgOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IEJpbmFyeSkgPT4ge1xuICAgICAgICAoPGFueT4gcHJvdG8pLkFycmF5VHlwZSA9IFVpbnQ4QXJyYXk7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ0JpbmFyeSc7XG4gICAgfSkoQmluYXJ5LnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXRmOCBleHRlbmRzIERhdGFUeXBlPFR5cGUuVXRmOD4geyBUQXJyYXk6IFVpbnQ4QXJyYXk7IFRWYWx1ZTogc3RyaW5nOyBBcnJheVR5cGU6IHR5cGVvZiBVaW50OEFycmF5OyB9XG5leHBvcnQgY2xhc3MgVXRmOCBleHRlbmRzIERhdGFUeXBlPFR5cGUuVXRmOD4ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHR5cGVJZCgpIHsgcmV0dXJuIFR5cGUuVXRmOCBhcyBUeXBlLlV0Zjg7IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgVXRmOGA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogVXRmOCkgPT4ge1xuICAgICAgICAoPGFueT4gcHJvdG8pLkFycmF5VHlwZSA9IFVpbnQ4QXJyYXk7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ1V0ZjgnO1xuICAgIH0pKFV0ZjgucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCb29sIGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5Cb29sPiB7IFRBcnJheTogVWludDhBcnJheTsgVFZhbHVlOiBib29sZWFuOyBBcnJheVR5cGU6IHR5cGVvZiBVaW50OEFycmF5OyB9XG5leHBvcnQgY2xhc3MgQm9vbCBleHRlbmRzIERhdGFUeXBlPFR5cGUuQm9vbD4ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHR5cGVJZCgpIHsgcmV0dXJuIFR5cGUuQm9vbCBhcyBUeXBlLkJvb2w7IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgQm9vbGA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogQm9vbCkgPT4ge1xuICAgICAgICAoPGFueT4gcHJvdG8pLkFycmF5VHlwZSA9IFVpbnQ4QXJyYXk7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ0Jvb2wnO1xuICAgIH0pKEJvb2wucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEZWNpbWFsIGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5EZWNpbWFsPiB7IFRBcnJheTogVWludDMyQXJyYXk7IFRWYWx1ZTogVWludDMyQXJyYXk7IEFycmF5VHlwZTogdHlwZW9mIFVpbnQzMkFycmF5OyB9XG5leHBvcnQgY2xhc3MgRGVjaW1hbCBleHRlbmRzIERhdGFUeXBlPFR5cGUuRGVjaW1hbD4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfc2NhbGU6IG51bWJlcixcbiAgICAgICAgICAgICAgICBwcm90ZWN0ZWQgX3ByZWNpc2lvbjogbnVtYmVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkKCkgeyByZXR1cm4gVHlwZS5EZWNpbWFsIGFzIFR5cGUuRGVjaW1hbDsgfVxuICAgIHB1YmxpYyBnZXQgc2NhbGUoKSB7IHJldHVybiB0aGlzLl9zY2FsZTsgfVxuICAgIHB1YmxpYyBnZXQgcHJlY2lzaW9uKCkgeyByZXR1cm4gdGhpcy5fcHJlY2lzaW9uOyB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYERlY2ltYWxbJHt0aGlzLl9wcmVjaXNpb259ZSR7dGhpcy5fc2NhbGUgPiAwID8gYCtgIDogYGB9JHt0aGlzLl9zY2FsZX1dYDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBEZWNpbWFsKSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gVWludDMyQXJyYXk7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ0RlY2ltYWwnO1xuICAgIH0pKERlY2ltYWwucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IHR5cGUgRGF0ZXMgPSBUeXBlLkRhdGUgfCBUeXBlLkRhdGVEYXkgfCBUeXBlLkRhdGVNaWxsaXNlY29uZDtcbmV4cG9ydCBpbnRlcmZhY2UgRGF0ZV88VCBleHRlbmRzIERhdGVzID0gRGF0ZXM+IGV4dGVuZHMgRGF0YVR5cGU8VD4geyBUQXJyYXk6IEludDMyQXJyYXk7IFRWYWx1ZTogRGF0ZTsgQXJyYXlUeXBlOiB0eXBlb2YgSW50MzJBcnJheTsgfVxuZXhwb3J0IGNsYXNzIERhdGVfPFQgZXh0ZW5kcyBEYXRlcyA9IERhdGVzPiBleHRlbmRzIERhdGFUeXBlPFQ+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX3VuaXQ6IERhdGVVbml0KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkKCkgeyByZXR1cm4gVHlwZS5EYXRlIGFzIFQ7IH1cbiAgICBwdWJsaWMgZ2V0IHVuaXQoKSB7IHJldHVybiB0aGlzLl91bml0OyB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYERhdGUkeyh0aGlzLl91bml0ICsgMSkgKiAzMn08JHtEYXRlVW5pdFt0aGlzLl91bml0XX0+YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBEYXRlXykgPT4ge1xuICAgICAgICAoPGFueT4gcHJvdG8pLkFycmF5VHlwZSA9IEludDMyQXJyYXk7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ0RhdGUnO1xuICAgIH0pKERhdGVfLnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCBjbGFzcyBEYXRlRGF5IGV4dGVuZHMgRGF0ZV88VHlwZS5EYXRlRGF5PiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihEYXRlVW5pdC5EQVkpOyB9IH1cbmV4cG9ydCBjbGFzcyBEYXRlTWlsbGlzZWNvbmQgZXh0ZW5kcyBEYXRlXzxUeXBlLkRhdGVNaWxsaXNlY29uZD4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoRGF0ZVVuaXQuTUlMTElTRUNPTkQpOyB9IH1cblxudHlwZSBUaW1lcyA9IFR5cGUuVGltZSB8IFR5cGUuVGltZVNlY29uZCB8IFR5cGUuVGltZU1pbGxpc2Vjb25kIHwgVHlwZS5UaW1lTWljcm9zZWNvbmQgfCBUeXBlLlRpbWVOYW5vc2Vjb25kO1xudHlwZSBUaW1lc1R5cGUgPSB7XG4gICAgW1R5cGUuVGltZSAgICAgICAgICAgXTogeyB1bml0OiBUaW1lVW5pdDsgICAgICAgICAgICAgVFZhbHVlOiBudW1iZXIgfCBVaW50MzJBcnJheSB9O1xuICAgIFtUeXBlLlRpbWVTZWNvbmQgICAgIF06IHsgdW5pdDogVGltZVVuaXQuU0VDT05EOyAgICAgIFRWYWx1ZTogbnVtYmVyOyAgICAgICAgICAgICAgfTtcbiAgICBbVHlwZS5UaW1lTWlsbGlzZWNvbmRdOiB7IHVuaXQ6IFRpbWVVbml0Lk1JTExJU0VDT05EOyBUVmFsdWU6IG51bWJlcjsgICAgICAgICAgICAgIH07XG4gICAgW1R5cGUuVGltZU1pY3Jvc2Vjb25kXTogeyB1bml0OiBUaW1lVW5pdC5NSUNST1NFQ09ORDsgVFZhbHVlOiBVaW50MzJBcnJheTsgICAgICAgICB9O1xuICAgIFtUeXBlLlRpbWVOYW5vc2Vjb25kIF06IHsgdW5pdDogVGltZVVuaXQuTkFOT1NFQ09ORDsgIFRWYWx1ZTogVWludDMyQXJyYXk7ICAgICAgICAgfTtcbn07XG5cbmludGVyZmFjZSBUaW1lXzxUIGV4dGVuZHMgVGltZXMgPSBUaW1lcz4gZXh0ZW5kcyBEYXRhVHlwZTxUPiB7IFRBcnJheTogVWludDMyQXJyYXk7IFRWYWx1ZTogVGltZXNUeXBlW1RdWydUVmFsdWUnXTsgQXJyYXlUeXBlOiB0eXBlb2YgVWludDMyQXJyYXk7IH1cbmNsYXNzIFRpbWVfPFQgZXh0ZW5kcyBUaW1lcyA9IFRpbWVzPiBleHRlbmRzIERhdGFUeXBlPFQ+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX3VuaXQ6IFRpbWVzVHlwZVtUXVsndW5pdCddLFxuICAgICAgICAgICAgICAgIHByb3RlY3RlZCBfYml0V2lkdGg6IFRpbWVCaXRXaWR0aCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHR5cGVJZCgpIHsgcmV0dXJuIFR5cGUuVGltZSBhcyBUOyB9XG4gICAgcHVibGljIGdldCB1bml0KCkgeyByZXR1cm4gdGhpcy5fdW5pdDsgfVxuICAgIHB1YmxpYyBnZXQgYml0V2lkdGgoKSB7IHJldHVybiB0aGlzLl9iaXRXaWR0aDsgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBUaW1lJHt0aGlzLl9iaXRXaWR0aH08JHtUaW1lVW5pdFt0aGlzLl91bml0XX0+YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBUaW1lXykgPT4ge1xuICAgICAgICAoPGFueT4gcHJvdG8pLkFycmF5VHlwZSA9IFVpbnQzMkFycmF5O1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdUaW1lJztcbiAgICB9KShUaW1lXy5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgeyBUaW1lXyBhcyBUaW1lIH07XG5cbmV4cG9ydCBjbGFzcyBUaW1lU2Vjb25kIGV4dGVuZHMgVGltZV88VHlwZS5UaW1lU2Vjb25kPiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihUaW1lVW5pdC5TRUNPTkQsIDMyKTsgfSB9XG5leHBvcnQgY2xhc3MgVGltZU1pbGxpc2Vjb25kIGV4dGVuZHMgVGltZV88VHlwZS5UaW1lTWlsbGlzZWNvbmQ+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKFRpbWVVbml0Lk1JTExJU0VDT05ELCAzMik7IH0gfVxuZXhwb3J0IGNsYXNzIFRpbWVNaWNyb3NlY29uZCBleHRlbmRzIFRpbWVfPFR5cGUuVGltZU1pY3Jvc2Vjb25kPiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihUaW1lVW5pdC5NSUNST1NFQ09ORCwgNjQpOyB9IH1cbmV4cG9ydCBjbGFzcyBUaW1lTmFub3NlY29uZCBleHRlbmRzIFRpbWVfPFR5cGUuVGltZU5hbm9zZWNvbmQ+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKFRpbWVVbml0Lk5BTk9TRUNPTkQsIDY0KTsgfSB9XG5cbnR5cGUgVGltZXN0YW1wcyA9IFR5cGUuVGltZXN0YW1wIHwgVHlwZS5UaW1lc3RhbXBTZWNvbmQgfCBUeXBlLlRpbWVzdGFtcE1pbGxpc2Vjb25kIHwgVHlwZS5UaW1lc3RhbXBNaWNyb3NlY29uZCB8IFR5cGUuVGltZXN0YW1wTmFub3NlY29uZDtcbmludGVyZmFjZSBUaW1lc3RhbXBfPFQgZXh0ZW5kcyBUaW1lc3RhbXBzID0gVGltZXN0YW1wcz4gZXh0ZW5kcyBEYXRhVHlwZTxUPiB7IFRBcnJheTogSW50MzJBcnJheTsgVFZhbHVlOiBudW1iZXI7IEFycmF5VHlwZTogdHlwZW9mIEludDMyQXJyYXk7IH1cbmNsYXNzIFRpbWVzdGFtcF88VCBleHRlbmRzIFRpbWVzdGFtcHMgPSBUaW1lc3RhbXBzPiBleHRlbmRzIERhdGFUeXBlPFQ+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX3VuaXQ6IFRpbWVVbml0LCBwcm90ZWN0ZWQgX3RpbWV6b25lPzogc3RyaW5nIHwgbnVsbCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHR5cGVJZCgpIHsgcmV0dXJuIFR5cGUuVGltZXN0YW1wIGFzIFQ7IH1cbiAgICBwdWJsaWMgZ2V0IHVuaXQoKSB7IHJldHVybiB0aGlzLl91bml0OyB9XG4gICAgcHVibGljIGdldCB0aW1lem9uZSgpIHsgcmV0dXJuIHRoaXMuX3RpbWV6b25lOyB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYFRpbWVzdGFtcDwke1RpbWVVbml0W3RoaXMuX3VuaXRdfSR7dGhpcy5fdGltZXpvbmUgPyBgLCAke3RoaXMuX3RpbWV6b25lfWAgOiBgYH0+YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBUaW1lc3RhbXBfKSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gSW50MzJBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnVGltZXN0YW1wJztcbiAgICB9KShUaW1lc3RhbXBfLnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCB7IFRpbWVzdGFtcF8gYXMgVGltZXN0YW1wIH07XG5cbmV4cG9ydCBjbGFzcyBUaW1lc3RhbXBTZWNvbmQgZXh0ZW5kcyBUaW1lc3RhbXBfPFR5cGUuVGltZXN0YW1wU2Vjb25kPiB7IGNvbnN0cnVjdG9yKHRpbWV6b25lPzogc3RyaW5nIHwgbnVsbCkgeyBzdXBlcihUaW1lVW5pdC5TRUNPTkQsIHRpbWV6b25lKTsgfSB9XG5leHBvcnQgY2xhc3MgVGltZXN0YW1wTWlsbGlzZWNvbmQgZXh0ZW5kcyBUaW1lc3RhbXBfPFR5cGUuVGltZXN0YW1wTWlsbGlzZWNvbmQ+IHsgY29uc3RydWN0b3IodGltZXpvbmU/OiBzdHJpbmcgfCBudWxsKSB7IHN1cGVyKFRpbWVVbml0Lk1JTExJU0VDT05ELCB0aW1lem9uZSk7IH0gfVxuZXhwb3J0IGNsYXNzIFRpbWVzdGFtcE1pY3Jvc2Vjb25kIGV4dGVuZHMgVGltZXN0YW1wXzxUeXBlLlRpbWVzdGFtcE1pY3Jvc2Vjb25kPiB7IGNvbnN0cnVjdG9yKHRpbWV6b25lPzogc3RyaW5nIHwgbnVsbCkgeyBzdXBlcihUaW1lVW5pdC5NSUNST1NFQ09ORCwgdGltZXpvbmUpOyB9IH1cbmV4cG9ydCBjbGFzcyBUaW1lc3RhbXBOYW5vc2Vjb25kIGV4dGVuZHMgVGltZXN0YW1wXzxUeXBlLlRpbWVzdGFtcE5hbm9zZWNvbmQ+IHsgY29uc3RydWN0b3IodGltZXpvbmU/OiBzdHJpbmcgfCBudWxsKSB7IHN1cGVyKFRpbWVVbml0Lk5BTk9TRUNPTkQsIHRpbWV6b25lKTsgfSB9XG5cbnR5cGUgSW50ZXJ2YWxzID0gVHlwZS5JbnRlcnZhbCB8IFR5cGUuSW50ZXJ2YWxEYXlUaW1lIHwgVHlwZS5JbnRlcnZhbFllYXJNb250aDtcbmludGVyZmFjZSBJbnRlcnZhbF88VCBleHRlbmRzIEludGVydmFscyA9IEludGVydmFscz4gZXh0ZW5kcyBEYXRhVHlwZTxUPiB7IFRBcnJheTogSW50MzJBcnJheTsgVFZhbHVlOiBJbnQzMkFycmF5OyBBcnJheVR5cGU6IHR5cGVvZiBJbnQzMkFycmF5OyB9XG5jbGFzcyBJbnRlcnZhbF88VCBleHRlbmRzIEludGVydmFscyA9IEludGVydmFscz4gZXh0ZW5kcyBEYXRhVHlwZTxUPiB7XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIF91bml0OiBJbnRlcnZhbFVuaXQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG4gICAgcHVibGljIGdldCB0eXBlSWQoKSB7IHJldHVybiBUeXBlLkludGVydmFsIGFzIFQ7IH1cbiAgICBwdWJsaWMgZ2V0IHVuaXQoKSB7IHJldHVybiB0aGlzLl91bml0OyB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYEludGVydmFsPCR7SW50ZXJ2YWxVbml0W3RoaXMuX3VuaXRdfT5gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IEludGVydmFsXykgPT4ge1xuICAgICAgICAoPGFueT4gcHJvdG8pLkFycmF5VHlwZSA9IEludDMyQXJyYXk7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ0ludGVydmFsJztcbiAgICB9KShJbnRlcnZhbF8ucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IHsgSW50ZXJ2YWxfIGFzIEludGVydmFsIH07XG5cbmV4cG9ydCBjbGFzcyBJbnRlcnZhbERheVRpbWUgZXh0ZW5kcyBJbnRlcnZhbF88VHlwZS5JbnRlcnZhbERheVRpbWU+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKEludGVydmFsVW5pdC5EQVlfVElNRSk7IH0gfVxuZXhwb3J0IGNsYXNzIEludGVydmFsWWVhck1vbnRoIGV4dGVuZHMgSW50ZXJ2YWxfPFR5cGUuSW50ZXJ2YWxZZWFyTW9udGg+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKEludGVydmFsVW5pdC5ZRUFSX01PTlRIKTsgfSB9XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGlzdDxUIGV4dGVuZHMgRGF0YVR5cGUgPSBhbnk+IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5MaXN0LCB7IFswXTogVCB9PiAgeyBUQXJyYXk6IEl0ZXJhYmxlQXJyYXlMaWtlPFQ+OyBUVmFsdWU6IFZUeXBlPFQ+OyB9XG5leHBvcnQgY2xhc3MgTGlzdDxUIGV4dGVuZHMgRGF0YVR5cGUgPSBhbnk+IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5MaXN0LCB7IFswXTogVCB9PiB7XG4gICAgY29uc3RydWN0b3IoY2hpbGQ6IEZpZWxkPFQ+KSB7XG4gICAgICAgIHN1cGVyKFtjaGlsZF0pO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHR5cGVJZCgpIHsgcmV0dXJuIFR5cGUuTGlzdCBhcyBUeXBlLkxpc3Q7IH1cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcHJvdGVjdGVkIF9jaGlsZHJlbjogRmllbGQ8VD5bXTtcbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgTGlzdDwke3RoaXMudmFsdWVUeXBlfT5gOyB9XG4gICAgcHVibGljIGdldCBjaGlsZHJlbigpIHsgcmV0dXJuIHRoaXMuX2NoaWxkcmVuOyB9XG4gICAgcHVibGljIGdldCB2YWx1ZVR5cGUoKTogVCB7IHJldHVybiB0aGlzLl9jaGlsZHJlblswXS50eXBlIGFzIFQ7IH1cbiAgICBwdWJsaWMgZ2V0IHZhbHVlRmllbGQoKTogRmllbGQ8VD4geyByZXR1cm4gdGhpcy5fY2hpbGRyZW5bMF0gYXMgRmllbGQ8VD47IH1cbiAgICBwdWJsaWMgZ2V0IEFycmF5VHlwZSgpOiBUWydBcnJheVR5cGUnXSB7IHJldHVybiB0aGlzLnZhbHVlVHlwZS5BcnJheVR5cGU7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogTGlzdCkgPT4ge1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdMaXN0JztcbiAgICB9KShMaXN0LnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RydWN0PFQgZXh0ZW5kcyB7IFtrZXk6IHN0cmluZ106IERhdGFUeXBlOyB9ID0gYW55PiBleHRlbmRzIERhdGFUeXBlPFR5cGUuU3RydWN0PiB7IFRBcnJheTogSXRlcmFibGVBcnJheUxpa2U8Um93TGlrZTxUPj47IFRWYWx1ZTogUm93TGlrZTxUPjsgZGF0YVR5cGVzOiBUOyB9XG5leHBvcnQgY2xhc3MgU3RydWN0PFQgZXh0ZW5kcyB7IFtrZXk6IHN0cmluZ106IERhdGFUeXBlOyB9ID0gYW55PiBleHRlbmRzIERhdGFUeXBlPFR5cGUuU3RydWN0LCBUPiB7XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIF9jaGlsZHJlbjogRmllbGQ8VFtrZXlvZiBUXT5bXSkge1xuICAgICAgICBzdXBlcihfY2hpbGRyZW4pO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHR5cGVJZCgpIHsgcmV0dXJuIFR5cGUuU3RydWN0IGFzIFR5cGUuU3RydWN0OyB9XG4gICAgcHVibGljIGdldCBjaGlsZHJlbigpIHsgcmV0dXJuIHRoaXMuX2NoaWxkcmVuOyB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYFN0cnVjdDwke3RoaXMuX2NoaWxkcmVuLm1hcCgoZikgPT4gZi50eXBlKS5qb2luKGAsIGApfT5gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IFN0cnVjdCkgPT4ge1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdTdHJ1Y3QnO1xuICAgIH0pKFN0cnVjdC5wcm90b3R5cGUpO1xufVxuXG50eXBlIFVuaW9ucyA9IFR5cGUuVW5pb24gfCBUeXBlLkRlbnNlVW5pb24gfCBUeXBlLlNwYXJzZVVuaW9uO1xuaW50ZXJmYWNlIFVuaW9uXzxUIGV4dGVuZHMgVW5pb25zID0gVW5pb25zPiBleHRlbmRzIERhdGFUeXBlPFQ+IHsgVEFycmF5OiBJbnQzMkFycmF5OyBUVmFsdWU6IGFueVtdOyB9XG5jbGFzcyBVbmlvbl88VCBleHRlbmRzIFVuaW9ucyA9IFVuaW9ucz4gZXh0ZW5kcyBEYXRhVHlwZTxUPiB7XG4gICAgcHJvdGVjdGVkIF90eXBlSWRzOiBJbnQzMkFycmF5O1xuICAgIHByb3RlY3RlZCBfY2hpbGRyZW46IEZpZWxkPGFueT5bXTtcbiAgICBwcm90ZWN0ZWQgX3R5cGVJZFRvQ2hpbGRJbmRleDogeyBba2V5OiBudW1iZXJdOiBudW1iZXIgfTtcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX21vZGU6IFVuaW9uTW9kZSwgX3R5cGVJZHM6IG51bWJlcltdIHwgSW50MzJBcnJheSwgX2NoaWxkcmVuOiBGaWVsZDxhbnk+W10pIHtcbiAgICAgICAgc3VwZXIoX2NoaWxkcmVuKTtcbiAgICAgICAgdGhpcy5fY2hpbGRyZW4gPSBfY2hpbGRyZW47XG4gICAgICAgIHRoaXMuX3R5cGVJZHMgPSBfdHlwZUlkcyA9IEludDMyQXJyYXkuZnJvbShfdHlwZUlkcyk7XG4gICAgICAgIHRoaXMuX3R5cGVJZFRvQ2hpbGRJbmRleCA9IF90eXBlSWRzLnJlZHVjZSgodHlwZUlkVG9DaGlsZEluZGV4LCB0eXBlSWQsIGlkeCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICh0eXBlSWRUb0NoaWxkSW5kZXhbdHlwZUlkXSA9IGlkeCkgJiYgdHlwZUlkVG9DaGlsZEluZGV4IHx8IHR5cGVJZFRvQ2hpbGRJbmRleDtcbiAgICAgICAgfSwgT2JqZWN0LmNyZWF0ZShudWxsKSBhcyB7IFtrZXk6IG51bWJlcl06IG51bWJlciB9KTtcbiAgICB9XG4gICAgcHVibGljIGdldCB0eXBlSWQoKSB7IHJldHVybiBUeXBlLlVuaW9uIGFzIFQ7IH1cbiAgICBwdWJsaWMgZ2V0IG1vZGUoKSB7IHJldHVybiB0aGlzLl9tb2RlOyB9XG4gICAgcHVibGljIGdldCB0eXBlSWRzKCkgeyByZXR1cm4gdGhpcy5fdHlwZUlkczsgfVxuICAgIHB1YmxpYyBnZXQgY2hpbGRyZW4oKSB7IHJldHVybiB0aGlzLl9jaGlsZHJlbjsgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkVG9DaGlsZEluZGV4KCkgeyByZXR1cm4gdGhpcy5fdHlwZUlkVG9DaGlsZEluZGV4OyB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYCR7dGhpc1tTeW1ib2wudG9TdHJpbmdUYWddfTwke1xuICAgICAgICB0aGlzLl9jaGlsZHJlbi5tYXAoKHgpID0+IGAke3gudHlwZX1gKS5qb2luKGAgfCBgKVxuICAgIH0+YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBVbmlvbl8pID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBJbnQzMkFycmF5O1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdVbmlvbic7XG4gICAgfSkoVW5pb25fLnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCB7IFVuaW9uXyBhcyBVbmlvbiB9O1xuXG5leHBvcnQgY2xhc3MgRGVuc2VVbmlvbiBleHRlbmRzIFVuaW9uXzxUeXBlLkRlbnNlVW5pb24+IHtcbiAgICBjb25zdHJ1Y3Rvcih0eXBlSWRzOiBudW1iZXJbXSB8IEludDMyQXJyYXksIGNoaWxkcmVuOiBGaWVsZFtdKSB7XG4gICAgICAgIHN1cGVyKFVuaW9uTW9kZS5EZW5zZSwgdHlwZUlkcywgY2hpbGRyZW4pO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNwYXJzZVVuaW9uIGV4dGVuZHMgVW5pb25fPFR5cGUuU3BhcnNlVW5pb24+IHtcbiAgICBjb25zdHJ1Y3Rvcih0eXBlSWRzOiBudW1iZXJbXSB8IEludDMyQXJyYXksIGNoaWxkcmVuOiBGaWVsZFtdKSB7XG4gICAgICAgIHN1cGVyKFVuaW9uTW9kZS5TcGFyc2UsIHR5cGVJZHMsIGNoaWxkcmVuKTtcbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRml4ZWRTaXplQmluYXJ5IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5GaXhlZFNpemVCaW5hcnk+IHsgVEFycmF5OiBVaW50OEFycmF5OyBUVmFsdWU6IFVpbnQ4QXJyYXk7IEFycmF5VHlwZTogdHlwZW9mIFVpbnQ4QXJyYXk7IH1cbmV4cG9ydCBjbGFzcyBGaXhlZFNpemVCaW5hcnkgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkZpeGVkU2l6ZUJpbmFyeT4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfYnl0ZVdpZHRoOiBudW1iZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG4gICAgcHVibGljIGdldCB0eXBlSWQoKSB7IHJldHVybiBUeXBlLkZpeGVkU2l6ZUJpbmFyeSBhcyBUeXBlLkZpeGVkU2l6ZUJpbmFyeTsgfVxuICAgIHB1YmxpYyBnZXQgYnl0ZVdpZHRoKCkgeyByZXR1cm4gdGhpcy5fYnl0ZVdpZHRoOyB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYEZpeGVkU2l6ZUJpbmFyeVske3RoaXMuYnl0ZVdpZHRofV1gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IEZpeGVkU2l6ZUJpbmFyeSkgPT4ge1xuICAgICAgICAoPGFueT4gcHJvdG8pLkFycmF5VHlwZSA9IFVpbnQ4QXJyYXk7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ0ZpeGVkU2l6ZUJpbmFyeSc7XG4gICAgfSkoRml4ZWRTaXplQmluYXJ5LnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRml4ZWRTaXplTGlzdDxUIGV4dGVuZHMgRGF0YVR5cGUgPSBhbnk+IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5GaXhlZFNpemVMaXN0PiB7IFRBcnJheTogSXRlcmFibGVBcnJheUxpa2U8VFsnVEFycmF5J10+OyBUVmFsdWU6IFZUeXBlPFQ+OyB9XG5leHBvcnQgY2xhc3MgRml4ZWRTaXplTGlzdDxUIGV4dGVuZHMgRGF0YVR5cGUgPSBhbnk+IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5GaXhlZFNpemVMaXN0LCB7IFswXTogVCB9PiB7XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIF9saXN0U2l6ZTogbnVtYmVyLCBjaGlsZDogRmllbGQ8VD4pIHtcbiAgICAgICAgc3VwZXIoW2NoaWxkXSk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkKCkgeyByZXR1cm4gVHlwZS5GaXhlZFNpemVMaXN0IGFzIFR5cGUuRml4ZWRTaXplTGlzdDsgfVxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBwcm90ZWN0ZWQgX2NoaWxkcmVuOiBGaWVsZDxUPltdO1xuICAgIHB1YmxpYyBnZXQgbGlzdFNpemUoKSB7IHJldHVybiB0aGlzLl9saXN0U2l6ZTsgfVxuICAgIHB1YmxpYyBnZXQgY2hpbGRyZW4oKSB7IHJldHVybiB0aGlzLl9jaGlsZHJlbjsgfVxuICAgIHB1YmxpYyBnZXQgdmFsdWVUeXBlKCk6IFQgeyByZXR1cm4gdGhpcy5jaGlsZHJlblswXS50eXBlIGFzIFQ7IH1cbiAgICBwdWJsaWMgZ2V0IHZhbHVlRmllbGQoKTogRmllbGQ8VD4geyByZXR1cm4gdGhpcy5jaGlsZHJlblswXSBhcyBGaWVsZDxUPjsgfVxuICAgIHB1YmxpYyBnZXQgQXJyYXlUeXBlKCk6IFRbJ0FycmF5VHlwZSddIHsgcmV0dXJuIHRoaXMudmFsdWVUeXBlLkFycmF5VHlwZTsgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBGaXhlZFNpemVMaXN0WyR7dGhpcy5fbGlzdFNpemV9XTwke3RoaXMudmFsdWVUeXBlfT5gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IEZpeGVkU2l6ZUxpc3QpID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnRml4ZWRTaXplTGlzdCc7XG4gICAgfSkoRml4ZWRTaXplTGlzdC5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1hcF88VCBleHRlbmRzIHsgW2tleTogc3RyaW5nXTogRGF0YVR5cGU7IH0gPSBhbnk+IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5NYXA+IHsgVEFycmF5OiBVaW50OEFycmF5OyBUVmFsdWU6IFJvd0xpa2U8VD47IGRhdGFUeXBlczogVDsgfVxuZXhwb3J0IGNsYXNzIE1hcF88VCBleHRlbmRzIHsgW2tleTogc3RyaW5nXTogRGF0YVR5cGU7IH0gPSBhbnk+IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5NYXAsIFQ+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX2NoaWxkcmVuOiBGaWVsZDxUW2tleW9mIFRdPltdLFxuICAgICAgICAgICAgICAgIHByb3RlY3RlZCBfa2V5c1NvcnRlZDogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgICAgIHN1cGVyKF9jaGlsZHJlbik7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkKCkgeyByZXR1cm4gVHlwZS5NYXAgYXMgVHlwZS5NYXA7IH1cbiAgICBwdWJsaWMgZ2V0IGNoaWxkcmVuKCkgeyByZXR1cm4gdGhpcy5fY2hpbGRyZW47IH1cbiAgICBwdWJsaWMgZ2V0IGtleXNTb3J0ZWQoKSB7IHJldHVybiB0aGlzLl9rZXlzU29ydGVkOyB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYE1hcDwke3RoaXMuY2hpbGRyZW4uam9pbihgLCBgKX0+YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBNYXBfKSA9PiB7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ01hcF8nO1xuICAgIH0pKE1hcF8ucHJvdG90eXBlKTtcbn1cblxuY29uc3QgZ2V0SWQgPSAoKGF0b21pY0RpY3Rpb25hcnlJZCkgPT4gKCkgPT4gKythdG9taWNEaWN0aW9uYXJ5SWQpKC0xKTtcblxuZXhwb3J0IHR5cGUgVEtleXMgPSBJbnQ4IHwgSW50MTYgfCBJbnQzMiB8IFVpbnQ4IHwgVWludDE2IHwgVWludDMyO1xuXG5leHBvcnQgaW50ZXJmYWNlIERpY3Rpb25hcnk8VCBleHRlbmRzIERhdGFUeXBlID0gYW55LCBUS2V5IGV4dGVuZHMgVEtleXMgPSBUS2V5cz4gZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkRpY3Rpb25hcnk+IHsgVEFycmF5OiBUS2V5WydUQXJyYXknXTsgVFZhbHVlOiBUWydUVmFsdWUnXTsgfVxuZXhwb3J0IGNsYXNzIERpY3Rpb25hcnk8VCBleHRlbmRzIERhdGFUeXBlID0gYW55LCBUS2V5IGV4dGVuZHMgVEtleXMgPSBUS2V5cz4gZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkRpY3Rpb25hcnk+IHtcbiAgICBwcm90ZWN0ZWQgX2lkOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIF9pbmRpY2VzOiBUS2V5O1xuICAgIHByb3RlY3RlZCBfZGljdGlvbmFyeTogVDtcbiAgICBwcm90ZWN0ZWQgX2lzT3JkZXJlZDogYm9vbGVhbjtcbiAgICBwcm90ZWN0ZWQgX2RpY3Rpb25hcnlWZWN0b3I6IFZlY3RvcjxUPjtcbiAgICBwdWJsaWMgc2V0IGRpY3Rpb25hcnlWZWN0b3IodikgeyB0aGlzLl9kaWN0aW9uYXJ5VmVjdG9yID0gdjsgfVxuICAgIHB1YmxpYyBnZXQgZGljdGlvbmFyeVZlY3RvcigpIHsgcmV0dXJuIHRoaXMuX2RpY3Rpb25hcnlWZWN0b3I7IH1cbiAgICBjb25zdHJ1Y3RvcihkaWN0aW9uYXJ5OiBULCBpbmRpY2VzOiBUS2V5LCBpZD86IExvbmcgfCBudW1iZXIgfCBudWxsLCBpc09yZGVyZWQ/OiBib29sZWFuIHwgbnVsbCwgZGljdGlvbmFyeVZlY3Rvcj86IFZlY3RvcjxUPikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9pbmRpY2VzID0gaW5kaWNlcztcbiAgICAgICAgdGhpcy5fZGljdGlvbmFyeSA9IGRpY3Rpb25hcnk7XG4gICAgICAgIHRoaXMuX2lzT3JkZXJlZCA9IGlzT3JkZXJlZCB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5fZGljdGlvbmFyeVZlY3RvciA9IGRpY3Rpb25hcnlWZWN0b3IhO1xuICAgICAgICB0aGlzLl9pZCA9IGlkID09IG51bGwgPyBnZXRJZCgpIDogdHlwZW9mIGlkID09PSAnbnVtYmVyJyA/IGlkIDogaWQubG93O1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHR5cGVJZCgpIHsgcmV0dXJuIFR5cGUuRGljdGlvbmFyeSBhcyBUeXBlLkRpY3Rpb25hcnk7IH1cbiAgICBwdWJsaWMgZ2V0IGlkKCkgeyByZXR1cm4gdGhpcy5faWQ7IH1cbiAgICBwdWJsaWMgZ2V0IGluZGljZXMoKSB7IHJldHVybiB0aGlzLl9pbmRpY2VzOyB9XG4gICAgcHVibGljIGdldCBkaWN0aW9uYXJ5KCkgeyByZXR1cm4gdGhpcy5fZGljdGlvbmFyeTsgfVxuICAgIHB1YmxpYyBnZXQgaXNPcmRlcmVkKCkgeyByZXR1cm4gdGhpcy5faXNPcmRlcmVkOyB9XG4gICAgcHVibGljIHNldCBjaGlsZHJlbihfOiBUWydjaGlsZHJlbiddKSB7fVxuICAgIHB1YmxpYyBnZXQgY2hpbGRyZW4oKSB7IHJldHVybiB0aGlzLmRpY3Rpb25hcnkuY2hpbGRyZW47IH1cbiAgICBwdWJsaWMgZ2V0IHZhbHVlVHlwZSgpOiBUIHsgcmV0dXJuIHRoaXMuZGljdGlvbmFyeSBhcyBUOyB9XG4gICAgcHVibGljIGdldCBBcnJheVR5cGUoKTogVFsnQXJyYXlUeXBlJ10geyByZXR1cm4gdGhpcy5kaWN0aW9uYXJ5LkFycmF5VHlwZTsgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBEaWN0aW9uYXJ5PCR7dGhpcy5pbmRpY2VzfSwgJHt0aGlzLmRpY3Rpb25hcnl9PmA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogRGljdGlvbmFyeSkgPT4ge1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdEaWN0aW9uYXJ5JztcbiAgICB9KShEaWN0aW9uYXJ5LnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSXRlcmFibGVBcnJheUxpa2U8VCA9IGFueT4gZXh0ZW5kcyBBcnJheUxpa2U8VD4sIEl0ZXJhYmxlPFQ+IHt9XG5leHBvcnQgdHlwZSBGbG9hdEFycmF5ID0gVWludDE2QXJyYXkgfCBGbG9hdDMyQXJyYXkgfCBGbG9hdDY0QXJyYXk7XG5leHBvcnQgdHlwZSBJbnRBcnJheSA9IEludDhBcnJheSB8IEludDE2QXJyYXkgfCBJbnQzMkFycmF5IHwgVWludDhBcnJheSB8IFVpbnQxNkFycmF5IHwgVWludDMyQXJyYXk7XG4iXX0=
