"use strict";
// Licensed to the Apache Software Foundation (ASF) under one
// or more contributor license agreements.  See the NOTICE file
// distributed with this work for additional information
// regarding copyright ownership.  The ASF licenses this file
// to you under the Apache License, Version 2.0 (the
// "License"); you may not use this file except in compliance
// with the License.  You may obtain a copy of the License at
//
//   http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing,
// software distributed under the License is distributed on an
// "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
// KIND, either express or implied.  See the License for the
// specific language governing permissions and limitations
// under the License.
Object.defineProperty(exports, "__esModule", { value: true });
const enum_1 = require("./enum");
class DataType {
    constructor(_TType = enum_1.Type.NONE, _children) {
        this._TType = _TType;
        this._children = _children;
    }
    /** @nocollapse */ static isNull(x) { return x && x.TType === enum_1.Type.Null; }
    /** @nocollapse */ static isInt(x) { return x && x.TType === enum_1.Type.Int; }
    /** @nocollapse */ static isFloat(x) { return x && x.TType === enum_1.Type.Float; }
    /** @nocollapse */ static isBinary(x) { return x && x.TType === enum_1.Type.Binary; }
    /** @nocollapse */ static isUtf8(x) { return x && x.TType === enum_1.Type.Utf8; }
    /** @nocollapse */ static isBool(x) { return x && x.TType === enum_1.Type.Bool; }
    /** @nocollapse */ static isDecimal(x) { return x && x.TType === enum_1.Type.Decimal; }
    /** @nocollapse */ static isDate(x) { return x && x.TType === enum_1.Type.Date; }
    /** @nocollapse */ static isTime(x) { return x && x.TType === enum_1.Type.Time; }
    /** @nocollapse */ static isTimestamp(x) { return x && x.TType === enum_1.Type.Timestamp; }
    /** @nocollapse */ static isInterval(x) { return x && x.TType === enum_1.Type.Interval; }
    /** @nocollapse */ static isList(x) { return x && x.TType === enum_1.Type.List; }
    /** @nocollapse */ static isStruct(x) { return x && x.TType === enum_1.Type.Struct; }
    /** @nocollapse */ static isUnion(x) { return x && x.TType === enum_1.Type.Union; }
    /** @nocollapse */ static isFixedSizeBinary(x) { return x && x.TType === enum_1.Type.FixedSizeBinary; }
    /** @nocollapse */ static isFixedSizeList(x) { return x && x.TType === enum_1.Type.FixedSizeList; }
    /** @nocollapse */ static isMap(x) { return x && x.TType === enum_1.Type.Map; }
    /** @nocollapse */ static isDictionary(x) { return x && x.TType === enum_1.Type.Dictionary; }
    get TType() { return this._TType; }
    get children() { return this._children; }
}
DataType[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Array;
    return proto[Symbol.toStringTag] = 'DataType';
})(DataType.prototype);
exports.DataType = DataType;
class Null extends DataType {
    constructor() {
        super(enum_1.Type.Null);
    }
    toString() { return `Null`; }
}
Null[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Null';
})(Null.prototype);
exports.Null = Null;
class Int_ extends DataType {
    constructor(_isSigned, _bitWidth) {
        super(enum_1.Type.Int);
        this._isSigned = _isSigned;
        this._bitWidth = _bitWidth;
    }
    get isSigned() { return this._isSigned; }
    get bitWidth() { return this._bitWidth; }
    get ArrayType() {
        switch (this._bitWidth) {
            case 8: return (this._isSigned ? Int8Array : Uint8Array);
            case 16: return (this._isSigned ? Int16Array : Uint16Array);
            case 32: return (this._isSigned ? Int32Array : Uint32Array);
            case 64: return (this._isSigned ? Int32Array : Uint32Array);
        }
        throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`);
    }
    toString() { return `${this._isSigned ? `I` : `Ui`}nt${this._bitWidth}`; }
}
Int_[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Int';
})(Int_.prototype);
exports.Int = Int_;
class Int8 extends Int_ {
    constructor() { super(true, 8); }
}
exports.Int8 = Int8;
class Int16 extends Int_ {
    constructor() { super(true, 16); }
}
exports.Int16 = Int16;
class Int32 extends Int_ {
    constructor() { super(true, 32); }
}
exports.Int32 = Int32;
class Int64 extends Int_ {
    constructor() { super(true, 64); }
}
exports.Int64 = Int64;
class Uint8 extends Int_ {
    constructor() { super(false, 8); }
}
exports.Uint8 = Uint8;
class Uint16 extends Int_ {
    constructor() { super(false, 16); }
}
exports.Uint16 = Uint16;
class Uint32 extends Int_ {
    constructor() { super(false, 32); }
}
exports.Uint32 = Uint32;
class Uint64 extends Int_ {
    constructor() { super(false, 64); }
}
exports.Uint64 = Uint64;
class Float extends DataType {
    constructor(_precision) {
        super(enum_1.Type.Float);
        this._precision = _precision;
    }
    get precision() { return this._precision; }
    // @ts-ignore
    get ArrayType() {
        switch (this.precision) {
            case enum_1.Precision.HALF: return Uint16Array;
            case enum_1.Precision.SINGLE: return Float32Array;
            case enum_1.Precision.DOUBLE: return Float64Array;
        }
        throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`);
    }
    toString() { return `Float${(this.precision << 5) || 16}`; }
}
Float[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Float';
})(Float.prototype);
exports.Float = Float;
class Float16 extends Float {
    constructor() { super(enum_1.Precision.HALF); }
}
exports.Float16 = Float16;
class Float32 extends Float {
    constructor() { super(enum_1.Precision.SINGLE); }
}
exports.Float32 = Float32;
class Float64 extends Float {
    constructor() { super(enum_1.Precision.DOUBLE); }
}
exports.Float64 = Float64;
class Binary extends DataType {
    constructor() {
        super(enum_1.Type.Binary);
    }
    toString() { return `Binary`; }
}
Binary[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'Binary';
})(Binary.prototype);
exports.Binary = Binary;
class Utf8 extends DataType {
    constructor() {
        super(enum_1.Type.Utf8);
    }
    toString() { return `Utf8`; }
}
Utf8[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'Utf8';
})(Utf8.prototype);
exports.Utf8 = Utf8;
class Bool extends DataType {
    constructor() {
        super(enum_1.Type.Bool);
    }
    toString() { return `Bool`; }
}
Bool[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'Bool';
})(Bool.prototype);
exports.Bool = Bool;
class Decimal extends DataType {
    constructor(_scale, _precision) {
        super(enum_1.Type.Decimal);
        this._scale = _scale;
        this._precision = _precision;
    }
    get scale() { return this._scale; }
    get precision() { return this._precision; }
    toString() { return `Decimal[${this._precision}e${this._scale > 0 ? `+` : ``}${this._scale}]`; }
}
Decimal[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint32Array;
    return proto[Symbol.toStringTag] = 'Decimal';
})(Decimal.prototype);
exports.Decimal = Decimal;
class Date_ extends DataType {
    constructor(_unit) {
        super(enum_1.Type.Date);
        this._unit = _unit;
    }
    get unit() { return this._unit; }
    toString() { return `Date${(this._unit + 1) * 32}<${enum_1.DateUnit[this._unit]}>`; }
}
Date_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int32Array;
    return proto[Symbol.toStringTag] = 'Date';
})(Date_.prototype);
exports.Date_ = Date_;
class DateDay extends Date_ {
    constructor() { super(enum_1.DateUnit.DAY); }
}
exports.DateDay = DateDay;
class DateMillisecond extends Date_ {
    constructor() { super(enum_1.DateUnit.MILLISECOND); }
}
exports.DateMillisecond = DateMillisecond;
class Time_ extends DataType {
    constructor(_unit, _bitWidth) {
        super(enum_1.Type.Time);
        this._unit = _unit;
        this._bitWidth = _bitWidth;
    }
    get unit() { return this._unit; }
    get bitWidth() { return this._bitWidth; }
    toString() { return `Time${this._bitWidth}<${enum_1.TimeUnit[this._unit]}>`; }
}
Time_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint32Array;
    return proto[Symbol.toStringTag] = 'Time';
})(Time_.prototype);
exports.Time = Time_;
class TimeSecond extends Time_ {
    constructor(bitWidth) { super(enum_1.TimeUnit.SECOND, bitWidth); }
}
exports.TimeSecond = TimeSecond;
class TimeMillisecond extends Time_ {
    constructor(bitWidth) { super(enum_1.TimeUnit.MILLISECOND, bitWidth); }
}
exports.TimeMillisecond = TimeMillisecond;
class TimeMicrosecond extends Time_ {
    constructor(bitWidth) { super(enum_1.TimeUnit.MICROSECOND, bitWidth); }
}
exports.TimeMicrosecond = TimeMicrosecond;
class TimeNanosecond extends Time_ {
    constructor(bitWidth) { super(enum_1.TimeUnit.NANOSECOND, bitWidth); }
}
exports.TimeNanosecond = TimeNanosecond;
class Timestamp_ extends DataType {
    constructor(_unit, _timezone) {
        super(enum_1.Type.Timestamp);
        this._unit = _unit;
        this._timezone = _timezone;
    }
    get unit() { return this._unit; }
    get timezone() { return this._timezone; }
    toString() { return `Timestamp<${enum_1.TimeUnit[this._unit]}${this._timezone ? `, ${this._timezone}` : ``}>`; }
}
Timestamp_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int32Array;
    return proto[Symbol.toStringTag] = 'Timestamp';
})(Timestamp_.prototype);
exports.Timestamp = Timestamp_;
class TimestampSecond extends Timestamp_ {
    constructor(timezone) { super(enum_1.TimeUnit.SECOND, timezone); }
}
exports.TimestampSecond = TimestampSecond;
class TimestampMillisecond extends Timestamp_ {
    constructor(timezone) { super(enum_1.TimeUnit.MILLISECOND, timezone); }
}
exports.TimestampMillisecond = TimestampMillisecond;
class TimestampMicrosecond extends Timestamp_ {
    constructor(timezone) { super(enum_1.TimeUnit.MICROSECOND, timezone); }
}
exports.TimestampMicrosecond = TimestampMicrosecond;
class TimestampNanosecond extends Timestamp_ {
    constructor(timezone) { super(enum_1.TimeUnit.NANOSECOND, timezone); }
}
exports.TimestampNanosecond = TimestampNanosecond;
class Interval_ extends DataType {
    constructor(_unit) {
        super(enum_1.Type.Interval);
        this._unit = _unit;
    }
    get unit() { return this._unit; }
    toString() { return `Interval<${enum_1.IntervalUnit[this._unit]}>`; }
}
Interval_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int32Array;
    return proto[Symbol.toStringTag] = 'Interval';
})(Interval_.prototype);
exports.Interval = Interval_;
class IntervalDayTime extends Interval_ {
    constructor() { super(enum_1.IntervalUnit.DAY_TIME); }
}
exports.IntervalDayTime = IntervalDayTime;
class IntervalYearMonth extends Interval_ {
    constructor() { super(enum_1.IntervalUnit.YEAR_MONTH); }
}
exports.IntervalYearMonth = IntervalYearMonth;
class List extends DataType {
    constructor(_children) {
        super(enum_1.Type.List, _children);
        this._children = _children;
    }
    toString() { return `List<${this.valueType}>`; }
    get children() { return this._children; }
    get valueType() { return this._children[0].type; }
    get valueField() { return this._children[0]; }
    get ArrayType() { return this.valueType.ArrayType; }
}
List[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'List';
})(List.prototype);
exports.List = List;
class Struct extends DataType {
    constructor(_children) {
        super(enum_1.Type.Struct, _children);
        this._children = _children;
    }
    get children() { return this._children; }
    toString() { return `Struct<${this._children.map((f) => f.type).join(`, `)}>`; }
}
Struct[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Struct';
})(Struct.prototype);
exports.Struct = Struct;
class Union_ extends DataType {
    constructor(_mode, _typeIds, _children) {
        super(enum_1.Type.Union, _children);
        this._mode = _mode;
        this._typeIds = _typeIds;
        this._children = _children;
        this._typeIdToChildIndex = (_typeIds || []).reduce((typeIdToChildIndex, typeId, idx) => {
            return (typeIdToChildIndex[typeId] = idx) && typeIdToChildIndex || typeIdToChildIndex;
        }, Object.create(null));
    }
    get mode() { return this._mode; }
    get typeIds() { return this._typeIds; }
    get children() { return this._children; }
    get typeIdToChildIndex() { return this._typeIdToChildIndex; }
    toString() {
        return `${this[Symbol.toStringTag]}<${this._children.map((x) => `${x.type}`).join(` | `)}>`;
    }
}
Union_[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Int8Array;
    return proto[Symbol.toStringTag] = 'Union';
})(Union_.prototype);
exports.Union = Union_;
class DenseUnion extends Union_ {
    constructor(typeIds, children) {
        super(enum_1.UnionMode.Dense, typeIds, children);
    }
}
exports.DenseUnion = DenseUnion;
class SparseUnion extends Union_ {
    constructor(typeIds, children) {
        super(enum_1.UnionMode.Sparse, typeIds, children);
    }
}
exports.SparseUnion = SparseUnion;
class FixedSizeBinary extends DataType {
    constructor(_byteWidth) {
        super(enum_1.Type.FixedSizeBinary);
        this._byteWidth = _byteWidth;
    }
    get byteWidth() { return this._byteWidth; }
    toString() { return `FixedSizeBinary[${this.byteWidth}]`; }
}
FixedSizeBinary[Symbol.toStringTag] = ((proto) => {
    proto.ArrayType = Uint8Array;
    return proto[Symbol.toStringTag] = 'FixedSizeBinary';
})(FixedSizeBinary.prototype);
exports.FixedSizeBinary = FixedSizeBinary;
class FixedSizeList extends DataType {
    constructor(_listSize, _children) {
        super(enum_1.Type.FixedSizeList, _children);
        this._listSize = _listSize;
        this._children = _children;
    }
    get listSize() { return this._listSize; }
    get children() { return this._children; }
    get valueType() { return this.children[0].type; }
    get valueField() { return this.children[0]; }
    get ArrayType() { return this.valueType.ArrayType; }
    toString() { return `FixedSizeList[${this._listSize}]<${this.valueType}>`; }
}
FixedSizeList[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'FixedSizeList';
})(FixedSizeList.prototype);
exports.FixedSizeList = FixedSizeList;
class Map_ extends DataType {
    constructor(_children, _keysSorted = false) {
        super(enum_1.Type.Map, _children);
        this._children = _children;
        this._keysSorted = _keysSorted;
    }
    get children() { return this._children; }
    get keysSorted() { return this._keysSorted; }
    toString() { return `Map<${this.children.join(`, `)}>`; }
}
Map_[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Map_';
})(Map_.prototype);
exports.Map_ = Map_;
const getId = ((atomicDictionaryId) => () => ++atomicDictionaryId)(-1);
class Dictionary extends DataType {
    constructor(dictionary, indices, id, isOrdered, dictionaryVector) {
        super(enum_1.Type.Dictionary);
        this._indices = indices;
        this._dictionary = dictionary;
        this._isOrdered = isOrdered || false;
        this.dictionaryVector = dictionaryVector;
        this._id = id == null ? getId() : typeof id === 'number' ? id : id.low;
    }
    get id() { return this._id; }
    get indices() { return this._indices; }
    get dictionary() { return this._dictionary; }
    get isOrdered() { return this._isOrdered; }
    set children(_) { }
    get children() { return this.dictionary.children; }
    get valueType() { return this.dictionary; }
    get ArrayType() { return this.dictionary.ArrayType; }
    toString() { return `Dictionary<${this.indices}, ${this.dictionary}>`; }
}
Dictionary[Symbol.toStringTag] = ((proto) => {
    return proto[Symbol.toStringTag] = 'Dictionary';
})(Dictionary.prototype);
exports.Dictionary = Dictionary;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInR5cGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLDZEQUE2RDtBQUM3RCwrREFBK0Q7QUFDL0Qsd0RBQXdEO0FBQ3hELDZEQUE2RDtBQUM3RCxvREFBb0Q7QUFDcEQsNkRBQTZEO0FBQzdELDZEQUE2RDtBQUM3RCxFQUFFO0FBQ0YsK0NBQStDO0FBQy9DLEVBQUU7QUFDRiw2REFBNkQ7QUFDN0QsOERBQThEO0FBQzlELHlEQUF5RDtBQUN6RCw0REFBNEQ7QUFDNUQsMERBQTBEO0FBQzFELHFCQUFxQjs7QUFTckIsaUNBSWdCO0FBbUJoQixNQUFhLFFBQVE7SUEyQmpCLFlBQXNCLFNBQXNCLFdBQUksQ0FBQyxJQUFJLEVBQy9CLFNBQStDO1FBRC9DLFdBQU0sR0FBTixNQUFNLENBQXlCO1FBQy9CLGNBQVMsR0FBVCxTQUFTLENBQXNDO0lBQ3RELENBQUM7SUF4QmhCLGtCQUFrQixDQUFDLE1BQU0sQ0FBWSxNQUFNLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxLQUFLLFdBQUksQ0FBQyxJQUFJLENBQUMsQ0FBWSxDQUFDO0lBQzVILGtCQUFrQixDQUFDLE1BQU0sQ0FBYSxLQUFLLENBQUUsQ0FBTSxJQUEyQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxLQUFLLFdBQUksQ0FBQyxHQUFHLENBQUMsQ0FBYSxDQUFDO0lBQzdILGtCQUFrQixDQUFDLE1BQU0sQ0FBVyxPQUFPLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxLQUFLLFdBQUksQ0FBQyxLQUFLLENBQUMsQ0FBVyxDQUFDO0lBQzVILGtCQUFrQixDQUFDLE1BQU0sQ0FBVSxRQUFRLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxLQUFLLFdBQUksQ0FBQyxNQUFNLENBQUMsQ0FBVSxDQUFDO0lBQzVILGtCQUFrQixDQUFDLE1BQU0sQ0FBWSxNQUFNLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxLQUFLLFdBQUksQ0FBQyxJQUFJLENBQUMsQ0FBWSxDQUFDO0lBQzVILGtCQUFrQixDQUFDLE1BQU0sQ0FBWSxNQUFNLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxLQUFLLFdBQUksQ0FBQyxJQUFJLENBQUMsQ0FBWSxDQUFDO0lBQzVILGtCQUFrQixDQUFDLE1BQU0sQ0FBUyxTQUFTLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxLQUFLLFdBQUksQ0FBQyxPQUFPLENBQUMsQ0FBUyxDQUFDO0lBQzVILGtCQUFrQixDQUFDLE1BQU0sQ0FBWSxNQUFNLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxLQUFLLFdBQUksQ0FBQyxJQUFJLENBQUMsQ0FBWSxDQUFDO0lBQzVILGtCQUFrQixDQUFDLE1BQU0sQ0FBWSxNQUFNLENBQUUsQ0FBTSxJQUEyQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxLQUFLLFdBQUksQ0FBQyxJQUFJLENBQUMsQ0FBWSxDQUFDO0lBQzdILGtCQUFrQixDQUFDLE1BQU0sQ0FBTyxXQUFXLENBQUUsQ0FBTSxJQUEyQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxLQUFLLFdBQUksQ0FBQyxTQUFTLENBQUMsQ0FBTyxDQUFDO0lBQzdILGtCQUFrQixDQUFDLE1BQU0sQ0FBUSxVQUFVLENBQUUsQ0FBTSxJQUEyQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxLQUFLLFdBQUksQ0FBQyxRQUFRLENBQUMsQ0FBUSxDQUFDO0lBQzdILGtCQUFrQixDQUFDLE1BQU0sQ0FBWSxNQUFNLENBQUUsQ0FBTSxJQUEwQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxLQUFLLFdBQUksQ0FBQyxJQUFJLENBQUMsQ0FBWSxDQUFDO0lBQzVILGtCQUFrQixDQUFDLE1BQU0sQ0FBVSxR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QUMsQ0FBQztJQUNwQyxJQUFXLE9BQU8sS0FBSyxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0lBQzlDLElBQVcsVUFBVSxLQUFLLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7SUFDcEQsSUFBVyxTQUFTLEtBQUssT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztJQUNsRCxJQUFXLFFBQVEsQ0FBQyxDQUFnQixJQUFHLENBQUM7SUFDeEMsSUFBVyxRQUFRLEtBQUssT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7SUFDMUQsSUFBVyxTQUFTLEtBQVEsT0FBTyxJQUFJLENBQUMsVUFBZSxDQUFDLENBQUMsQ0FBQztJQUMxRCxJQUFXLFNBQVMsS0FBcUIsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7SUFDckUsUUFBUSxLQUFLLE9BQU8sY0FBYyxJQUFJLENBQUMsT0FBTyxLQUFLLElBQUksQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDLENBQUM7O0FBQzlELFdBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFpQixFQUFFLEVBQUU7SUFDM0QsT0FBTyxLQUFLLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxHQUFHLFlBQVksQ0FBQztBQUNwRCxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUM7QUExQjdCLGdDQTJCQyIsImZpbGUiOiJ0eXBlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxuLy8gb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4vLyBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuLy8gcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxuLy8gdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuLy8gXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4vLyB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4vLyBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuLy8gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbi8vIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuLy8gc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuLy8gdW5kZXIgdGhlIExpY2Vuc2UuXG5cbmltcG9ydCB7IEZpZWxkIH0gZnJvbSAnLi9zY2hlbWEnO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSAnLi92ZWN0b3InO1xuaW1wb3J0IHsgZmxhdGJ1ZmZlcnMgfSBmcm9tICdmbGF0YnVmZmVycyc7XG5pbXBvcnQgeyBWZWN0b3IgYXMgVlR5cGUgfSBmcm9tICcuL2ludGVyZmFjZXMnO1xuaW1wb3J0IHsgQXJyYXlCdWZmZXJWaWV3Q29uc3RydWN0b3IgfSBmcm9tICcuL2ludGVyZmFjZXMnO1xuXG5pbXBvcnQgTG9uZyA9IGZsYXRidWZmZXJzLkxvbmc7XG5pbXBvcnQge1xuICAgIFR5cGUsIEFycm93VHlwZSxcbiAgICBQcmVjaXNpb24sIFVuaW9uTW9kZSxcbiAgICBEYXRlVW5pdCwgVGltZVVuaXQsIEludGVydmFsVW5pdFxufSBmcm9tICcuL2VudW0nO1xuXG5leHBvcnQgdHlwZSBUaW1lQml0V2lkdGggPSAzMiB8IDY0O1xuZXhwb3J0IHR5cGUgSW50Qml0V2lkdGggPSA4IHwgMTYgfCAzMiB8IDY0O1xuZXhwb3J0IHR5cGUgSXNTaWduZWQgPSB7ICd0cnVlJzogdHJ1ZTsgJ2ZhbHNlJzogZmFsc2UgfTtcblxuZXhwb3J0IHR5cGUgUm93TGlrZTxUIGV4dGVuZHMgeyBba2V5OiBzdHJpbmddOiBEYXRhVHlwZTsgfT4gPVxuICAgICAgeyByZWFkb25seSBsZW5ndGg6IG51bWJlciB9XG4gICAgJiAoIEl0ZXJhYmxlPFRba2V5b2YgVF1bJ1RWYWx1ZSddPiApXG4gICAgJiB7IFtQIGluIGtleW9mIFRdOiBUW1BdWydUVmFsdWUnXSB9XG4gICAgJiB7IGdldDxLIGV4dGVuZHMga2V5b2YgVD4oa2V5OiBLKTogVFtLXVsnVFZhbHVlJ107IH1cbiAgICA7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGF0YVR5cGU8VFR5cGUgZXh0ZW5kcyBUeXBlID0gVHlwZT4ge1xuICAgIHJlYWRvbmx5IFRBcnJheTogYW55O1xuICAgIHJlYWRvbmx5IFRWYWx1ZTogYW55O1xuICAgIHJlYWRvbmx5IEFycmF5VHlwZTogYW55O1xufVxuXG5leHBvcnQgY2xhc3MgRGF0YVR5cGU8VFR5cGUgZXh0ZW5kcyBUeXBlID0gVHlwZSwgVENoaWxkcmVuIGV4dGVuZHMgeyBba2V5OiBzdHJpbmddOiBEYXRhVHlwZSB9ID0gYW55PiB7XG5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcHVibGljIFtTeW1ib2wudG9TdHJpbmdUYWddOiBzdHJpbmc7XG5cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICAgICAgaXNOdWxsICh4OiBhbnkpOiB4IGlzIE51bGwgICAgICAgICAgICB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuTnVsbDsgICAgICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICAgICAgICBpc0ludCAoeDogYW55KTogeCBpcyBJbnRfICAgICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5JbnQ7ICAgICAgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICAgICBpc0Zsb2F0ICh4OiBhbnkpOiB4IGlzIEZsb2F0ICAgICAgICAgICB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuRmxvYXQ7ICAgICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICAgICBpc0JpbmFyeSAoeDogYW55KTogeCBpcyBCaW5hcnkgICAgICAgICAgeyByZXR1cm4geCAmJiB4LlRUeXBlID09PSBUeXBlLkJpbmFyeTsgICAgICAgICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgICAgICBpc1V0ZjggKHg6IGFueSk6IHggaXMgVXRmOCAgICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5VdGY4OyAgICAgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICAgICAgaXNCb29sICh4OiBhbnkpOiB4IGlzIEJvb2wgICAgICAgICAgICB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuQm9vbDsgICAgICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICAgIGlzRGVjaW1hbCAoeDogYW55KTogeCBpcyBEZWNpbWFsICAgICAgICAgeyByZXR1cm4geCAmJiB4LlRUeXBlID09PSBUeXBlLkRlY2ltYWw7ICAgICAgICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgICAgICBpc0RhdGUgKHg6IGFueSk6IHggaXMgRGF0ZV8gICAgICAgICAgIHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5EYXRlOyAgICAgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICAgICAgaXNUaW1lICh4OiBhbnkpOiB4IGlzIFRpbWVfICAgICAgICAgICAgeyByZXR1cm4geCAmJiB4LlRUeXBlID09PSBUeXBlLlRpbWU7ICAgICAgICAgICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgaXNUaW1lc3RhbXAgKHg6IGFueSk6IHggaXMgVGltZXN0YW1wXyAgICAgICB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuVGltZXN0YW1wOyAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICAgaXNJbnRlcnZhbCAoeDogYW55KTogeCBpcyBJbnRlcnZhbF8gICAgICAgIHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5JbnRlcnZhbDsgICAgICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICAgICAgaXNMaXN0ICh4OiBhbnkpOiB4IGlzIExpc3QgICAgICAgICAgICB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuTGlzdDsgICAgICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgICAgICBpc1N0cnVjdCAoeDogYW55KTogeCBpcyBTdHJ1Y3QgICAgICAgICAgeyByZXR1cm4geCAmJiB4LlRUeXBlID09PSBUeXBlLlN0cnVjdDsgICAgICAgICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICAgICAgICAgIGlzVW5pb24gKHg6IGFueSk6IHggaXMgVW5pb25fICAgICAgICAgICB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuVW5pb247ICAgICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyBpc0ZpeGVkU2l6ZUJpbmFyeSAoeDogYW55KTogeCBpcyBGaXhlZFNpemVCaW5hcnkgeyByZXR1cm4geCAmJiB4LlRUeXBlID09PSBUeXBlLkZpeGVkU2l6ZUJpbmFyeTsgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqLyBzdGF0aWMgICBpc0ZpeGVkU2l6ZUxpc3QgKHg6IGFueSk6IHggaXMgRml4ZWRTaXplTGlzdCAgIHsgcmV0dXJuIHggJiYgeC5UVHlwZSA9PT0gVHlwZS5GaXhlZFNpemVMaXN0OyAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi8gc3RhdGljICAgICAgICAgICAgIGlzTWFwICh4OiBhbnkpOiB4IGlzIE1hcF8gICAgICAgICAgICB7IHJldHVybiB4ICYmIHguVFR5cGUgPT09IFR5cGUuTWFwOyAgICAgICAgICAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovIHN0YXRpYyAgICAgIGlzRGljdGlvbmFyeSAoeDogYW55KTogeCBpcyBEaWN0aW9uYXJ5ICAgICAgeyByZXR1cm4geCAmJiB4LlRUeXBlID09PSBUeXBlLkRpY3Rpb25hcnk7ICAgICAgfVxuXG4gICAgcHVibGljIGdldCBUVHlwZSgpIHsgcmV0dXJuIHRoaXMuX1RUeXBlOyB9XG4gICAgcHVibGljIGdldCBjaGlsZHJlbigpIHsgcmV0dXJuIHRoaXMuX2NoaWxkcmVuOyB9XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX1RUeXBlOiBUVHlwZSA9IDxhbnk+IFR5cGUuTk9ORSxcbiAgICAgICAgICAgICAgICBwcm90ZWN0ZWQgX2NoaWxkcmVuPzogRmllbGQ8VENoaWxkcmVuW2tleW9mIFRDaGlsZHJlbl0+W11cbiAgICAgICAgICAgICAgICApIHt9XG5cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogRGF0YVR5cGUpID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnRGF0YVR5cGUnO1xuICAgIH0pKERhdGFUeXBlLnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTnVsbCBleHRlbmRzIERhdGFUeXBlPFR5cGUuTnVsbD4geyBUQXJyYXk6IHZvaWQ7IFRWYWx1ZTogbnVsbDsgfVxuZXhwb3J0IGNsYXNzIE51bGwgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLk51bGw+IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoVHlwZS5OdWxsKTtcbiAgICB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYE51bGxgOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IE51bGwpID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnTnVsbCc7XG4gICAgfSkoTnVsbC5wcm90b3R5cGUpO1xufVxuXG50eXBlIEludHMgPSBUeXBlLkludCB8IFR5cGUuSW50OCB8IFR5cGUuSW50MTYgfCBUeXBlLkludDMyIHwgVHlwZS5JbnQ2NCB8IFR5cGUuVWludDggfCBUeXBlLlVpbnQxNiB8IFR5cGUuVWludDMyIHwgVHlwZS5VaW50NjQ7XG50eXBlIElUeXBlID0ge1xuICAgIFtUeXBlLkludCAgIF06IHsgYml0V2lkdGg6IEludEJpdFdpZHRoOyBpc1NpZ25lZDogdHJ1ZSB8IGZhbHNlOyBUQXJyYXk6IEludEFycmF5OyAgICBUVmFsdWU6IG51bWJlciB8IEludDMyQXJyYXkgfCBVaW50MzJBcnJheTsgfTtcbiAgICBbVHlwZS5JbnQ4ICBdOiB7IGJpdFdpZHRoOiAgICAgICAgICAgODsgaXNTaWduZWQ6IHRydWU7ICAgICAgICAgVEFycmF5OiBJbnQ4QXJyYXk7ICAgVFZhbHVlOiBudW1iZXI7ICAgICAgICAgICAgfTtcbiAgICBbVHlwZS5JbnQxNiBdOiB7IGJpdFdpZHRoOiAgICAgICAgICAxNjsgaXNTaWduZWQ6IHRydWU7ICAgICAgICAgVEFycmF5OiBJbnQxNkFycmF5OyAgVFZhbHVlOiBudW1iZXI7ICAgICAgICAgICAgfTtcbiAgICBbVHlwZS5JbnQzMiBdOiB7IGJpdFdpZHRoOiAgICAgICAgICAzMjsgaXNTaWduZWQ6IHRydWU7ICAgICAgICAgVEFycmF5OiBJbnQzMkFycmF5OyAgVFZhbHVlOiBudW1iZXI7ICAgICAgICAgICAgfTtcbiAgICBbVHlwZS5JbnQ2NCBdOiB7IGJpdFdpZHRoOiAgICAgICAgICA2NDsgaXNTaWduZWQ6IHRydWU7ICAgICAgICAgVEFycmF5OiBJbnQzMkFycmF5OyAgVFZhbHVlOiBJbnQzMkFycmF5OyAgICAgICAgfTtcbiAgICBbVHlwZS5VaW50OCBdOiB7IGJpdFdpZHRoOiAgICAgICAgICAgODsgaXNTaWduZWQ6IGZhbHNlOyAgICAgICAgVEFycmF5OiBVaW50OEFycmF5OyAgVFZhbHVlOiBudW1iZXI7ICAgICAgICAgICAgfTtcbiAgICBbVHlwZS5VaW50MTZdOiB7IGJpdFdpZHRoOiAgICAgICAgICAxNjsgaXNTaWduZWQ6IGZhbHNlOyAgICAgICAgVEFycmF5OiBVaW50MTZBcnJheTsgVFZhbHVlOiBudW1iZXI7ICAgICAgICAgICAgfTtcbiAgICBbVHlwZS5VaW50MzJdOiB7IGJpdFdpZHRoOiAgICAgICAgICAzMjsgaXNTaWduZWQ6IGZhbHNlOyAgICAgICAgVEFycmF5OiBVaW50MzJBcnJheTsgVFZhbHVlOiBudW1iZXI7ICAgICAgICAgICAgfTtcbiAgICBbVHlwZS5VaW50NjRdOiB7IGJpdFdpZHRoOiAgICAgICAgICA2NDsgaXNTaWduZWQ6IGZhbHNlOyAgICAgICAgVEFycmF5OiBVaW50MzJBcnJheTsgVFZhbHVlOiBVaW50MzJBcnJheTsgICAgICAgfTtcbn07XG5cbmludGVyZmFjZSBJbnRfPFQgZXh0ZW5kcyBJbnRzID0gSW50cz4gZXh0ZW5kcyBEYXRhVHlwZTxUPiB7IFRBcnJheTogSVR5cGVbVF1bJ1RBcnJheSddOyBUVmFsdWU6IElUeXBlW1RdWydUVmFsdWUnXTsgfVxuY2xhc3MgSW50XzxUIGV4dGVuZHMgSW50cyA9IEludHM+IGV4dGVuZHMgRGF0YVR5cGU8VD4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfaXNTaWduZWQ6IElUeXBlW1RdWydpc1NpZ25lZCddLFxuICAgICAgICAgICAgICAgIHByb3RlY3RlZCBfYml0V2lkdGg6IElUeXBlW1RdWydiaXRXaWR0aCddKSB7XG4gICAgICAgIHN1cGVyKFR5cGUuSW50IGFzIFQpO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IGlzU2lnbmVkKCkgeyByZXR1cm4gdGhpcy5faXNTaWduZWQ7IH1cbiAgICBwdWJsaWMgZ2V0IGJpdFdpZHRoKCkgeyByZXR1cm4gdGhpcy5fYml0V2lkdGg7IH1cbiAgICBwdWJsaWMgZ2V0IEFycmF5VHlwZSgpOiBBcnJheUJ1ZmZlclZpZXdDb25zdHJ1Y3RvcjxJVHlwZVtUXVsnVEFycmF5J10+IHtcbiAgICAgICAgc3dpdGNoICh0aGlzLl9iaXRXaWR0aCkge1xuICAgICAgICAgICAgY2FzZSAgODogcmV0dXJuICh0aGlzLl9pc1NpZ25lZCA/ICBJbnQ4QXJyYXkgOiAgVWludDhBcnJheSkgYXMgYW55O1xuICAgICAgICAgICAgY2FzZSAxNjogcmV0dXJuICh0aGlzLl9pc1NpZ25lZCA/IEludDE2QXJyYXkgOiBVaW50MTZBcnJheSkgYXMgYW55O1xuICAgICAgICAgICAgY2FzZSAzMjogcmV0dXJuICh0aGlzLl9pc1NpZ25lZCA/IEludDMyQXJyYXkgOiBVaW50MzJBcnJheSkgYXMgYW55O1xuICAgICAgICAgICAgY2FzZSA2NDogcmV0dXJuICh0aGlzLl9pc1NpZ25lZCA/IEludDMyQXJyYXkgOiBVaW50MzJBcnJheSkgYXMgYW55O1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5yZWNvZ25pemVkICR7dGhpc1tTeW1ib2wudG9TdHJpbmdUYWddfSB0eXBlYCk7XG4gICAgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGAke3RoaXMuX2lzU2lnbmVkID8gYElgIDogYFVpYH1udCR7dGhpcy5fYml0V2lkdGh9YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBJbnRfKSA9PiB7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ0ludCc7XG4gICAgfSkoSW50Xy5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgeyBJbnRfIGFzIEludCB9O1xuXG5leHBvcnQgY2xhc3MgSW50OCBleHRlbmRzIEludF88VHlwZS5JbnQ4PiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcih0cnVlLCA4KTsgfSB9XG5leHBvcnQgY2xhc3MgSW50MTYgZXh0ZW5kcyBJbnRfPFR5cGUuSW50MTY+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKHRydWUsIDE2KTsgfSB9XG5leHBvcnQgY2xhc3MgSW50MzIgZXh0ZW5kcyBJbnRfPFR5cGUuSW50MzI+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKHRydWUsIDMyKTsgfSB9XG5leHBvcnQgY2xhc3MgSW50NjQgZXh0ZW5kcyBJbnRfPFR5cGUuSW50NjQ+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKHRydWUsIDY0KTsgfSB9XG5leHBvcnQgY2xhc3MgVWludDggZXh0ZW5kcyBJbnRfPFR5cGUuVWludDg+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKGZhbHNlLCA4KTsgfSB9XG5leHBvcnQgY2xhc3MgVWludDE2IGV4dGVuZHMgSW50XzxUeXBlLlVpbnQxNj4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoZmFsc2UsIDE2KTsgfSB9XG5leHBvcnQgY2xhc3MgVWludDMyIGV4dGVuZHMgSW50XzxUeXBlLlVpbnQzMj4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoZmFsc2UsIDMyKTsgfSB9XG5leHBvcnQgY2xhc3MgVWludDY0IGV4dGVuZHMgSW50XzxUeXBlLlVpbnQ2ND4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoZmFsc2UsIDY0KTsgfSB9XG5cbnR5cGUgRmxvYXRzID0gVHlwZS5GbG9hdCB8IFR5cGUuRmxvYXQxNiB8IFR5cGUuRmxvYXQzMiB8IFR5cGUuRmxvYXQ2NDtcbnR5cGUgRlR5cGUgPSB7XG4gICAgW1R5cGUuRmxvYXQgIF06IHsgcHJlY2lzaW9uOiBQcmVjaXNpb247ICAgICAgICBUQXJyYXk6IEZsb2F0QXJyYXk7ICAgIFRWYWx1ZTogbnVtYmVyOyB9O1xuICAgIFtUeXBlLkZsb2F0MTZdOiB7IHByZWNpc2lvbjogUHJlY2lzaW9uLkhBTEY7ICAgVEFycmF5OiBVaW50MTZBcnJheTsgICBUVmFsdWU6IG51bWJlcjsgfTtcbiAgICBbVHlwZS5GbG9hdDMyXTogeyBwcmVjaXNpb246IFByZWNpc2lvbi5TSU5HTEU7IFRBcnJheTogRmxvYXQzMkFycmF5OyAgVFZhbHVlOiBudW1iZXI7IH07XG4gICAgW1R5cGUuRmxvYXQ2NF06IHsgcHJlY2lzaW9uOiBQcmVjaXNpb24uRE9VQkxFOyBUQXJyYXk6IEZsb2F0MzJBcnJheTsgIFRWYWx1ZTogbnVtYmVyOyB9O1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBGbG9hdDxUIGV4dGVuZHMgRmxvYXRzID0gRmxvYXRzPiBleHRlbmRzIERhdGFUeXBlPFQ+IHsgVEFycmF5OiBGVHlwZVtUXVsnVEFycmF5J107IFRWYWx1ZTogbnVtYmVyOyB9XG5leHBvcnQgY2xhc3MgRmxvYXQ8VCBleHRlbmRzIEZsb2F0cyA9IEZsb2F0cz4gZXh0ZW5kcyBEYXRhVHlwZTxUPiB7XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIF9wcmVjaXNpb246IFByZWNpc2lvbikge1xuICAgICAgICBzdXBlcihUeXBlLkZsb2F0IGFzIFQpO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHByZWNpc2lvbigpIHsgcmV0dXJuIHRoaXMuX3ByZWNpc2lvbjsgfVxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBwdWJsaWMgZ2V0IEFycmF5VHlwZSgpOiBBcnJheUJ1ZmZlclZpZXdDb25zdHJ1Y3RvcjxGVHlwZVtUXVsnVEFycmF5J10+IHtcbiAgICAgICAgc3dpdGNoICh0aGlzLnByZWNpc2lvbikge1xuICAgICAgICAgICAgY2FzZSBQcmVjaXNpb24uSEFMRjogcmV0dXJuIFVpbnQxNkFycmF5IGFzIGFueTtcbiAgICAgICAgICAgIGNhc2UgUHJlY2lzaW9uLlNJTkdMRTogcmV0dXJuIEZsb2F0MzJBcnJheSBhcyBhbnk7XG4gICAgICAgICAgICBjYXNlIFByZWNpc2lvbi5ET1VCTEU6IHJldHVybiBGbG9hdDY0QXJyYXkgYXMgYW55O1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5yZWNvZ25pemVkICR7dGhpc1tTeW1ib2wudG9TdHJpbmdUYWddfSB0eXBlYCk7XG4gICAgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBGbG9hdCR7KHRoaXMucHJlY2lzaW9uIDw8IDUpIHx8IDE2fWA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogRmxvYXQpID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnRmxvYXQnO1xuICAgIH0pKEZsb2F0LnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCBjbGFzcyBGbG9hdDE2IGV4dGVuZHMgRmxvYXQ8VHlwZS5GbG9hdDE2PiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihQcmVjaXNpb24uSEFMRik7IH0gfVxuZXhwb3J0IGNsYXNzIEZsb2F0MzIgZXh0ZW5kcyBGbG9hdDxUeXBlLkZsb2F0MzI+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKFByZWNpc2lvbi5TSU5HTEUpOyB9IH1cbmV4cG9ydCBjbGFzcyBGbG9hdDY0IGV4dGVuZHMgRmxvYXQ8VHlwZS5GbG9hdDY0PiB7IGNvbnN0cnVjdG9yKCkgeyBzdXBlcihQcmVjaXNpb24uRE9VQkxFKTsgfSB9XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmluYXJ5IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5CaW5hcnk+IHsgVEFycmF5OiBVaW50OEFycmF5OyBUVmFsdWU6IFVpbnQ4QXJyYXk7IH1cbmV4cG9ydCBjbGFzcyBCaW5hcnkgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkJpbmFyeT4ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihUeXBlLkJpbmFyeSk7XG4gICAgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBCaW5hcnlgOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IEJpbmFyeSkgPT4ge1xuICAgICAgICAoPGFueT4gcHJvdG8pLkFycmF5VHlwZSA9IFVpbnQ4QXJyYXk7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ0JpbmFyeSc7XG4gICAgfSkoQmluYXJ5LnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXRmOCBleHRlbmRzIERhdGFUeXBlPFR5cGUuVXRmOD4geyBUQXJyYXk6IFVpbnQ4QXJyYXk7IFRWYWx1ZTogc3RyaW5nOyBBcnJheVR5cGU6IHR5cGVvZiBVaW50OEFycmF5OyB9XG5leHBvcnQgY2xhc3MgVXRmOCBleHRlbmRzIERhdGFUeXBlPFR5cGUuVXRmOD4ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihUeXBlLlV0ZjgpO1xuICAgIH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgVXRmOGA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogVXRmOCkgPT4ge1xuICAgICAgICAoPGFueT4gcHJvdG8pLkFycmF5VHlwZSA9IFVpbnQ4QXJyYXk7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ1V0ZjgnO1xuICAgIH0pKFV0ZjgucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCb29sIGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5Cb29sPiB7IFRBcnJheTogVWludDhBcnJheTsgVFZhbHVlOiBib29sZWFuOyBBcnJheVR5cGU6IHR5cGVvZiBVaW50OEFycmF5OyB9XG5leHBvcnQgY2xhc3MgQm9vbCBleHRlbmRzIERhdGFUeXBlPFR5cGUuQm9vbD4ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihUeXBlLkJvb2wpO1xuICAgIH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgQm9vbGA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogQm9vbCkgPT4ge1xuICAgICAgICAoPGFueT4gcHJvdG8pLkFycmF5VHlwZSA9IFVpbnQ4QXJyYXk7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ0Jvb2wnO1xuICAgIH0pKEJvb2wucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEZWNpbWFsIGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5EZWNpbWFsPiB7IFRBcnJheTogVWludDMyQXJyYXk7IFRWYWx1ZTogVWludDMyQXJyYXk7IEFycmF5VHlwZTogdHlwZW9mIFVpbnQzMkFycmF5OyB9XG5leHBvcnQgY2xhc3MgRGVjaW1hbCBleHRlbmRzIERhdGFUeXBlPFR5cGUuRGVjaW1hbD4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfc2NhbGU6IG51bWJlcixcbiAgICAgICAgICAgICAgICBwcm90ZWN0ZWQgX3ByZWNpc2lvbjogbnVtYmVyKSB7XG4gICAgICAgIHN1cGVyKFR5cGUuRGVjaW1hbCk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgc2NhbGUoKSB7IHJldHVybiB0aGlzLl9zY2FsZTsgfVxuICAgIHB1YmxpYyBnZXQgcHJlY2lzaW9uKCkgeyByZXR1cm4gdGhpcy5fcHJlY2lzaW9uOyB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYERlY2ltYWxbJHt0aGlzLl9wcmVjaXNpb259ZSR7dGhpcy5fc2NhbGUgPiAwID8gYCtgIDogYGB9JHt0aGlzLl9zY2FsZX1dYDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBEZWNpbWFsKSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gVWludDMyQXJyYXk7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ0RlY2ltYWwnO1xuICAgIH0pKERlY2ltYWwucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IHR5cGUgRGF0ZXMgPSBUeXBlLkRhdGUgfCBUeXBlLkRhdGVEYXkgfCBUeXBlLkRhdGVNaWxsaXNlY29uZDtcbi8qIHRzbGludDpkaXNhYmxlOmNsYXNzLW5hbWUgKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGF0ZV88VCBleHRlbmRzIERhdGVzID0gRGF0ZXM+IGV4dGVuZHMgRGF0YVR5cGU8VD4geyBUQXJyYXk6IEludDMyQXJyYXk7IFRWYWx1ZTogRGF0ZTsgQXJyYXlUeXBlOiB0eXBlb2YgSW50MzJBcnJheTsgfVxuZXhwb3J0IGNsYXNzIERhdGVfPFQgZXh0ZW5kcyBEYXRlcyA9IERhdGVzPiBleHRlbmRzIERhdGFUeXBlPFQ+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX3VuaXQ6IERhdGVVbml0KSB7XG4gICAgICAgIHN1cGVyKFR5cGUuRGF0ZSBhcyBUKTtcbiAgICB9XG4gICAgcHVibGljIGdldCB1bml0KCkgeyByZXR1cm4gdGhpcy5fdW5pdDsgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBEYXRlJHsodGhpcy5fdW5pdCArIDEpICogMzJ9PCR7RGF0ZVVuaXRbdGhpcy5fdW5pdF19PmA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogRGF0ZV8pID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBJbnQzMkFycmF5O1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdEYXRlJztcbiAgICB9KShEYXRlXy5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgY2xhc3MgRGF0ZURheSBleHRlbmRzIERhdGVfPFR5cGUuRGF0ZURheT4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoRGF0ZVVuaXQuREFZKTsgfSB9XG5leHBvcnQgY2xhc3MgRGF0ZU1pbGxpc2Vjb25kIGV4dGVuZHMgRGF0ZV88VHlwZS5EYXRlTWlsbGlzZWNvbmQ+IHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKERhdGVVbml0Lk1JTExJU0VDT05EKTsgfSB9XG5cbnR5cGUgVGltZXMgPSBUeXBlLlRpbWUgfCBUeXBlLlRpbWVTZWNvbmQgfCBUeXBlLlRpbWVNaWxsaXNlY29uZCB8IFR5cGUuVGltZU1pY3Jvc2Vjb25kIHwgVHlwZS5UaW1lTmFub3NlY29uZDtcbnR5cGUgVGltZXNUeXBlID0ge1xuICAgIFtUeXBlLlRpbWUgICAgICAgICAgIF06IHsgdW5pdDogVGltZVVuaXQ7ICAgICAgICAgICAgIFRWYWx1ZTogbnVtYmVyIHwgVWludDMyQXJyYXkgfTtcbiAgICBbVHlwZS5UaW1lU2Vjb25kICAgICBdOiB7IHVuaXQ6IFRpbWVVbml0LlNFQ09ORDsgICAgICBUVmFsdWU6IG51bWJlcjsgICAgICAgICAgICAgIH07XG4gICAgW1R5cGUuVGltZU1pbGxpc2Vjb25kXTogeyB1bml0OiBUaW1lVW5pdC5NSUxMSVNFQ09ORDsgVFZhbHVlOiBudW1iZXI7ICAgICAgICAgICAgICB9O1xuICAgIFtUeXBlLlRpbWVNaWNyb3NlY29uZF06IHsgdW5pdDogVGltZVVuaXQuTUlDUk9TRUNPTkQ7IFRWYWx1ZTogVWludDMyQXJyYXk7ICAgICAgICAgfTtcbiAgICBbVHlwZS5UaW1lTmFub3NlY29uZCBdOiB7IHVuaXQ6IFRpbWVVbml0Lk5BTk9TRUNPTkQ7ICBUVmFsdWU6IFVpbnQzMkFycmF5OyAgICAgICAgIH07XG59O1xuXG5pbnRlcmZhY2UgVGltZV88VCBleHRlbmRzIFRpbWVzID0gVGltZXM+IGV4dGVuZHMgRGF0YVR5cGU8VD4geyBUQXJyYXk6IFVpbnQzMkFycmF5OyBUVmFsdWU6IFRpbWVzVHlwZVtUXVsnVFZhbHVlJ107IEFycmF5VHlwZTogdHlwZW9mIFVpbnQzMkFycmF5OyB9XG5jbGFzcyBUaW1lXzxUIGV4dGVuZHMgVGltZXMgPSBUaW1lcz4gZXh0ZW5kcyBEYXRhVHlwZTxUPiB7XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIF91bml0OiBUaW1lc1R5cGVbVF1bJ3VuaXQnXSxcbiAgICAgICAgICAgICAgICBwcm90ZWN0ZWQgX2JpdFdpZHRoOiBUaW1lQml0V2lkdGgpIHtcbiAgICAgICAgc3VwZXIoVHlwZS5UaW1lIGFzIFQpO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHVuaXQoKSB7IHJldHVybiB0aGlzLl91bml0OyB9XG4gICAgcHVibGljIGdldCBiaXRXaWR0aCgpIHsgcmV0dXJuIHRoaXMuX2JpdFdpZHRoOyB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYFRpbWUke3RoaXMuX2JpdFdpZHRofTwke1RpbWVVbml0W3RoaXMuX3VuaXRdfT5gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IFRpbWVfKSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gVWludDMyQXJyYXk7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ1RpbWUnO1xuICAgIH0pKFRpbWVfLnByb3RvdHlwZSk7XG59XG5cbmV4cG9ydCB7IFRpbWVfIGFzIFRpbWUgfTtcblxuZXhwb3J0IGNsYXNzIFRpbWVTZWNvbmQgZXh0ZW5kcyBUaW1lXzxUeXBlLlRpbWVTZWNvbmQ+IHsgY29uc3RydWN0b3IoYml0V2lkdGg6IFRpbWVCaXRXaWR0aCkgeyBzdXBlcihUaW1lVW5pdC5TRUNPTkQsIGJpdFdpZHRoKTsgfSB9XG5leHBvcnQgY2xhc3MgVGltZU1pbGxpc2Vjb25kIGV4dGVuZHMgVGltZV88VHlwZS5UaW1lTWlsbGlzZWNvbmQ+IHsgY29uc3RydWN0b3IoYml0V2lkdGg6IFRpbWVCaXRXaWR0aCkgeyBzdXBlcihUaW1lVW5pdC5NSUxMSVNFQ09ORCwgYml0V2lkdGgpOyB9IH1cbmV4cG9ydCBjbGFzcyBUaW1lTWljcm9zZWNvbmQgZXh0ZW5kcyBUaW1lXzxUeXBlLlRpbWVNaWNyb3NlY29uZD4geyBjb25zdHJ1Y3RvcihiaXRXaWR0aDogVGltZUJpdFdpZHRoKSB7IHN1cGVyKFRpbWVVbml0Lk1JQ1JPU0VDT05ELCBiaXRXaWR0aCk7IH0gfVxuZXhwb3J0IGNsYXNzIFRpbWVOYW5vc2Vjb25kIGV4dGVuZHMgVGltZV88VHlwZS5UaW1lTmFub3NlY29uZD4geyBjb25zdHJ1Y3RvcihiaXRXaWR0aDogVGltZUJpdFdpZHRoKSB7IHN1cGVyKFRpbWVVbml0Lk5BTk9TRUNPTkQsIGJpdFdpZHRoKTsgfSB9XG5cbnR5cGUgVGltZXN0YW1wcyA9IFR5cGUuVGltZXN0YW1wIHwgVHlwZS5UaW1lc3RhbXBTZWNvbmQgfCBUeXBlLlRpbWVzdGFtcE1pbGxpc2Vjb25kIHwgVHlwZS5UaW1lc3RhbXBNaWNyb3NlY29uZCB8IFR5cGUuVGltZXN0YW1wTmFub3NlY29uZDtcbmludGVyZmFjZSBUaW1lc3RhbXBfPFQgZXh0ZW5kcyBUaW1lc3RhbXBzID0gVGltZXN0YW1wcz4gZXh0ZW5kcyBEYXRhVHlwZTxUPiB7IFRBcnJheTogSW50MzJBcnJheTsgVFZhbHVlOiBudW1iZXI7IEFycmF5VHlwZTogdHlwZW9mIEludDMyQXJyYXk7IH1cbmNsYXNzIFRpbWVzdGFtcF88VCBleHRlbmRzIFRpbWVzdGFtcHMgPSBUaW1lc3RhbXBzPiBleHRlbmRzIERhdGFUeXBlPFQ+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX3VuaXQ6IFRpbWVVbml0LCBwcm90ZWN0ZWQgX3RpbWV6b25lPzogc3RyaW5nIHwgbnVsbCkge1xuICAgICAgICBzdXBlcihUeXBlLlRpbWVzdGFtcCBhcyBUKTtcbiAgICB9XG4gICAgcHVibGljIGdldCB1bml0KCkgeyByZXR1cm4gdGhpcy5fdW5pdDsgfVxuICAgIHB1YmxpYyBnZXQgdGltZXpvbmUoKSB7IHJldHVybiB0aGlzLl90aW1lem9uZTsgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBUaW1lc3RhbXA8JHtUaW1lVW5pdFt0aGlzLl91bml0XX0ke3RoaXMuX3RpbWV6b25lID8gYCwgJHt0aGlzLl90aW1lem9uZX1gIDogYGB9PmA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogVGltZXN0YW1wXykgPT4ge1xuICAgICAgICAoPGFueT4gcHJvdG8pLkFycmF5VHlwZSA9IEludDMyQXJyYXk7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ1RpbWVzdGFtcCc7XG4gICAgfSkoVGltZXN0YW1wXy5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgeyBUaW1lc3RhbXBfIGFzIFRpbWVzdGFtcCB9O1xuXG5leHBvcnQgY2xhc3MgVGltZXN0YW1wU2Vjb25kIGV4dGVuZHMgVGltZXN0YW1wXzxUeXBlLlRpbWVzdGFtcFNlY29uZD4geyBjb25zdHJ1Y3Rvcih0aW1lem9uZT86IHN0cmluZyB8IG51bGwpIHsgc3VwZXIoVGltZVVuaXQuU0VDT05ELCB0aW1lem9uZSk7IH0gfVxuZXhwb3J0IGNsYXNzIFRpbWVzdGFtcE1pbGxpc2Vjb25kIGV4dGVuZHMgVGltZXN0YW1wXzxUeXBlLlRpbWVzdGFtcE1pbGxpc2Vjb25kPiB7IGNvbnN0cnVjdG9yKHRpbWV6b25lPzogc3RyaW5nIHwgbnVsbCkgeyBzdXBlcihUaW1lVW5pdC5NSUxMSVNFQ09ORCwgdGltZXpvbmUpOyB9IH1cbmV4cG9ydCBjbGFzcyBUaW1lc3RhbXBNaWNyb3NlY29uZCBleHRlbmRzIFRpbWVzdGFtcF88VHlwZS5UaW1lc3RhbXBNaWNyb3NlY29uZD4geyBjb25zdHJ1Y3Rvcih0aW1lem9uZT86IHN0cmluZyB8IG51bGwpIHsgc3VwZXIoVGltZVVuaXQuTUlDUk9TRUNPTkQsIHRpbWV6b25lKTsgfSB9XG5leHBvcnQgY2xhc3MgVGltZXN0YW1wTmFub3NlY29uZCBleHRlbmRzIFRpbWVzdGFtcF88VHlwZS5UaW1lc3RhbXBOYW5vc2Vjb25kPiB7IGNvbnN0cnVjdG9yKHRpbWV6b25lPzogc3RyaW5nIHwgbnVsbCkgeyBzdXBlcihUaW1lVW5pdC5OQU5PU0VDT05ELCB0aW1lem9uZSk7IH0gfVxuXG50eXBlIEludGVydmFscyA9IFR5cGUuSW50ZXJ2YWwgfCBUeXBlLkludGVydmFsRGF5VGltZSB8IFR5cGUuSW50ZXJ2YWxZZWFyTW9udGg7XG5pbnRlcmZhY2UgSW50ZXJ2YWxfPFQgZXh0ZW5kcyBJbnRlcnZhbHMgPSBJbnRlcnZhbHM+IGV4dGVuZHMgRGF0YVR5cGU8VD4geyBUQXJyYXk6IEludDMyQXJyYXk7IFRWYWx1ZTogSW50MzJBcnJheTsgQXJyYXlUeXBlOiB0eXBlb2YgSW50MzJBcnJheTsgfVxuY2xhc3MgSW50ZXJ2YWxfPFQgZXh0ZW5kcyBJbnRlcnZhbHMgPSBJbnRlcnZhbHM+IGV4dGVuZHMgRGF0YVR5cGU8VD4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfdW5pdDogSW50ZXJ2YWxVbml0KSB7XG4gICAgICAgIHN1cGVyKFR5cGUuSW50ZXJ2YWwgYXMgVCk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgdW5pdCgpIHsgcmV0dXJuIHRoaXMuX3VuaXQ7IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgSW50ZXJ2YWw8JHtJbnRlcnZhbFVuaXRbdGhpcy5fdW5pdF19PmA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogSW50ZXJ2YWxfKSA9PiB7XG4gICAgICAgICg8YW55PiBwcm90bykuQXJyYXlUeXBlID0gSW50MzJBcnJheTtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnSW50ZXJ2YWwnO1xuICAgIH0pKEludGVydmFsXy5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgeyBJbnRlcnZhbF8gYXMgSW50ZXJ2YWwgfTtcblxuZXhwb3J0IGNsYXNzIEludGVydmFsRGF5VGltZSBleHRlbmRzIEludGVydmFsXzxUeXBlLkludGVydmFsRGF5VGltZT4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoSW50ZXJ2YWxVbml0LkRBWV9USU1FKTsgfSB9XG5leHBvcnQgY2xhc3MgSW50ZXJ2YWxZZWFyTW9udGggZXh0ZW5kcyBJbnRlcnZhbF88VHlwZS5JbnRlcnZhbFllYXJNb250aD4geyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoSW50ZXJ2YWxVbml0LllFQVJfTU9OVEgpOyB9IH1cblxuZXhwb3J0IGludGVyZmFjZSBMaXN0PFQgZXh0ZW5kcyBEYXRhVHlwZSA9IGFueT4gZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkxpc3Q+ICB7IFRBcnJheTogSXRlcmFibGVBcnJheUxpa2U8VD47IFRWYWx1ZTogVlR5cGU8VD47IH1cbmV4cG9ydCBjbGFzcyBMaXN0PFQgZXh0ZW5kcyBEYXRhVHlwZSA9IGFueT4gZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkxpc3QsIHsgWzBdOiBUIH0+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX2NoaWxkcmVuOiBGaWVsZDxUPltdKSB7XG4gICAgICAgIHN1cGVyKFR5cGUuTGlzdCwgX2NoaWxkcmVuKTtcbiAgICB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYExpc3Q8JHt0aGlzLnZhbHVlVHlwZX0+YDsgfVxuICAgIHB1YmxpYyBnZXQgY2hpbGRyZW4oKSB7IHJldHVybiB0aGlzLl9jaGlsZHJlbjsgfVxuICAgIHB1YmxpYyBnZXQgdmFsdWVUeXBlKCk6IFQgeyByZXR1cm4gdGhpcy5fY2hpbGRyZW5bMF0udHlwZSBhcyBUOyB9XG4gICAgcHVibGljIGdldCB2YWx1ZUZpZWxkKCk6IEZpZWxkPFQ+IHsgcmV0dXJuIHRoaXMuX2NoaWxkcmVuWzBdIGFzIEZpZWxkPFQ+OyB9XG4gICAgcHVibGljIGdldCBBcnJheVR5cGUoKTogVFsnQXJyYXlUeXBlJ10geyByZXR1cm4gdGhpcy52YWx1ZVR5cGUuQXJyYXlUeXBlOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IExpc3QpID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnTGlzdCc7XG4gICAgfSkoTGlzdC5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cnVjdDxUIGV4dGVuZHMgeyBba2V5OiBzdHJpbmddOiBEYXRhVHlwZTsgfSA9IGFueT4gZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLlN0cnVjdD4geyBUQXJyYXk6IEl0ZXJhYmxlQXJyYXlMaWtlPFJvd0xpa2U8VD4+OyBUVmFsdWU6IFJvd0xpa2U8VD47IGRhdGFUeXBlczogVDsgfVxuZXhwb3J0IGNsYXNzIFN0cnVjdDxUIGV4dGVuZHMgeyBba2V5OiBzdHJpbmddOiBEYXRhVHlwZTsgfSA9IGFueT4gZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLlN0cnVjdCwgVD4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfY2hpbGRyZW46IEZpZWxkPFRba2V5b2YgVF0+W10pIHtcbiAgICAgICAgc3VwZXIoVHlwZS5TdHJ1Y3QsIF9jaGlsZHJlbik7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgY2hpbGRyZW4oKSB7IHJldHVybiB0aGlzLl9jaGlsZHJlbjsgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBTdHJ1Y3Q8JHt0aGlzLl9jaGlsZHJlbi5tYXAoKGYpID0+IGYudHlwZSkuam9pbihgLCBgKX0+YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBTdHJ1Y3QpID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnU3RydWN0JztcbiAgICB9KShTdHJ1Y3QucHJvdG90eXBlKTtcbn1cblxudHlwZSBVbmlvbnMgPSBUeXBlLlVuaW9uIHwgVHlwZS5EZW5zZVVuaW9uIHwgVHlwZS5TcGFyc2VVbmlvbjtcbmludGVyZmFjZSBVbmlvbl88VCBleHRlbmRzIFVuaW9ucyA9IFVuaW9ucz4gZXh0ZW5kcyBEYXRhVHlwZTxUPiB7IFRBcnJheTogSW50OEFycmF5OyBUVmFsdWU6IGFueVtdOyB9XG5jbGFzcyBVbmlvbl88VCBleHRlbmRzIFVuaW9ucyA9IFVuaW9ucz4gZXh0ZW5kcyBEYXRhVHlwZTxUPiB7XG4gICAgcHJvdGVjdGVkIF90eXBlSWRUb0NoaWxkSW5kZXg6IFJlY29yZDxUeXBlLCBudW1iZXI+O1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfbW9kZTogVW5pb25Nb2RlLFxuICAgICAgICAgICAgICAgIHByb3RlY3RlZCBfdHlwZUlkczogQXJyb3dUeXBlW10sXG4gICAgICAgICAgICAgICAgcHJvdGVjdGVkIF9jaGlsZHJlbjogRmllbGQ8YW55PltdKSB7XG4gICAgICAgIHN1cGVyKFR5cGUuVW5pb24gYXMgVCwgX2NoaWxkcmVuKTtcbiAgICAgICAgdGhpcy5fdHlwZUlkVG9DaGlsZEluZGV4ID0gKF90eXBlSWRzIHx8IFtdKS5yZWR1Y2UoKHR5cGVJZFRvQ2hpbGRJbmRleCwgdHlwZUlkLCBpZHgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAodHlwZUlkVG9DaGlsZEluZGV4W3R5cGVJZF0gPSBpZHgpICYmIHR5cGVJZFRvQ2hpbGRJbmRleCB8fCB0eXBlSWRUb0NoaWxkSW5kZXg7XG4gICAgICAgIH0sIE9iamVjdC5jcmVhdGUobnVsbCkgYXMgUmVjb3JkPFR5cGUsIG51bWJlcj4pO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IG1vZGUoKSB7IHJldHVybiB0aGlzLl9tb2RlOyB9XG4gICAgcHVibGljIGdldCB0eXBlSWRzKCkgeyByZXR1cm4gdGhpcy5fdHlwZUlkczsgfVxuICAgIHB1YmxpYyBnZXQgY2hpbGRyZW4oKSB7IHJldHVybiB0aGlzLl9jaGlsZHJlbjsgfVxuICAgIHB1YmxpYyBnZXQgdHlwZUlkVG9DaGlsZEluZGV4KCkgeyByZXR1cm4gdGhpcy5fdHlwZUlkVG9DaGlsZEluZGV4OyB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYCR7dGhpc1tTeW1ib2wudG9TdHJpbmdUYWddfTwke1xuICAgICAgICB0aGlzLl9jaGlsZHJlbi5tYXAoKHgpID0+IGAke3gudHlwZX1gKS5qb2luKGAgfCBgKVxuICAgIH0+YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBVbmlvbl8pID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBJbnQ4QXJyYXk7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ1VuaW9uJztcbiAgICB9KShVbmlvbl8ucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IHsgVW5pb25fIGFzIFVuaW9uIH07XG5cbmV4cG9ydCBjbGFzcyBEZW5zZVVuaW9uIGV4dGVuZHMgVW5pb25fPFR5cGUuRGVuc2VVbmlvbj4ge1xuICAgIGNvbnN0cnVjdG9yKHR5cGVJZHM6IEFycm93VHlwZVtdLCBjaGlsZHJlbjogRmllbGRbXSkge1xuICAgICAgICBzdXBlcihVbmlvbk1vZGUuRGVuc2UsIHR5cGVJZHMsIGNoaWxkcmVuKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTcGFyc2VVbmlvbiBleHRlbmRzIFVuaW9uXzxUeXBlLlNwYXJzZVVuaW9uPiB7XG4gICAgY29uc3RydWN0b3IodHlwZUlkczogQXJyb3dUeXBlW10sIGNoaWxkcmVuOiBGaWVsZFtdKSB7XG4gICAgICAgIHN1cGVyKFVuaW9uTW9kZS5TcGFyc2UsIHR5cGVJZHMsIGNoaWxkcmVuKTtcbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRml4ZWRTaXplQmluYXJ5IGV4dGVuZHMgRGF0YVR5cGU8VHlwZS5GaXhlZFNpemVCaW5hcnk+IHsgVEFycmF5OiBVaW50OEFycmF5OyBUVmFsdWU6IFVpbnQ4QXJyYXk7IEFycmF5VHlwZTogdHlwZW9mIFVpbnQ4QXJyYXk7IH1cbmV4cG9ydCBjbGFzcyBGaXhlZFNpemVCaW5hcnkgZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLkZpeGVkU2l6ZUJpbmFyeT4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfYnl0ZVdpZHRoOiBudW1iZXIpIHtcbiAgICAgICAgc3VwZXIoVHlwZS5GaXhlZFNpemVCaW5hcnkpO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IGJ5dGVXaWR0aCgpIHsgcmV0dXJuIHRoaXMuX2J5dGVXaWR0aDsgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpIHsgcmV0dXJuIGBGaXhlZFNpemVCaW5hcnlbJHt0aGlzLmJ5dGVXaWR0aH1dYDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBGaXhlZFNpemVCaW5hcnkpID0+IHtcbiAgICAgICAgKDxhbnk+IHByb3RvKS5BcnJheVR5cGUgPSBVaW50OEFycmF5O1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdGaXhlZFNpemVCaW5hcnknO1xuICAgIH0pKEZpeGVkU2l6ZUJpbmFyeS5wcm90b3R5cGUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZpeGVkU2l6ZUxpc3Q8VCBleHRlbmRzIERhdGFUeXBlID0gYW55PiBleHRlbmRzIERhdGFUeXBlPFR5cGUuRml4ZWRTaXplTGlzdD4geyBUQXJyYXk6IEl0ZXJhYmxlQXJyYXlMaWtlPFRbJ1RBcnJheSddPjsgVFZhbHVlOiBWVHlwZTxUPjsgfVxuZXhwb3J0IGNsYXNzIEZpeGVkU2l6ZUxpc3Q8VCBleHRlbmRzIERhdGFUeXBlID0gYW55PiBleHRlbmRzIERhdGFUeXBlPFR5cGUuRml4ZWRTaXplTGlzdCwgeyBbMF06IFQgfT4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfbGlzdFNpemU6IG51bWJlcixcbiAgICAgICAgICAgICAgICBwcm90ZWN0ZWQgX2NoaWxkcmVuOiBGaWVsZDxUPltdKSB7XG4gICAgICAgIHN1cGVyKFR5cGUuRml4ZWRTaXplTGlzdCwgX2NoaWxkcmVuKTtcbiAgICB9XG4gICAgcHVibGljIGdldCBsaXN0U2l6ZSgpIHsgcmV0dXJuIHRoaXMuX2xpc3RTaXplOyB9XG4gICAgcHVibGljIGdldCBjaGlsZHJlbigpIHsgcmV0dXJuIHRoaXMuX2NoaWxkcmVuOyB9XG4gICAgcHVibGljIGdldCB2YWx1ZVR5cGUoKTogVCB7IHJldHVybiB0aGlzLmNoaWxkcmVuWzBdLnR5cGUgYXMgVDsgfVxuICAgIHB1YmxpYyBnZXQgdmFsdWVGaWVsZCgpOiBGaWVsZDxUPiB7IHJldHVybiB0aGlzLmNoaWxkcmVuWzBdIGFzIEZpZWxkPFQ+OyB9XG4gICAgcHVibGljIGdldCBBcnJheVR5cGUoKTogVFsnQXJyYXlUeXBlJ10geyByZXR1cm4gdGhpcy52YWx1ZVR5cGUuQXJyYXlUeXBlOyB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYEZpeGVkU2l6ZUxpc3RbJHt0aGlzLl9saXN0U2l6ZX1dPCR7dGhpcy52YWx1ZVR5cGV9PmA7IH1cbiAgICBwcm90ZWN0ZWQgc3RhdGljIFtTeW1ib2wudG9TdHJpbmdUYWddID0gKChwcm90bzogRml4ZWRTaXplTGlzdCkgPT4ge1xuICAgICAgICByZXR1cm4gcHJvdG9bU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdGaXhlZFNpemVMaXN0JztcbiAgICB9KShGaXhlZFNpemVMaXN0LnByb3RvdHlwZSk7XG59XG5cbi8qIHRzbGludDpkaXNhYmxlOmNsYXNzLW5hbWUgKi9cbmV4cG9ydCBpbnRlcmZhY2UgTWFwXzxUIGV4dGVuZHMgeyBba2V5OiBzdHJpbmddOiBEYXRhVHlwZTsgfSA9IGFueT4gZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLk1hcD4geyBUQXJyYXk6IFVpbnQ4QXJyYXk7IFRWYWx1ZTogUm93TGlrZTxUPjsgZGF0YVR5cGVzOiBUOyB9XG5leHBvcnQgY2xhc3MgTWFwXzxUIGV4dGVuZHMgeyBba2V5OiBzdHJpbmddOiBEYXRhVHlwZTsgfSA9IGFueT4gZXh0ZW5kcyBEYXRhVHlwZTxUeXBlLk1hcCwgVD4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfY2hpbGRyZW46IEZpZWxkPFRba2V5b2YgVF0+W10sXG4gICAgICAgICAgICAgICAgcHJvdGVjdGVkIF9rZXlzU29ydGVkOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgc3VwZXIoVHlwZS5NYXAsIF9jaGlsZHJlbik7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgY2hpbGRyZW4oKSB7IHJldHVybiB0aGlzLl9jaGlsZHJlbjsgfVxuICAgIHB1YmxpYyBnZXQga2V5c1NvcnRlZCgpIHsgcmV0dXJuIHRoaXMuX2tleXNTb3J0ZWQ7IH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7IHJldHVybiBgTWFwPCR7dGhpcy5jaGlsZHJlbi5qb2luKGAsIGApfT5gOyB9XG4gICAgcHJvdGVjdGVkIHN0YXRpYyBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICgocHJvdG86IE1hcF8pID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3RvW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnTWFwXyc7XG4gICAgfSkoTWFwXy5wcm90b3R5cGUpO1xufVxuXG5jb25zdCBnZXRJZCA9ICgoYXRvbWljRGljdGlvbmFyeUlkKSA9PiAoKSA9PiArK2F0b21pY0RpY3Rpb25hcnlJZCkoLTEpO1xuXG5leHBvcnQgdHlwZSBUS2V5cyA9IEludDggfCBJbnQxNiB8IEludDMyIHwgVWludDggfCBVaW50MTYgfCBVaW50MzI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGljdGlvbmFyeTxUIGV4dGVuZHMgRGF0YVR5cGUgPSBhbnksIFRLZXkgZXh0ZW5kcyBUS2V5cyA9IFRLZXlzPiBleHRlbmRzIERhdGFUeXBlPFR5cGUuRGljdGlvbmFyeT4geyBUQXJyYXk6IFRLZXlbJ1RBcnJheSddOyBUVmFsdWU6IFRbJ1RWYWx1ZSddOyB9XG5leHBvcnQgY2xhc3MgRGljdGlvbmFyeTxUIGV4dGVuZHMgRGF0YVR5cGUgPSBhbnksIFRLZXkgZXh0ZW5kcyBUS2V5cyA9IFRLZXlzPiBleHRlbmRzIERhdGFUeXBlPFR5cGUuRGljdGlvbmFyeT4ge1xuICAgIHByb3RlY3RlZCBfaWQ6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgX2luZGljZXM6IFRLZXk7XG4gICAgcHJvdGVjdGVkIF9kaWN0aW9uYXJ5OiBUO1xuICAgIHByb3RlY3RlZCBfaXNPcmRlcmVkOiBib29sZWFuO1xuICAgIC8vIEB0cy1pZ25vcmU7XG4gICAgcHVibGljIGRpY3Rpb25hcnlWZWN0b3I6IFZlY3RvcjxUPjtcbiAgICBjb25zdHJ1Y3RvcihkaWN0aW9uYXJ5OiBULCBpbmRpY2VzOiBUS2V5LCBpZD86IExvbmcgfCBudW1iZXIgfCBudWxsLCBpc09yZGVyZWQ/OiBib29sZWFuIHwgbnVsbCwgZGljdGlvbmFyeVZlY3Rvcj86IFZlY3RvcjxUPikge1xuICAgICAgICBzdXBlcihUeXBlLkRpY3Rpb25hcnkpO1xuICAgICAgICB0aGlzLl9pbmRpY2VzID0gaW5kaWNlcztcbiAgICAgICAgdGhpcy5fZGljdGlvbmFyeSA9IGRpY3Rpb25hcnk7XG4gICAgICAgIHRoaXMuX2lzT3JkZXJlZCA9IGlzT3JkZXJlZCB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5kaWN0aW9uYXJ5VmVjdG9yID0gZGljdGlvbmFyeVZlY3RvciE7XG4gICAgICAgIHRoaXMuX2lkID0gaWQgPT0gbnVsbCA/IGdldElkKCkgOiB0eXBlb2YgaWQgPT09ICdudW1iZXInID8gaWQgOiBpZC5sb3c7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgaWQoKSB7IHJldHVybiB0aGlzLl9pZDsgfVxuICAgIHB1YmxpYyBnZXQgaW5kaWNlcygpIHsgcmV0dXJuIHRoaXMuX2luZGljZXM7IH1cbiAgICBwdWJsaWMgZ2V0IGRpY3Rpb25hcnkoKSB7IHJldHVybiB0aGlzLl9kaWN0aW9uYXJ5OyB9XG4gICAgcHVibGljIGdldCBpc09yZGVyZWQoKSB7IHJldHVybiB0aGlzLl9pc09yZGVyZWQ7IH1cbiAgICBwdWJsaWMgc2V0IGNoaWxkcmVuKF86IFRbJ2NoaWxkcmVuJ10pIHt9XG4gICAgcHVibGljIGdldCBjaGlsZHJlbigpIHsgcmV0dXJuIHRoaXMuZGljdGlvbmFyeS5jaGlsZHJlbjsgfVxuICAgIHB1YmxpYyBnZXQgdmFsdWVUeXBlKCk6IFQgeyByZXR1cm4gdGhpcy5kaWN0aW9uYXJ5IGFzIFQ7IH1cbiAgICBwdWJsaWMgZ2V0IEFycmF5VHlwZSgpOiBUWydBcnJheVR5cGUnXSB7IHJldHVybiB0aGlzLmRpY3Rpb25hcnkuQXJyYXlUeXBlOyB9XG4gICAgcHVibGljIHRvU3RyaW5nKCkgeyByZXR1cm4gYERpY3Rpb25hcnk8JHt0aGlzLmluZGljZXN9LCAke3RoaXMuZGljdGlvbmFyeX0+YDsgfVxuICAgIHByb3RlY3RlZCBzdGF0aWMgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAoKHByb3RvOiBEaWN0aW9uYXJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBwcm90b1tTeW1ib2wudG9TdHJpbmdUYWddID0gJ0RpY3Rpb25hcnknO1xuICAgIH0pKERpY3Rpb25hcnkucHJvdG90eXBlKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJdGVyYWJsZUFycmF5TGlrZTxUID0gYW55PiBleHRlbmRzIEFycmF5TGlrZTxUPiwgSXRlcmFibGU8VD4ge31cbmV4cG9ydCB0eXBlIEZsb2F0QXJyYXkgPSBVaW50MTZBcnJheSB8IEZsb2F0MzJBcnJheSB8IEZsb2F0NjRBcnJheTtcbmV4cG9ydCB0eXBlIEludEFycmF5ID0gSW50OEFycmF5IHwgSW50MTZBcnJheSB8IEludDMyQXJyYXkgfCBVaW50OEFycmF5IHwgVWludDE2QXJyYXkgfCBVaW50MzJBcnJheTtcbiJdfQ==
